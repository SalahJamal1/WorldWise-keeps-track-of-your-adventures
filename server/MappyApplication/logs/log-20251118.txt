2025-11-18 00:00:01.637 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 00:00:01.794 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:00:01.794 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 157.4459ms
2025-11-18 00:00:01.798 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 00:00:01.798 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:00:02.023 +03:00 [INF] Executed DbCommand (72ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:00:02.024 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 00:00:02.025 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 00:00:02.026 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 00:00:02.037 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:00:02.073 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 00:00:02.084 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 00:00:02.086 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 00:00:02.086 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 00:00:02.088 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 00:00:02.103 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 00:00:02.104 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 00:00:02.105 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 00:00:02.105 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 80.7594ms
2025-11-18 00:00:02.105 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 00:00:02.105 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 307.5044ms
2025-11-18 00:00:05.594 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 00:00:05.597 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:00:05.693 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:00:05.695 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 00:00:05.696 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 00:00:05.701 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 00:00:05.709 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:00:05.713 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 00:00:05.716 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 00:00:05.724 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 00:00:05.732 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 00:00:05.733 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 00:00:05.745 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 00:00:05.746 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 00:00:05.747 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 00:00:05.747 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 50.1723ms
2025-11-18 00:00:05.747 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 00:00:05.747 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 154.6319ms
2025-11-18 00:00:05.794 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 00:00:05.794 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:00:05.795 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.2577ms
2025-11-18 00:00:05.796 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 00:00:05.798 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:00:05.822 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:00:05.822 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:00:05.822 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:00:05.823 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:00:05.825 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 00:00:05.825 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 00:00:05.825 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 3.4502ms
2025-11-18 00:00:05.825 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:00:05.825 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 29.1173ms
2025-11-18 00:00:22.423 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 00:00:22.427 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:00:22.429 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 6.3163ms
2025-11-18 00:00:22.433 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 00:00:22.433 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:00:22.512 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:00:22.518 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 00:00:22.519 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 00:00:22.527 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 00:00:22.532 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:00:22.555 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 00:00:22.567 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 00:00:22.568 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 00:00:22.570 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 00:00:22.571 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 00:00:22.577 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 00:00:22.578 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 00:00:22.579 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 00:00:22.579 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 59.6621ms
2025-11-18 00:00:22.579 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 00:00:22.579 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 146.7002ms
2025-11-18 00:00:22.601 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 00:00:22.601 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:00:22.601 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.1314ms
2025-11-18 00:00:22.604 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 00:00:22.604 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:00:22.653 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:00:22.653 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:00:22.653 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:00:22.656 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:00:22.661 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 00:00:22.661 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 00:00:22.661 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 7.4353ms
2025-11-18 00:00:22.661 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:00:22.661 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 57.5951ms
2025-11-18 00:00:24.523 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 00:00:24.528 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:00:24.576 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:00:24.577 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 00:00:24.578 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 00:00:24.581 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 00:00:24.583 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:00:24.592 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 00:00:24.598 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 00:00:24.602 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 00:00:24.605 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 00:00:24.610 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 00:00:24.619 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 00:00:24.621 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 00:00:24.621 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 00:00:24.623 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 43.5042ms
2025-11-18 00:00:24.625 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 00:00:24.625 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 102.8453ms
2025-11-18 00:00:24.651 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 00:00:24.652 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:00:24.696 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:00:24.697 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:00:24.698 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:00:24.702 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:00:24.705 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 00:00:24.705 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 00:00:24.705 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 7.2885ms
2025-11-18 00:00:24.705 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:00:24.705 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 54.1677ms
2025-11-18 00:00:35.397 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 00:00:35.409 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:00:35.410 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 12.6594ms
2025-11-18 00:00:35.411 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 00:00:35.411 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:00:35.526 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:00:35.527 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 00:00:35.527 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 00:00:35.529 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 00:00:35.532 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:00:35.537 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 00:00:35.539 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 00:00:35.539 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 00:00:35.540 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 00:00:35.541 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 00:00:35.545 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 00:00:35.545 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 00:00:35.545 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 00:00:35.546 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 18.4677ms
2025-11-18 00:00:35.546 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 00:00:35.546 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 134.4263ms
2025-11-18 00:00:35.570 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 00:00:35.570 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:00:35.570 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.187ms
2025-11-18 00:00:35.571 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 00:00:35.571 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:00:35.590 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:00:35.590 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:00:35.590 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:00:35.591 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:00:35.593 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 00:00:35.593 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 00:00:35.593 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.7927ms
2025-11-18 00:00:35.593 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:00:35.593 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 22.7063ms
2025-11-18 00:00:52.363 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 00:00:52.372 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:00:52.373 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 10.3956ms
2025-11-18 00:00:52.375 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 00:00:52.375 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:00:52.429 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:00:52.430 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 00:00:52.430 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 00:00:52.434 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 00:00:52.437 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:00:52.442 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 00:00:52.460 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 00:00:52.466 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 00:00:52.470 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 00:00:52.471 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 00:00:52.476 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 00:00:52.477 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 00:00:52.477 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 00:00:52.477 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 47.1695ms
2025-11-18 00:00:52.477 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 00:00:52.477 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 102.4981ms
2025-11-18 00:00:52.500 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 00:00:52.500 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:00:52.500 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.3775ms
2025-11-18 00:00:52.503 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 00:00:52.503 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:00:52.527 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:00:52.527 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:00:52.527 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:00:52.528 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:00:52.529 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 00:00:52.529 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 00:00:52.529 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.9955ms
2025-11-18 00:00:52.529 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:00:52.529 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 26.068ms
2025-11-18 00:01:03.175 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 00:01:03.186 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:01:03.228 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 55.4652ms
2025-11-18 00:01:03.233 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 00:01:03.234 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:01:03.279 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:01:03.280 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 00:01:03.280 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 00:01:03.285 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 00:01:03.292 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:01:03.302 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 00:01:03.305 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 00:01:03.312 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 00:01:03.314 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 00:01:03.318 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 00:01:03.323 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 00:01:03.325 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 00:01:03.325 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 00:01:03.325 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 44.3582ms
2025-11-18 00:01:03.325 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 00:01:03.326 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 92.9017ms
2025-11-18 00:01:03.346 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 00:01:03.347 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:01:03.347 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.1844ms
2025-11-18 00:01:03.348 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 00:01:03.348 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:01:03.375 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:01:03.375 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:01:03.375 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:01:03.376 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:01:03.377 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 00:01:03.377 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 00:01:03.377 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.1751ms
2025-11-18 00:01:03.377 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:01:03.377 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 29.1817ms
2025-11-18 00:01:14.647 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 00:01:14.648 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:01:14.649 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 2.2362ms
2025-11-18 00:01:14.651 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/cities - application/json 206
2025-11-18 00:01:14.651 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:01:14.680 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:01:14.681 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication)'
2025-11-18 00:01:14.681 +03:00 [INF] Route matched with {action = "AddAsynch", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAsynch(MappyApplication.Data.Cities) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:01:14.686 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 00:01:14.686 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:01:14.698 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:01:14.708 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Double), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Cities` (`CityName`, `Country`, `Date`, `Emoji`, `Lat`, `Lng`, `Notes`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `Cities`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 00:01:14.709 +03:00 [INF] Added Cities MappyApplication.Data.Cities
2025-11-18 00:01:14.709 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 00:01:14.709 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication) in 27.901ms
2025-11-18 00:01:14.709 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication)'
2025-11-18 00:01:14.710 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 58.8265ms
2025-11-18 00:01:14.723 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:01:14.724 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:01:14.724 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:01:14.725 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:01:14.727 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 00:01:14.727 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 00:01:14.727 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 3.6025ms
2025-11-18 00:01:14.727 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:01:14.728 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 41.8497ms
2025-11-18 00:01:16.162 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/52 - null null
2025-11-18 00:01:16.163 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:01:16.163 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/52 - 204 null null 0.7554ms
2025-11-18 00:01:16.168 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:8080/api/v1/cities/52 - null null
2025-11-18 00:01:16.170 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:01:16.200 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:01:16.200 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication)'
2025-11-18 00:01:16.201 +03:00 [INF] Route matched with {action = "DeleteById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:01:16.204 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:01:16.210 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
DELETE FROM `Cities`
WHERE `Id` = @p0;
SELECT ROW_COUNT();
2025-11-18 00:01:16.210 +03:00 [INF] Deleted Cities MappyApplication.Data.Cities
2025-11-18 00:01:16.210 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 00:01:16.211 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication) in 9.6345ms
2025-11-18 00:01:16.211 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication)'
2025-11-18 00:01:16.211 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:8080/api/v1/cities/52 - 200 null application/json; charset=utf-8 43.2031ms
2025-11-18 00:01:16.215 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 00:01:16.215 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:01:16.231 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:01:16.231 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:01:16.231 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:01:16.232 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:01:16.233 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 00:01:16.233 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 00:01:16.233 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.3361ms
2025-11-18 00:01:16.233 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:01:16.234 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 18.2042ms
2025-11-18 00:01:39.654 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/logout - null null
2025-11-18 00:01:39.656 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:01:39.656 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/logout - 204 null null 2.1586ms
2025-11-18 00:01:39.658 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/auth/logout - null null
2025-11-18 00:01:39.660 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:01:39.687 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:01:39.692 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.Logout (MappyApplication)'
2025-11-18 00:01:39.726 +03:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 00:01:39.736 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 00:01:39.739 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 00:01:39.752 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 00:01:39.752 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.Logout (MappyApplication) in 26.652ms
2025-11-18 00:01:39.752 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.Logout (MappyApplication)'
2025-11-18 00:01:39.752 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/auth/logout - 200 null application/json; charset=utf-8 94.0556ms
2025-11-18 00:01:45.577 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/login - null null
2025-11-18 00:01:45.579 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:01:45.580 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/login - 204 null null 3.4811ms
2025-11-18 00:01:45.582 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/login - application/json 51
2025-11-18 00:01:45.582 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:01:45.594 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.Login (MappyApplication)'
2025-11-18 00:01:45.606 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] Login(MappyApplication.Models.user.AuthLogin) on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 00:01:45.713 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`NormalizedEmail` = @__normalizedEmail_0
LIMIT 2
2025-11-18 00:01:45.763 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 00:01:45.765 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 00:01:45.766 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 00:01:45.767 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 00:01:45.767 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 00:01:45.770 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 00:01:45.771 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 00:01:45.771 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 00:01:45.772 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.Login (MappyApplication) in 165.6085ms
2025-11-18 00:01:45.772 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.Login (MappyApplication)'
2025-11-18 00:01:45.772 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/login - 200 null application/json; charset=utf-8 189.6372ms
2025-11-18 00:01:45.936 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 00:01:45.936 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:01:45.936 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.3099ms
2025-11-18 00:01:45.937 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 00:01:45.938 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:01:45.952 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:01:45.952 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:01:45.953 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:01:45.954 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:01:45.955 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 00:01:45.955 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 00:01:45.955 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.1743ms
2025-11-18 00:01:45.955 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:01:45.955 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 17.6452ms
2025-11-18 00:01:49.562 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 00:01:49.563 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:01:49.563 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 0.7205ms
2025-11-18 00:01:49.565 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 00:01:49.565 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:01:49.583 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:01:49.583 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 00:01:49.583 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 00:01:49.585 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 00:01:49.587 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:01:49.590 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 00:01:49.592 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 00:01:49.592 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 00:01:49.594 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 00:01:49.594 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 00:01:49.596 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 00:01:49.597 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 00:01:49.597 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 00:01:49.597 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 13.8301ms
2025-11-18 00:01:49.597 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 00:01:49.597 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 32.1332ms
2025-11-18 00:01:49.611 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 00:01:49.611 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:01:49.628 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:01:49.629 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:01:49.629 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:01:49.631 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:01:49.631 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 00:01:49.631 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 00:01:49.632 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.6356ms
2025-11-18 00:01:49.632 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:01:49.632 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 20.6284ms
2025-11-18 00:01:50.158 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 00:01:50.165 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:01:50.183 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:01:50.183 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 00:01:50.184 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 00:01:50.185 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 00:01:50.186 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:01:50.188 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 00:01:50.189 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 00:01:50.190 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 00:01:50.190 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 00:01:50.191 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 00:01:50.195 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 00:01:50.195 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 00:01:50.195 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 00:01:50.195 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 11.5388ms
2025-11-18 00:01:50.195 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 00:01:50.195 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 37.2848ms
2025-11-18 00:01:50.204 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 00:01:50.205 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:01:50.220 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:01:50.220 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:01:50.220 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:01:50.221 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:01:50.221 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 00:01:50.221 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 00:01:50.221 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.4559ms
2025-11-18 00:01:50.221 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:01:50.221 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 17.3543ms
2025-11-18 00:01:51.524 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 00:01:51.524 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:01:51.524 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 0.309ms
2025-11-18 00:01:51.539 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 00:01:51.539 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:01:51.558 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:01:51.558 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 00:01:51.558 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 00:01:51.559 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:01:51.561 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 00:01:51.561 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 00:01:51.561 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 3.4754ms
2025-11-18 00:01:51.562 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 00:01:51.562 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 23.4432ms
2025-11-18 00:01:53.134 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 00:01:53.135 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:01:53.153 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:01:53.153 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 00:01:53.153 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 00:01:53.154 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 00:01:53.155 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:01:53.158 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 00:01:53.159 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 00:01:53.160 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 00:01:53.160 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 00:01:53.161 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 00:01:53.168 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 00:01:53.180 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 00:01:53.180 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 00:01:53.180 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 27.4308ms
2025-11-18 00:01:53.180 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 00:01:53.180 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 45.8145ms
2025-11-18 00:01:53.214 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 00:01:53.215 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:01:53.237 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:01:53.237 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 00:01:53.237 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 00:01:53.238 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:01:53.239 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 00:01:53.240 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 00:01:53.240 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 3.2926ms
2025-11-18 00:01:53.240 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 00:01:53.240 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 25.7465ms
2025-11-18 00:01:54.820 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts/9373 - null null
2025-11-18 00:01:54.820 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:01:54.820 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts/9373 - 204 null null 0.2925ms
2025-11-18 00:01:54.821 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:8080/api/v1/workouts/9373 - null null
2025-11-18 00:01:54.822 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:01:54.847 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:01:54.847 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.DeleteById (MappyApplication)'
2025-11-18 00:01:54.847 +03:00 [INF] Route matched with {action = "DeleteById", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteById(Int32) on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 00:01:54.850 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:01:54.858 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
DELETE FROM `Workouts`
WHERE `Id` = @p0;
SELECT ROW_COUNT();
2025-11-18 00:01:54.858 +03:00 [INF] Deleted Workouts MappyApplication.Data.Workouts
2025-11-18 00:01:54.859 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 00:01:54.860 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.DeleteById (MappyApplication) in 12.3204ms
2025-11-18 00:01:54.860 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.DeleteById (MappyApplication)'
2025-11-18 00:01:54.860 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:8080/api/v1/workouts/9373 - 200 null application/json; charset=utf-8 38.977ms
2025-11-18 00:01:54.900 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 00:01:54.901 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:01:54.923 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:01:54.923 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 00:01:54.923 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 00:01:54.924 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:01:54.925 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 00:01:54.926 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 00:01:54.926 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 2.9243ms
2025-11-18 00:01:54.926 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 00:01:54.926 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 25.6395ms
2025-11-18 00:01:55.645 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts/9374 - null null
2025-11-18 00:01:55.646 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:01:55.647 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts/9374 - 204 null null 1.5922ms
2025-11-18 00:01:55.653 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:8080/api/v1/workouts/9374 - null null
2025-11-18 00:01:55.653 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:01:55.675 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:01:55.676 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.DeleteById (MappyApplication)'
2025-11-18 00:01:55.677 +03:00 [INF] Route matched with {action = "DeleteById", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteById(Int32) on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 00:01:55.678 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:01:55.686 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
DELETE FROM `Workouts`
WHERE `Id` = @p0;
SELECT ROW_COUNT();
2025-11-18 00:01:55.687 +03:00 [INF] Deleted Workouts MappyApplication.Data.Workouts
2025-11-18 00:01:55.687 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 00:01:55.687 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.DeleteById (MappyApplication) in 10.5557ms
2025-11-18 00:01:55.687 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.DeleteById (MappyApplication)'
2025-11-18 00:01:55.688 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:8080/api/v1/workouts/9374 - 200 null application/json; charset=utf-8 34.824ms
2025-11-18 00:01:55.708 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 00:01:55.708 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:01:55.733 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:01:55.734 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 00:01:55.734 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 00:01:55.735 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:01:55.735 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 00:01:55.736 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 00:01:55.736 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 1.8688ms
2025-11-18 00:01:55.736 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 00:01:55.736 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 27.6273ms
2025-11-18 00:01:58.671 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/logout - null null
2025-11-18 00:01:58.671 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:01:58.671 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/logout - 204 null null 0.1975ms
2025-11-18 00:01:58.673 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/auth/logout - null null
2025-11-18 00:01:58.673 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:01:58.694 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:01:58.694 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.Logout (MappyApplication)'
2025-11-18 00:01:58.694 +03:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 00:01:58.696 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 00:01:58.699 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 00:01:58.699 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 00:01:58.699 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.Logout (MappyApplication) in 5.388ms
2025-11-18 00:01:58.699 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.Logout (MappyApplication)'
2025-11-18 00:01:58.700 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/auth/logout - 200 null application/json; charset=utf-8 26.6309ms
2025-11-18 00:02:08.130 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/login - null null
2025-11-18 00:02:08.132 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:02:08.133 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/login - 204 null null 3.1086ms
2025-11-18 00:02:08.134 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/login - application/json 51
2025-11-18 00:02:08.135 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:02:08.136 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.Login (MappyApplication)'
2025-11-18 00:02:08.136 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] Login(MappyApplication.Models.user.AuthLogin) on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 00:02:08.165 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`NormalizedEmail` = @__normalizedEmail_0
LIMIT 2
2025-11-18 00:02:08.220 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 00:02:08.222 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 00:02:08.223 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 00:02:08.224 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 00:02:08.225 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 00:02:08.226 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 00:02:08.227 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 00:02:08.227 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 00:02:08.227 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.Login (MappyApplication) in 90.6835ms
2025-11-18 00:02:08.227 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.Login (MappyApplication)'
2025-11-18 00:02:08.227 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/login - 200 null application/json; charset=utf-8 92.3874ms
2025-11-18 00:02:08.305 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 00:02:08.305 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:02:08.305 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.1401ms
2025-11-18 00:02:08.306 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 00:02:08.306 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:02:08.321 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:02:08.321 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:02:08.321 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:02:08.325 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:02:08.329 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 00:02:08.330 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 00:02:08.330 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 8.4033ms
2025-11-18 00:02:08.330 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:02:08.330 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 23.9771ms
2025-11-18 00:02:14.885 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 00:02:14.885 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:02:14.886 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 1.0866ms
2025-11-18 00:02:14.888 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/cities - application/json 193
2025-11-18 00:02:14.889 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:02:14.912 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:02:14.913 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication)'
2025-11-18 00:02:14.913 +03:00 [INF] Route matched with {action = "AddAsynch", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAsynch(MappyApplication.Data.Cities) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:02:14.920 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:02:14.923 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 00:02:14.923 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:02:14.927 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Double), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Cities` (`CityName`, `Country`, `Date`, `Emoji`, `Lat`, `Lng`, `Notes`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `Cities`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 00:02:14.928 +03:00 [INF] Added Cities MappyApplication.Data.Cities
2025-11-18 00:02:14.928 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 00:02:14.929 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication) in 15.2796ms
2025-11-18 00:02:14.929 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication)'
2025-11-18 00:02:14.929 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 40.4173ms
2025-11-18 00:02:14.941 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:02:14.941 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:02:14.941 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:02:14.942 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:02:14.943 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 00:02:14.943 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 00:02:14.944 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.7413ms
2025-11-18 00:02:14.944 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:02:14.944 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 20.6573ms
2025-11-18 00:02:17.148 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/53 - null null
2025-11-18 00:02:17.148 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/53 - null null
2025-11-18 00:02:17.151 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:02:17.151 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:02:17.152 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/53 - 204 null null 4.4998ms
2025-11-18 00:02:17.152 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/53 - 204 null null 4.536ms
2025-11-18 00:02:17.157 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities/53 - null null
2025-11-18 00:02:17.157 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:02:17.176 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:02:17.177 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 00:02:17.181 +03:00 [INF] Route matched with {action = "GetById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.cities.CitiesDto] GetById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:02:17.186 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:02:17.195 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.cities.CitiesDto'.
2025-11-18 00:02:17.195 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetById (MappyApplication) in 13.9053ms
2025-11-18 00:02:17.196 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 00:02:17.196 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities/53 - 200 null application/json; charset=utf-8 39.051ms
2025-11-18 00:02:17.196 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities/53 - null null
2025-11-18 00:02:17.196 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:02:17.210 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:02:17.210 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 00:02:17.211 +03:00 [INF] Route matched with {action = "GetById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.cities.CitiesDto] GetById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:02:17.213 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:02:17.213 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.cities.CitiesDto'.
2025-11-18 00:02:17.213 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetById (MappyApplication) in 2.1609ms
2025-11-18 00:02:17.213 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 00:02:17.214 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities/53 - 200 null application/json; charset=utf-8 17.5946ms
2025-11-18 00:02:19.165 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 00:02:19.165 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:02:19.200 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:02:19.201 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:02:19.202 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:02:19.204 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:02:19.206 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 00:02:19.206 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 00:02:19.206 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 3.901ms
2025-11-18 00:02:19.206 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:02:19.206 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 41.6738ms
2025-11-18 00:02:20.266 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities/53 - null null
2025-11-18 00:02:20.266 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:02:20.286 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:02:20.286 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 00:02:20.286 +03:00 [INF] Route matched with {action = "GetById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.cities.CitiesDto] GetById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:02:20.287 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:02:20.287 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.cities.CitiesDto'.
2025-11-18 00:02:20.287 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetById (MappyApplication) in 0.9209ms
2025-11-18 00:02:20.287 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 00:02:20.288 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities/53 - 200 null application/json; charset=utf-8 22.1722ms
2025-11-18 00:02:20.288 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities/53 - null null
2025-11-18 00:02:20.288 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:02:20.310 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:02:20.310 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 00:02:20.311 +03:00 [INF] Route matched with {action = "GetById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.cities.CitiesDto] GetById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:02:20.312 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:02:20.312 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.cities.CitiesDto'.
2025-11-18 00:02:20.312 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetById (MappyApplication) in 1.3356ms
2025-11-18 00:02:20.312 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 00:02:20.312 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities/53 - 200 null application/json; charset=utf-8 23.604ms
2025-11-18 00:02:31.259 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 00:02:31.260 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:02:31.261 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 2.1132ms
2025-11-18 00:02:31.262 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 00:02:31.263 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:02:31.319 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:02:31.320 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:02:31.320 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:02:31.324 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:02:31.326 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 00:02:31.327 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 00:02:31.327 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 6.7924ms
2025-11-18 00:02:31.327 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:02:31.328 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 65.8481ms
2025-11-18 00:02:33.009 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/53 - null null
2025-11-18 00:02:33.010 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:02:33.010 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/53 - null null
2025-11-18 00:02:33.010 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/53 - 204 null null 0.686ms
2025-11-18 00:02:33.010 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:02:33.010 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/53 - 204 null null 0.0689ms
2025-11-18 00:02:33.012 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities/53 - null null
2025-11-18 00:02:33.012 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:02:33.036 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:02:33.036 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 00:02:33.037 +03:00 [INF] Route matched with {action = "GetById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.cities.CitiesDto] GetById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:02:33.041 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:02:33.041 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.cities.CitiesDto'.
2025-11-18 00:02:33.041 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetById (MappyApplication) in 4.3678ms
2025-11-18 00:02:33.041 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 00:02:33.041 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities/53 - 200 null application/json; charset=utf-8 29.1606ms
2025-11-18 00:02:33.043 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities/53 - null null
2025-11-18 00:02:33.043 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:02:33.061 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:02:33.062 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 00:02:33.062 +03:00 [INF] Route matched with {action = "GetById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.cities.CitiesDto] GetById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:02:33.063 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:02:33.063 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.cities.CitiesDto'.
2025-11-18 00:02:33.063 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetById (MappyApplication) in 1.2737ms
2025-11-18 00:02:33.063 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 00:02:33.063 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities/53 - 200 null application/json; charset=utf-8 20.2122ms
2025-11-18 00:03:07.907 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 00:03:07.913 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:03:07.918 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 16.2138ms
2025-11-18 00:03:07.922 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 00:03:07.933 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:03:08.140 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:03:08.143 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 00:03:08.143 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 00:03:08.147 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 00:03:08.174 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:03:08.193 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 00:03:08.199 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 00:03:08.200 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 00:03:08.201 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 00:03:08.202 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 00:03:08.211 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 00:03:08.213 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 00:03:08.214 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 00:03:08.214 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 70.588ms
2025-11-18 00:03:08.214 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 00:03:08.214 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 291.5843ms
2025-11-18 00:03:08.269 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/53 - null null
2025-11-18 00:03:08.273 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:03:08.273 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/53 - null null
2025-11-18 00:03:08.273 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/53 - 204 null null 4.6977ms
2025-11-18 00:03:08.273 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:03:08.274 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/53 - 204 null null 0.5779ms
2025-11-18 00:03:08.280 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities/53 - null null
2025-11-18 00:03:08.283 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:03:08.339 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:03:08.340 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 00:03:08.341 +03:00 [INF] Route matched with {action = "GetById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.cities.CitiesDto] GetById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:03:08.347 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:03:08.348 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.cities.CitiesDto'.
2025-11-18 00:03:08.348 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetById (MappyApplication) in 7.1926ms
2025-11-18 00:03:08.348 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 00:03:08.348 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities/53 - 200 null application/json; charset=utf-8 67.949ms
2025-11-18 00:03:08.349 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities/53 - null null
2025-11-18 00:03:08.349 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:03:08.380 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:03:08.380 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 00:03:08.380 +03:00 [INF] Route matched with {action = "GetById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.cities.CitiesDto] GetById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:03:08.382 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:03:08.383 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.cities.CitiesDto'.
2025-11-18 00:03:08.384 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetById (MappyApplication) in 3.689ms
2025-11-18 00:03:08.385 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 00:03:08.385 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities/53 - 200 null application/json; charset=utf-8 35.884ms
2025-11-18 00:03:10.343 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 00:03:10.351 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:03:10.414 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:03:10.415 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 00:03:10.418 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 00:03:10.420 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 00:03:10.431 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:03:10.440 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 00:03:10.443 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 00:03:10.445 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 00:03:10.448 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 00:03:10.450 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 00:03:10.453 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 00:03:10.454 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 00:03:10.454 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 00:03:10.454 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 36.6912ms
2025-11-18 00:03:10.454 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 00:03:10.454 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 112.0625ms
2025-11-18 00:03:10.485 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities/53 - null null
2025-11-18 00:03:10.487 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:03:10.521 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:03:10.521 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 00:03:10.521 +03:00 [INF] Route matched with {action = "GetById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.cities.CitiesDto] GetById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:03:10.524 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:03:10.525 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.cities.CitiesDto'.
2025-11-18 00:03:10.525 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetById (MappyApplication) in 3.5357ms
2025-11-18 00:03:10.525 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 00:03:10.525 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities/53 - 200 null application/json; charset=utf-8 39.9799ms
2025-11-18 00:03:10.526 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities/53 - null null
2025-11-18 00:03:10.526 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:03:10.540 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:03:10.540 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 00:03:10.540 +03:00 [INF] Route matched with {action = "GetById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.cities.CitiesDto] GetById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:03:10.541 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:03:10.541 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.cities.CitiesDto'.
2025-11-18 00:03:10.541 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetById (MappyApplication) in 1.5087ms
2025-11-18 00:03:10.541 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 00:03:10.541 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities/53 - 200 null application/json; charset=utf-8 15.4983ms
2025-11-18 00:03:48.198 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/53 - null null
2025-11-18 00:03:48.198 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/53 - null null
2025-11-18 00:03:48.200 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:03:48.200 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:03:48.200 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/53 - 204 null null 2.1267ms
2025-11-18 00:03:48.200 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/53 - 204 null null 2.4587ms
2025-11-18 00:03:48.203 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities/53 - null null
2025-11-18 00:03:48.204 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:03:48.229 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:03:48.230 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 00:03:48.230 +03:00 [INF] Route matched with {action = "GetById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.cities.CitiesDto] GetById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:03:48.233 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:03:48.233 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.cities.CitiesDto'.
2025-11-18 00:03:48.233 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetById (MappyApplication) in 3.355ms
2025-11-18 00:03:48.233 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 00:03:48.233 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities/53 - 200 null application/json; charset=utf-8 30.3638ms
2025-11-18 00:03:48.234 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities/53 - null null
2025-11-18 00:03:48.234 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:03:48.254 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:03:48.254 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 00:03:48.254 +03:00 [INF] Route matched with {action = "GetById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.cities.CitiesDto] GetById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:03:48.257 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:03:48.257 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.cities.CitiesDto'.
2025-11-18 00:03:48.257 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetById (MappyApplication) in 2.436ms
2025-11-18 00:03:48.257 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 00:03:48.257 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities/53 - 200 null application/json; charset=utf-8 22.5986ms
2025-11-18 00:04:01.540 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/53 - null null
2025-11-18 00:04:01.543 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:04:01.543 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/53 - 204 null null 3.6944ms
2025-11-18 00:04:01.547 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities/53 - null null
2025-11-18 00:04:01.549 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:04:01.579 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:04:01.580 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 00:04:01.581 +03:00 [INF] Route matched with {action = "GetById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.cities.CitiesDto] GetById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:04:01.583 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:04:01.585 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.cities.CitiesDto'.
2025-11-18 00:04:01.586 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetById (MappyApplication) in 5.1662ms
2025-11-18 00:04:01.586 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 00:04:01.586 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities/53 - 200 null application/json; charset=utf-8 39.4279ms
2025-11-18 00:04:08.339 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 00:04:08.340 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:04:08.340 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 1.9123ms
2025-11-18 00:04:08.341 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 00:04:08.341 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:04:08.403 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:04:08.406 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:04:08.407 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:04:08.412 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:04:08.417 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 00:04:08.418 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 00:04:08.418 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 11.261ms
2025-11-18 00:04:08.418 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:04:08.418 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 76.7349ms
2025-11-18 00:04:09.683 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/53 - null null
2025-11-18 00:04:09.684 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:04:09.685 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/53 - 204 null null 2.0663ms
2025-11-18 00:04:09.694 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities/53 - null null
2025-11-18 00:04:09.694 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:04:09.709 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:04:09.709 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 00:04:09.709 +03:00 [INF] Route matched with {action = "GetById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.cities.CitiesDto] GetById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:04:09.710 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:04:09.710 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.cities.CitiesDto'.
2025-11-18 00:04:09.710 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetById (MappyApplication) in 1.2002ms
2025-11-18 00:04:09.710 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 00:04:09.710 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities/53 - 200 null application/json; charset=utf-8 16.0718ms
2025-11-18 00:04:24.642 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 00:04:24.642 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:04:24.643 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 1.1099ms
2025-11-18 00:04:24.650 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 00:04:24.650 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:04:24.678 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:04:24.678 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:04:24.678 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:04:24.680 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:04:24.681 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 00:04:24.682 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 00:04:24.682 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 3.2502ms
2025-11-18 00:04:24.682 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:04:24.682 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 32.2157ms
2025-11-18 00:04:26.569 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 00:04:26.569 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:04:26.569 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 0.4414ms
2025-11-18 00:04:26.570 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 00:04:26.570 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:04:26.592 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:04:26.592 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 00:04:26.592 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 00:04:26.594 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 00:04:26.596 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:04:26.600 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 00:04:26.601 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 00:04:26.609 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 00:04:26.612 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 00:04:26.614 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 00:04:26.626 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 00:04:26.638 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 00:04:26.638 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 00:04:26.638 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 45.9182ms
2025-11-18 00:04:26.638 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 00:04:26.638 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 67.8213ms
2025-11-18 00:04:26.662 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 00:04:26.662 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:04:26.679 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:04:26.679 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:04:26.679 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:04:26.681 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:04:26.682 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 00:04:26.683 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 00:04:26.683 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 3.7654ms
2025-11-18 00:04:26.683 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:04:26.683 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 21.2118ms
2025-11-18 00:04:28.499 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/53 - null null
2025-11-18 00:04:28.504 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:04:28.504 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/53 - 204 null null 4.8226ms
2025-11-18 00:04:28.508 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities/53 - null null
2025-11-18 00:04:28.508 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:04:28.530 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:04:28.530 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 00:04:28.531 +03:00 [INF] Route matched with {action = "GetById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.cities.CitiesDto] GetById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:04:28.533 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:04:28.533 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.cities.CitiesDto'.
2025-11-18 00:04:28.533 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetById (MappyApplication) in 2.7154ms
2025-11-18 00:04:28.533 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 00:04:28.533 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities/53 - 200 null application/json; charset=utf-8 25.4608ms
2025-11-18 00:04:33.068 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 00:04:33.068 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:04:33.068 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.3502ms
2025-11-18 00:04:33.072 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 00:04:33.073 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:04:33.101 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:04:33.101 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:04:33.101 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:04:33.104 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:04:33.106 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 00:04:33.107 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 00:04:33.107 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 5.5922ms
2025-11-18 00:04:33.107 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:04:33.107 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 34.4524ms
2025-11-18 00:04:34.437 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/53 - null null
2025-11-18 00:04:34.438 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:04:34.438 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/53 - 204 null null 0.9812ms
2025-11-18 00:04:34.442 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities/53 - null null
2025-11-18 00:04:34.442 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:04:34.458 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:04:34.459 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 00:04:34.459 +03:00 [INF] Route matched with {action = "GetById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.cities.CitiesDto] GetById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:04:34.463 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:04:34.463 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.cities.CitiesDto'.
2025-11-18 00:04:34.463 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetById (MappyApplication) in 4.6479ms
2025-11-18 00:04:34.463 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 00:04:34.463 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities/53 - 200 null application/json; charset=utf-8 21.1635ms
2025-11-18 00:04:36.371 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 00:04:36.371 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:04:36.405 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:04:36.406 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:04:36.406 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:04:36.408 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:04:36.413 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 00:04:36.413 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 00:04:36.413 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 6.6714ms
2025-11-18 00:04:36.413 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:04:36.413 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 41.8338ms
2025-11-18 00:04:38.268 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities/53 - null null
2025-11-18 00:04:38.269 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:04:38.288 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:04:38.288 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 00:04:38.288 +03:00 [INF] Route matched with {action = "GetById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.cities.CitiesDto] GetById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:04:38.290 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:04:38.290 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.cities.CitiesDto'.
2025-11-18 00:04:38.290 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetById (MappyApplication) in 1.5831ms
2025-11-18 00:04:38.290 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 00:04:38.290 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities/53 - 200 null application/json; charset=utf-8 22.0369ms
2025-11-18 00:04:40.106 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 00:04:40.106 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:04:40.106 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.3586ms
2025-11-18 00:04:40.108 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 00:04:40.108 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:04:40.123 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:04:40.124 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:04:40.124 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:04:40.125 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:04:40.125 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 00:04:40.125 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 00:04:40.125 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.7004ms
2025-11-18 00:04:40.125 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:04:40.126 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 17.8357ms
2025-11-18 00:04:47.445 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/53 - null null
2025-11-18 00:04:47.445 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/53 - null null
2025-11-18 00:04:47.447 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:04:47.447 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:04:47.447 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/53 - 204 null null 3.374ms
2025-11-18 00:04:47.447 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/53 - 204 null null 2.9636ms
2025-11-18 00:04:47.454 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities/53 - null null
2025-11-18 00:04:47.455 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:04:47.485 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:04:47.485 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 00:04:47.486 +03:00 [INF] Route matched with {action = "GetById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.cities.CitiesDto] GetById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:04:47.488 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:04:47.488 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.cities.CitiesDto'.
2025-11-18 00:04:47.488 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetById (MappyApplication) in 2.3753ms
2025-11-18 00:04:47.488 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 00:04:47.488 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities/53 - 200 null application/json; charset=utf-8 33.5921ms
2025-11-18 00:04:47.489 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities/53 - null null
2025-11-18 00:04:47.489 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:04:47.500 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:04:47.500 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 00:04:47.500 +03:00 [INF] Route matched with {action = "GetById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.cities.CitiesDto] GetById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:04:47.501 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:04:47.501 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.cities.CitiesDto'.
2025-11-18 00:04:47.501 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetById (MappyApplication) in 0.7512ms
2025-11-18 00:04:47.501 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 00:04:47.501 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities/53 - 200 null application/json; charset=utf-8 11.8922ms
2025-11-18 00:04:54.726 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 00:04:54.733 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:04:54.734 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 8.0027ms
2025-11-18 00:04:54.738 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 00:04:54.738 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:04:54.778 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:04:54.778 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:04:54.778 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:04:54.780 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:04:54.781 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 00:04:54.781 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 00:04:54.782 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 3.4658ms
2025-11-18 00:04:54.782 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:04:54.782 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 44.0874ms
2025-11-18 00:04:56.388 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/53 - null null
2025-11-18 00:04:56.389 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:04:56.389 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/53 - 204 null null 1.0962ms
2025-11-18 00:04:56.392 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities/53 - null null
2025-11-18 00:04:56.392 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:04:56.423 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:04:56.423 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 00:04:56.423 +03:00 [INF] Route matched with {action = "GetById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.cities.CitiesDto] GetById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:04:56.426 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:04:56.426 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.cities.CitiesDto'.
2025-11-18 00:04:56.426 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetById (MappyApplication) in 3.1392ms
2025-11-18 00:04:56.426 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 00:04:56.426 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities/53 - 200 null application/json; charset=utf-8 34.0364ms
2025-11-18 00:05:00.583 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/logout - null null
2025-11-18 00:05:00.583 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:05:00.583 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/logout - 204 null null 0.6532ms
2025-11-18 00:05:00.586 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/auth/logout - null null
2025-11-18 00:05:00.586 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:05:00.608 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:05:00.609 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.Logout (MappyApplication)'
2025-11-18 00:05:00.609 +03:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 00:05:00.611 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 00:05:00.617 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 00:05:00.618 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 00:05:00.618 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.Logout (MappyApplication) in 8.7765ms
2025-11-18 00:05:00.618 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.Logout (MappyApplication)'
2025-11-18 00:05:00.618 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/auth/logout - 200 null application/json; charset=utf-8 31.7208ms
2025-11-18 00:05:27.020 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/login - null null
2025-11-18 00:05:27.022 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:05:27.022 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/login - 204 null null 2.8298ms
2025-11-18 00:05:27.024 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/login - application/json 51
2025-11-18 00:05:27.024 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:05:27.025 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.Login (MappyApplication)'
2025-11-18 00:05:27.026 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] Login(MappyApplication.Models.user.AuthLogin) on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 00:05:27.059 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`NormalizedEmail` = @__normalizedEmail_0
LIMIT 2
2025-11-18 00:05:27.114 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 00:05:27.115 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 00:05:27.116 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 00:05:27.117 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 00:05:27.117 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 00:05:27.119 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 00:05:27.121 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 00:05:27.121 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 00:05:27.122 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.Login (MappyApplication) in 95.5775ms
2025-11-18 00:05:27.122 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.Login (MappyApplication)'
2025-11-18 00:05:27.122 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/login - 200 null application/json; charset=utf-8 98.1854ms
2025-11-18 00:05:27.223 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 00:05:27.223 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:05:27.223 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.2897ms
2025-11-18 00:05:27.224 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 00:05:27.225 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:05:27.262 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:05:27.263 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:05:27.263 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:05:27.265 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:05:27.266 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 00:05:27.266 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 00:05:27.267 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 3.0278ms
2025-11-18 00:05:27.267 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:05:27.267 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 42.5089ms
2025-11-18 00:05:31.214 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/logout - null null
2025-11-18 00:05:31.214 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:05:31.215 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/logout - 204 null null 0.5522ms
2025-11-18 00:05:31.216 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/auth/logout - null null
2025-11-18 00:05:31.216 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:05:31.239 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:05:31.240 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.Logout (MappyApplication)'
2025-11-18 00:05:31.240 +03:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 00:05:31.243 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 00:05:31.247 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 00:05:31.247 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 00:05:31.247 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.Logout (MappyApplication) in 7.3437ms
2025-11-18 00:05:31.247 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.Logout (MappyApplication)'
2025-11-18 00:05:31.247 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/auth/logout - 200 null application/json; charset=utf-8 31.2629ms
2025-11-18 00:05:43.955 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/login - null null
2025-11-18 00:05:43.956 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:05:43.956 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/login - 204 null null 1.2377ms
2025-11-18 00:05:43.962 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/login - application/json 51
2025-11-18 00:05:43.962 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:05:43.963 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.Login (MappyApplication)'
2025-11-18 00:05:43.963 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] Login(MappyApplication.Models.user.AuthLogin) on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 00:05:43.985 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`NormalizedEmail` = @__normalizedEmail_0
LIMIT 2
2025-11-18 00:05:44.024 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 00:05:44.025 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 00:05:44.026 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 00:05:44.026 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 00:05:44.027 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 00:05:44.029 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 00:05:44.030 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 00:05:44.030 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 00:05:44.030 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.Login (MappyApplication) in 67.0478ms
2025-11-18 00:05:44.030 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.Login (MappyApplication)'
2025-11-18 00:05:44.030 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/login - 200 null application/json; charset=utf-8 68.1545ms
2025-11-18 00:05:44.145 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 00:05:44.145 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:05:44.145 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.2535ms
2025-11-18 00:05:44.146 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 00:05:44.147 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:05:44.161 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:05:44.161 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:05:44.161 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:05:44.162 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:05:44.164 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 00:05:44.164 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 00:05:44.164 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 3.2489ms
2025-11-18 00:05:44.164 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:05:44.164 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 17.9277ms
2025-11-18 00:05:47.242 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/53 - null null
2025-11-18 00:05:47.242 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:05:47.242 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/53 - 204 null null 0.3247ms
2025-11-18 00:05:47.245 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:8080/api/v1/cities/53 - null null
2025-11-18 00:05:47.246 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:05:47.280 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:05:47.281 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication)'
2025-11-18 00:05:47.281 +03:00 [INF] Route matched with {action = "DeleteById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:05:47.283 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:05:47.289 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
DELETE FROM `Cities`
WHERE `Id` = @p0;
SELECT ROW_COUNT();
2025-11-18 00:05:47.289 +03:00 [INF] Deleted Cities MappyApplication.Data.Cities
2025-11-18 00:05:47.289 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 00:05:47.289 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication) in 8.4125ms
2025-11-18 00:05:47.289 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication)'
2025-11-18 00:05:47.289 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:8080/api/v1/cities/53 - 200 null application/json; charset=utf-8 43.9718ms
2025-11-18 00:05:47.296 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 00:05:47.296 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:05:47.313 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:05:47.313 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:05:47.313 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:05:47.314 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:05:47.314 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 00:05:47.314 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 00:05:47.314 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.6386ms
2025-11-18 00:05:47.315 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:05:47.315 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 18.4895ms
2025-11-18 00:05:48.108 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 00:05:48.108 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:05:48.108 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 0.4025ms
2025-11-18 00:05:48.109 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 00:05:48.109 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:05:48.122 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:05:48.122 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 00:05:48.122 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 00:05:48.123 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:05:48.124 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 00:05:48.124 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 00:05:48.124 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 1.6757ms
2025-11-18 00:05:48.124 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 00:05:48.124 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 14.8465ms
2025-11-18 00:05:52.876 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 00:05:52.876 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:05:52.895 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:05:52.895 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 00:05:52.895 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 00:05:52.896 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:05:52.896 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 00:05:52.896 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 00:05:52.896 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 1.2932ms
2025-11-18 00:05:52.896 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 00:05:52.896 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 20.0922ms
2025-11-18 00:05:54.724 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 00:05:54.724 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:05:54.724 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.6388ms
2025-11-18 00:05:54.725 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 00:05:54.726 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:05:54.741 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:05:54.741 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:05:54.741 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:05:54.742 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:05:54.743 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 00:05:54.743 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 00:05:54.743 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.5151ms
2025-11-18 00:05:54.743 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:05:54.743 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 17.4682ms
2025-11-18 00:05:55.454 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 00:05:55.454 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:05:55.454 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 0.2767ms
2025-11-18 00:05:55.455 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 00:05:55.456 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:05:55.473 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:05:55.474 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 00:05:55.474 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 00:05:55.475 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:05:55.476 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 00:05:55.476 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 00:05:55.476 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 1.982ms
2025-11-18 00:05:55.476 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 00:05:55.476 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 20.518ms
2025-11-18 00:05:56.262 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 00:05:56.262 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:05:56.279 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:05:56.279 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:05:56.279 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 00:05:56.280 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:05:56.281 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 00:05:56.281 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 00:05:56.281 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.448ms
2025-11-18 00:05:56.281 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 00:05:56.281 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 19.5656ms
2025-11-18 00:05:56.878 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 00:05:56.879 +03:00 [INF] CORS policy execution successful.
2025-11-18 00:05:56.896 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 00:05:56.897 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 00:05:56.897 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 00:05:56.897 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 00:05:56.898 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 00:05:56.898 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 00:05:56.898 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 1.5083ms
2025-11-18 00:05:56.898 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 00:05:56.898 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 20.4924ms
2025-11-18 05:55:08.598 +03:00 [INF] User profile is available. Using '/Users/salah/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-11-18 05:55:08.649 +03:00 [INF] Now listening on: http://localhost:8080
2025-11-18 05:55:08.650 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-18 05:55:08.650 +03:00 [INF] Hosting environment: Development
2025-11-18 05:55:08.650 +03:00 [INF] Content root path: /Users/salah/Desktop/MappyApplication/MappyApplication
2025-11-18 05:55:16.168 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/index.html - null null
2025-11-18 05:55:16.240 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/index.html - 200 null text/html;charset=utf-8 71.7179ms
2025-11-18 05:55:16.871 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/_framework/aspnetcore-browser-refresh.js - null null
2025-11-18 05:55:16.876 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 5.4154ms
2025-11-18 05:55:16.958 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - null null
2025-11-18 05:55:17.047 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 89.0867ms
2025-11-18 05:55:58.962 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 05:55:59.033 +03:00 [WRN] Failed to determine the https port for redirect.
2025-11-18 05:55:59.037 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:55:59.038 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 76.3239ms
2025-11-18 05:55:59.039 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 05:55:59.041 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:55:59.143 +03:00 [ERR] Exception occurred while processing message.
MySqlConnector.MySqlException (0x80004005): Unable to connect to any of the specified MySQL hosts.
   at MySqlConnector.Core.ServerSession.OpenTcpSocketAsync(ConnectionSettings cs, ILoadBalancer loadBalancer, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 1063
   at MySqlConnector.Core.ServerSession.ConnectAsync(ConnectionSettings cs, MySqlConnection connection, Int64 startingTimestamp, ILoadBalancer loadBalancer, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 425
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 932
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 938
   at MySqlConnector.MySqlConnection.OpenAsync(Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 419
   at MySqlConnector.MySqlConnection.Open() in /_/src/MySqlConnector/MySqlConnection.cs:line 381
   at Microsoft.EntityFrameworkCore.ServerVersion.AutoDetect(String connectionString)
   at Program.<>c__DisplayClass0_0.<<Main>$>b__1(DbContextOptionsBuilder options) in /Users/salah/Desktop/MappyApplication/MappyApplication/Program.cs:line 27
   at Microsoft.Extensions.DependencyInjection.EntityFrameworkServiceCollectionExtensions.<>c__DisplayClass1_0`2.<AddDbContext>b__0(IServiceProvider _, DbContextOptionsBuilder b)
   at Microsoft.Extensions.DependencyInjection.EntityFrameworkServiceCollectionExtensions.CreateDbContextOptions[TContext](IServiceProvider applicationServiceProvider, Action`2 optionsAction)
   at Microsoft.Extensions.DependencyInjection.EntityFrameworkServiceCollectionExtensions.<>c__DisplayClass17_0`1.<AddCoreServices>b__0(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.EntityFrameworkServiceCollectionExtensions.<>c__17`1.<AddCoreServices>b__17_1(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Program.<>c.<<Main>$>b__0_11(TokenValidatedContext ctx) in /Users/salah/Desktop/MappyApplication/MappyApplication/Program.cs:line 87
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerEvents.TokenValidated(TokenValidatedContext context)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-11-18 05:55:59.156 +03:00 [ERR] An unhandled exception has occurred while executing the request.
MySqlConnector.MySqlException (0x80004005): Unable to connect to any of the specified MySQL hosts.
   at MySqlConnector.Core.ServerSession.OpenTcpSocketAsync(ConnectionSettings cs, ILoadBalancer loadBalancer, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 1063
   at MySqlConnector.Core.ServerSession.ConnectAsync(ConnectionSettings cs, MySqlConnection connection, Int64 startingTimestamp, ILoadBalancer loadBalancer, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 425
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 932
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 938
   at MySqlConnector.MySqlConnection.OpenAsync(Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 419
   at MySqlConnector.MySqlConnection.Open() in /_/src/MySqlConnector/MySqlConnection.cs:line 381
   at Microsoft.EntityFrameworkCore.ServerVersion.AutoDetect(String connectionString)
   at Program.<>c__DisplayClass0_0.<<Main>$>b__1(DbContextOptionsBuilder options) in /Users/salah/Desktop/MappyApplication/MappyApplication/Program.cs:line 27
   at Microsoft.Extensions.DependencyInjection.EntityFrameworkServiceCollectionExtensions.<>c__DisplayClass1_0`2.<AddDbContext>b__0(IServiceProvider _, DbContextOptionsBuilder b)
   at Microsoft.Extensions.DependencyInjection.EntityFrameworkServiceCollectionExtensions.CreateDbContextOptions[TContext](IServiceProvider applicationServiceProvider, Action`2 optionsAction)
   at Microsoft.Extensions.DependencyInjection.EntityFrameworkServiceCollectionExtensions.<>c__DisplayClass17_0`1.<AddCoreServices>b__0(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.EntityFrameworkServiceCollectionExtensions.<>c__17`1.<AddCoreServices>b__17_1(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Program.<>c.<<Main>$>b__0_11(TokenValidatedContext ctx) in /Users/salah/Desktop/MappyApplication/MappyApplication/Program.cs:line 87
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerEvents.TokenValidated(TokenValidatedContext context)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.AuthenticateAsync()
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-11-18 05:55:59.163 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 500 null text/plain; charset=utf-8 124.0065ms
2025-11-18 05:56:03.269 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/login - null null
2025-11-18 05:56:03.274 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:56:03.275 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/login - 204 null null 5.9899ms
2025-11-18 05:56:03.277 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/login - application/json 51
2025-11-18 05:56:03.278 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:56:03.288 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.Login (MappyApplication)'
2025-11-18 05:56:03.314 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] Login(MappyApplication.Models.user.AuthLogin) on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 05:56:03.358 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.Login (MappyApplication) in 42.8453ms
2025-11-18 05:56:03.358 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.Login (MappyApplication)'
2025-11-18 05:56:03.358 +03:00 [ERR] An error occured
MySqlConnector.MySqlException (0x80004005): Unable to connect to any of the specified MySQL hosts.
   at MySqlConnector.Core.ServerSession.OpenTcpSocketAsync(ConnectionSettings cs, ILoadBalancer loadBalancer, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 1063
   at MySqlConnector.Core.ServerSession.ConnectAsync(ConnectionSettings cs, MySqlConnection connection, Int64 startingTimestamp, ILoadBalancer loadBalancer, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 425
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 932
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 938
   at MySqlConnector.MySqlConnection.OpenAsync(Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 419
   at MySqlConnector.MySqlConnection.Open() in /_/src/MySqlConnector/MySqlConnection.cs:line 381
   at Microsoft.EntityFrameworkCore.ServerVersion.AutoDetect(String connectionString)
   at Program.<>c__DisplayClass0_0.<<Main>$>b__1(DbContextOptionsBuilder options) in /Users/salah/Desktop/MappyApplication/MappyApplication/Program.cs:line 27
   at Microsoft.Extensions.DependencyInjection.EntityFrameworkServiceCollectionExtensions.<>c__DisplayClass1_0`2.<AddDbContext>b__0(IServiceProvider _, DbContextOptionsBuilder b)
   at Microsoft.Extensions.DependencyInjection.EntityFrameworkServiceCollectionExtensions.CreateDbContextOptions[TContext](IServiceProvider applicationServiceProvider, Action`2 optionsAction)
   at Microsoft.Extensions.DependencyInjection.EntityFrameworkServiceCollectionExtensions.<>c__DisplayClass17_0`1.<AddCoreServices>b__0(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.EntityFrameworkServiceCollectionExtensions.<>c__17`1.<AddCoreServices>b__17_1(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method10(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in /Users/salah/Desktop/MappyApplication/MappyApplication/Program.cs:line 140
--- End of stack trace from previous location ---
   at MappyApplication.MiddleWare.ExceptionMiddleWare.InvokeAsync(HttpContext ctx) in /Users/salah/Desktop/MappyApplication/MappyApplication/MiddleWare/ExceptionMiddleWare.cs:line 21
2025-11-18 05:56:03.370 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/login - 500 null application/json; charset=utf-8 93.7725ms
2025-11-18 05:56:25.681 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/login - null null
2025-11-18 05:56:25.684 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:56:25.685 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/login - 204 null null 3.6345ms
2025-11-18 05:56:25.688 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/login - application/json 51
2025-11-18 05:56:25.689 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:56:25.695 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.Login (MappyApplication)'
2025-11-18 05:56:25.698 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] Login(MappyApplication.Models.user.AuthLogin) on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 05:56:26.212 +03:00 [INF] Executed DbCommand (44ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`NormalizedEmail` = @__normalizedEmail_0
LIMIT 2
2025-11-18 05:56:26.289 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 05:56:26.315 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 05:56:26.320 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 05:56:26.327 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 05:56:26.327 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 05:56:26.376 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 05:56:26.385 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 05:56:26.389 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 05:56:26.391 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.Login (MappyApplication) in 692.8667ms
2025-11-18 05:56:26.391 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.Login (MappyApplication)'
2025-11-18 05:56:26.393 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/login - 200 null application/json; charset=utf-8 705.2766ms
2025-11-18 05:56:27.589 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 05:56:27.591 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:56:27.591 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 1.9798ms
2025-11-18 05:56:27.591 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 05:56:27.592 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:56:27.640 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 05:56:27.646 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 05:56:27.648 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 05:56:27.655 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 05:56:27.662 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 05:56:27.665 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 05:56:27.669 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 21.6107ms
2025-11-18 05:56:27.669 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 05:56:27.670 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 78.1115ms
2025-11-18 05:56:32.886 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 05:56:32.888 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:56:32.889 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 2.2757ms
2025-11-18 05:56:32.890 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/cities - application/json 206
2025-11-18 05:56:32.890 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:56:32.966 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 05:56:32.966 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:56:32.968 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 05:56:32.969 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication)'
2025-11-18 05:56:32.971 +03:00 [INF] Route matched with {action = "AddAsynch", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAsynch(MappyApplication.Data.Cities) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 05:56:32.986 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 05:56:32.986 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 05:56:32.987 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 05:56:32.989 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 05:56:32.990 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 05:56:32.990 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 05:56:32.990 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 3.1919ms
2025-11-18 05:56:32.990 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 05:56:32.990 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 23.9771ms
2025-11-18 05:56:32.998 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 05:56:33.010 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Double), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Cities` (`CityName`, `Country`, `Date`, `Emoji`, `Lat`, `Lng`, `Notes`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `Cities`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 05:56:33.011 +03:00 [INF] Added Cities MappyApplication.Data.Cities
2025-11-18 05:56:33.012 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 05:56:33.015 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication) in 43.8611ms
2025-11-18 05:56:33.015 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication)'
2025-11-18 05:56:33.015 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 124.9137ms
2025-11-18 05:56:36.449 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 05:56:36.452 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:56:36.454 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 4.93ms
2025-11-18 05:56:36.455 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 05:56:36.455 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:56:36.476 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 05:56:36.478 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 05:56:36.482 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 05:56:36.488 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 05:56:36.489 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 05:56:36.500 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 05:56:36.501 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 05:56:36.502 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 05:56:36.502 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 05:56:36.503 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 05:56:36.504 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 05:56:36.505 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 05:56:36.505 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 05:56:36.505 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 23.1693ms
2025-11-18 05:56:36.505 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 05:56:36.505 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 50.6832ms
2025-11-18 05:56:36.518 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 05:56:36.518 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:56:36.529 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 05:56:36.530 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 05:56:36.530 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 05:56:36.530 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 05:56:36.532 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 05:56:36.533 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 05:56:36.536 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 6.1769ms
2025-11-18 05:56:36.536 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 05:56:36.536 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 18.1845ms
2025-11-18 05:56:42.321 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 05:56:42.322 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:56:42.322 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 1.248ms
2025-11-18 05:56:42.325 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/cities - application/json 206
2025-11-18 05:56:42.326 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:56:42.344 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 05:56:42.344 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication)'
2025-11-18 05:56:42.344 +03:00 [INF] Route matched with {action = "AddAsynch", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAsynch(MappyApplication.Data.Cities) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 05:56:42.345 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 05:56:42.347 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Double), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Cities` (`CityName`, `Country`, `Date`, `Emoji`, `Lat`, `Lng`, `Notes`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `Cities`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 05:56:42.359 +03:00 [INF] Added Cities MappyApplication.Data.Cities
2025-11-18 05:56:42.359 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 05:56:42.359 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 05:56:42.359 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:56:42.360 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication) in 15.5983ms
2025-11-18 05:56:42.360 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication)'
2025-11-18 05:56:42.360 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 34.9582ms
2025-11-18 05:56:42.378 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 05:56:42.379 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 05:56:42.379 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 05:56:42.380 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 05:56:42.381 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 05:56:42.382 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 05:56:42.382 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.879ms
2025-11-18 05:56:42.382 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 05:56:42.382 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 23.0737ms
2025-11-18 05:56:45.391 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/55 - null null
2025-11-18 05:56:45.392 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:56:45.392 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/55 - 204 null null 1.528ms
2025-11-18 05:56:45.395 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:8080/api/v1/cities/55 - null null
2025-11-18 05:56:45.396 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:56:45.421 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 05:56:45.422 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication)'
2025-11-18 05:56:45.427 +03:00 [INF] Route matched with {action = "DeleteById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 05:56:45.440 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 05:56:45.449 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
DELETE FROM `Cities`
WHERE `Id` = @p0;
SELECT ROW_COUNT();
2025-11-18 05:56:45.452 +03:00 [INF] Deleted Cities MappyApplication.Data.Cities
2025-11-18 05:56:45.452 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 05:56:45.453 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication) in 25.2229ms
2025-11-18 05:56:45.453 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication)'
2025-11-18 05:56:45.453 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:8080/api/v1/cities/55 - 200 null application/json; charset=utf-8 57.7677ms
2025-11-18 05:56:45.457 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 05:56:45.457 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:56:45.475 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 05:56:45.475 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 05:56:45.475 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 05:56:45.476 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 05:56:45.477 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 05:56:45.477 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 05:56:45.478 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.1646ms
2025-11-18 05:56:45.478 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 05:56:45.478 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 20.8285ms
2025-11-18 05:56:46.528 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/54 - null null
2025-11-18 05:56:46.528 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:56:46.529 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/54 - 204 null null 1.0904ms
2025-11-18 05:56:46.530 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:8080/api/v1/cities/54 - null null
2025-11-18 05:56:46.530 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:56:46.553 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 05:56:46.553 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication)'
2025-11-18 05:56:46.554 +03:00 [INF] Route matched with {action = "DeleteById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 05:56:46.556 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 05:56:46.560 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
DELETE FROM `Cities`
WHERE `Id` = @p0;
SELECT ROW_COUNT();
2025-11-18 05:56:46.561 +03:00 [INF] Deleted Cities MappyApplication.Data.Cities
2025-11-18 05:56:46.561 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 05:56:46.562 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication) in 7.8859ms
2025-11-18 05:56:46.562 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication)'
2025-11-18 05:56:46.562 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:8080/api/v1/cities/54 - 200 null application/json; charset=utf-8 32.1359ms
2025-11-18 05:56:46.566 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 05:56:46.566 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:56:46.587 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 05:56:46.587 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 05:56:46.587 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 05:56:46.589 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 05:56:46.590 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 05:56:46.590 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 05:56:46.590 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.8683ms
2025-11-18 05:56:46.590 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 05:56:46.590 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 24.0267ms
2025-11-18 05:56:47.756 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 05:56:47.756 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:56:47.758 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 2.8547ms
2025-11-18 05:56:47.762 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 05:56:47.763 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:56:47.783 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 05:56:47.783 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 05:56:47.785 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 05:56:47.786 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 05:56:47.792 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 05:56:47.794 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 05:56:47.796 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 11.316ms
2025-11-18 05:56:47.796 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 05:56:47.796 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 33.8213ms
2025-11-18 05:56:57.201 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 05:56:57.206 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:56:57.207 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 6.2615ms
2025-11-18 05:56:57.210 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/workouts - application/json 203
2025-11-18 05:56:57.211 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:56:57.232 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 05:56:57.233 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.AddAsynch (MappyApplication)'
2025-11-18 05:56:57.256 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 05:56:57.257 +03:00 [INF] Route matched with {action = "AddAsynch", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAsynch(MappyApplication.Data.Workouts) on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 05:56:57.259 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:56:57.277 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 05:56:57.277 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 05:56:57.277 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 05:56:57.277 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 05:56:57.279 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 05:56:57.280 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 05:56:57.280 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 05:56:57.280 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 2.8794ms
2025-11-18 05:56:57.280 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 05:56:57.281 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 24.0632ms
2025-11-18 05:56:57.295 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Single), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (DbType = Single), @p5='?' (DbType = Single), @p6='?' (Size = 4000), @p7='?' (DbType = Single), @p8='?' (Size = 4000), @p9='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Workouts` (`Cadence`, `CityName`, `Coords`, `Date`, `Distance`, `Duration`, `Emoji`, `Pace`, `Type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT `Id`
FROM `Workouts`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 05:56:57.299 +03:00 [INF] Added Workouts MappyApplication.Data.Workouts
2025-11-18 05:56:57.299 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 05:56:57.300 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.AddAsynch (MappyApplication) in 40.8825ms
2025-11-18 05:56:57.300 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.AddAsynch (MappyApplication)'
2025-11-18 05:56:57.300 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 89.5832ms
2025-11-18 05:57:11.116 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 05:57:11.117 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:57:11.118 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 2.36ms
2025-11-18 05:57:11.119 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/workouts - application/json 207
2025-11-18 05:57:11.119 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:57:11.160 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 05:57:11.175 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:57:11.189 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 05:57:11.191 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.AddAsynch (MappyApplication)'
2025-11-18 05:57:11.191 +03:00 [INF] Route matched with {action = "AddAsynch", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAsynch(MappyApplication.Data.Workouts) on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 05:57:11.201 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 05:57:11.210 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Single), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (DbType = Single), @p5='?' (DbType = Single), @p6='?' (Size = 4000), @p7='?' (DbType = Single), @p8='?' (Size = 4000), @p9='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Workouts` (`Cadence`, `CityName`, `Coords`, `Date`, `Distance`, `Duration`, `Emoji`, `Pace`, `Type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT `Id`
FROM `Workouts`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 05:57:11.214 +03:00 [INF] Added Workouts MappyApplication.Data.Workouts
2025-11-18 05:57:11.214 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 05:57:11.215 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.AddAsynch (MappyApplication) in 23.1352ms
2025-11-18 05:57:11.215 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.AddAsynch (MappyApplication)'
2025-11-18 05:57:11.215 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 95.8404ms
2025-11-18 05:57:11.217 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 05:57:11.217 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 05:57:11.217 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 05:57:11.218 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 05:57:11.219 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 05:57:11.222 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 05:57:11.223 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 5.8485ms
2025-11-18 05:57:11.223 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 05:57:11.223 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 63.9934ms
2025-11-18 05:57:31.036 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/logout - null null
2025-11-18 05:57:31.046 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:57:31.048 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/logout - 204 null null 11.7407ms
2025-11-18 05:57:31.049 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/auth/logout - null null
2025-11-18 05:57:31.050 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:57:31.107 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 05:57:31.109 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.Logout (MappyApplication)'
2025-11-18 05:57:31.112 +03:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 05:57:31.118 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 05:57:31.129 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 05:57:31.130 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 05:57:31.130 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.Logout (MappyApplication) in 18.1758ms
2025-11-18 05:57:31.130 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.Logout (MappyApplication)'
2025-11-18 05:57:31.130 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/auth/logout - 200 null application/json; charset=utf-8 81.5783ms
2025-11-18 05:57:37.647 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/login - null null
2025-11-18 05:57:37.655 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:57:37.657 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/login - 204 null null 9.6728ms
2025-11-18 05:57:37.659 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/login - application/json 51
2025-11-18 05:57:37.660 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:57:37.662 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.Login (MappyApplication)'
2025-11-18 05:57:37.666 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] Login(MappyApplication.Models.user.AuthLogin) on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 05:57:37.700 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`NormalizedEmail` = @__normalizedEmail_0
LIMIT 2
2025-11-18 05:57:37.747 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 05:57:37.749 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 05:57:37.750 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 05:57:37.750 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 05:57:37.751 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 05:57:37.759 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 05:57:37.760 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 05:57:37.760 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 05:57:37.761 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.Login (MappyApplication) in 94.7117ms
2025-11-18 05:57:37.761 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.Login (MappyApplication)'
2025-11-18 05:57:37.761 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/login - 200 null application/json; charset=utf-8 101.5292ms
2025-11-18 05:57:37.868 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 05:57:37.868 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:57:37.870 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.435ms
2025-11-18 05:57:37.872 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 05:57:37.872 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:57:37.886 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 05:57:37.887 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 05:57:37.887 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 05:57:37.888 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 05:57:37.888 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 05:57:37.888 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 05:57:37.888 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.5702ms
2025-11-18 05:57:37.888 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 05:57:37.888 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 16.6139ms
2025-11-18 05:57:40.808 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/logout - null null
2025-11-18 05:57:40.809 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:57:40.809 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/logout - 204 null null 0.521ms
2025-11-18 05:57:40.810 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/auth/logout - null null
2025-11-18 05:57:40.810 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:57:40.835 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 05:57:40.835 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.Logout (MappyApplication)'
2025-11-18 05:57:40.835 +03:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 05:57:40.838 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 05:57:40.842 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 05:57:40.842 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 05:57:40.842 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.Logout (MappyApplication) in 6.8519ms
2025-11-18 05:57:40.842 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.Logout (MappyApplication)'
2025-11-18 05:57:40.842 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/auth/logout - 200 null application/json; charset=utf-8 32.4527ms
2025-11-18 05:58:33.502 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/login - null null
2025-11-18 05:58:33.506 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:58:33.507 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/login - 204 null null 5.4285ms
2025-11-18 05:58:33.509 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/login - application/json 51
2025-11-18 05:58:33.510 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:58:33.512 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.Login (MappyApplication)'
2025-11-18 05:58:33.513 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] Login(MappyApplication.Models.user.AuthLogin) on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 05:58:33.556 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`NormalizedEmail` = @__normalizedEmail_0
LIMIT 2
2025-11-18 05:58:33.604 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 05:58:33.606 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 05:58:33.606 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 05:58:33.607 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 05:58:33.608 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 05:58:33.610 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 05:58:33.611 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 05:58:33.611 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 05:58:33.611 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.Login (MappyApplication) in 97.5352ms
2025-11-18 05:58:33.611 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.Login (MappyApplication)'
2025-11-18 05:58:33.611 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/login - 200 null application/json; charset=utf-8 102.445ms
2025-11-18 05:58:34.143 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 05:58:34.143 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:58:34.144 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.2654ms
2025-11-18 05:58:34.144 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 05:58:34.144 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:58:34.162 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 05:58:34.163 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 05:58:34.163 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 05:58:34.164 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 05:58:34.165 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 05:58:34.165 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 05:58:34.165 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.6422ms
2025-11-18 05:58:34.165 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 05:58:34.166 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 21.2198ms
2025-11-18 05:58:49.989 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 05:58:49.993 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:58:49.996 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 7.3564ms
2025-11-18 05:58:49.997 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 05:58:49.999 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:58:50.024 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 05:58:50.025 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 05:58:50.026 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 05:58:50.028 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 05:58:50.029 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 05:58:50.030 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 05:58:50.030 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 4.4714ms
2025-11-18 05:58:50.030 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 05:58:50.030 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 32.69ms
2025-11-18 05:59:23.927 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 05:59:23.928 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:59:23.929 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 1.8645ms
2025-11-18 05:59:23.930 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 05:59:23.931 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:59:23.998 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 05:59:23.999 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 05:59:23.999 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 05:59:24.001 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 05:59:24.002 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 05:59:24.003 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 05:59:24.003 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 4.0089ms
2025-11-18 05:59:24.003 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 05:59:24.003 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 73.076ms
2025-11-18 05:59:32.737 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/logout - null null
2025-11-18 05:59:32.738 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:59:32.738 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/logout - 204 null null 1.2233ms
2025-11-18 05:59:32.740 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/auth/logout - null null
2025-11-18 05:59:32.740 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:59:32.761 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 05:59:32.762 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.Logout (MappyApplication)'
2025-11-18 05:59:32.762 +03:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 05:59:32.763 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 05:59:32.778 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 05:59:32.778 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 05:59:32.779 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.Logout (MappyApplication) in 17.0653ms
2025-11-18 05:59:32.779 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.Logout (MappyApplication)'
2025-11-18 05:59:32.779 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/auth/logout - 200 null application/json; charset=utf-8 39.2418ms
2025-11-18 05:59:38.118 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/login - null null
2025-11-18 05:59:38.119 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:59:38.119 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/login - 204 null null 1.1347ms
2025-11-18 05:59:38.121 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/login - application/json 51
2025-11-18 05:59:38.121 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:59:38.121 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.Login (MappyApplication)'
2025-11-18 05:59:38.121 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] Login(MappyApplication.Models.user.AuthLogin) on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 05:59:38.146 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`NormalizedEmail` = @__normalizedEmail_0
LIMIT 2
2025-11-18 05:59:38.198 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 05:59:38.199 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 05:59:38.200 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 05:59:38.200 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 05:59:38.201 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 05:59:38.207 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 05:59:38.209 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 05:59:38.209 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 05:59:38.209 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.Login (MappyApplication) in 87.4877ms
2025-11-18 05:59:38.209 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.Login (MappyApplication)'
2025-11-18 05:59:38.209 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/login - 200 null application/json; charset=utf-8 88.5224ms
2025-11-18 05:59:38.614 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 05:59:38.614 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:59:38.614 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.5496ms
2025-11-18 05:59:38.616 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 05:59:38.616 +03:00 [INF] CORS policy execution successful.
2025-11-18 05:59:38.638 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 05:59:38.639 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 05:59:38.639 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 05:59:38.640 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 05:59:38.641 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 05:59:38.641 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 05:59:38.641 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.0973ms
2025-11-18 05:59:38.641 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 05:59:38.641 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 25.0911ms
2025-11-18 06:09:10.030 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 06:09:10.032 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:09:10.032 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 1.9655ms
2025-11-18 06:09:10.033 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 06:09:10.034 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:09:10.164 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:09:10.166 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:09:10.166 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 06:09:10.168 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 06:09:10.173 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:09:10.184 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 06:09:10.188 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:09:10.189 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:09:10.189 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:09:10.190 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:09:10.196 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 06:09:10.196 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 06:09:10.196 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 06:09:10.197 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 30.526ms
2025-11-18 06:09:10.197 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:09:10.197 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 163.4214ms
2025-11-18 06:09:16.999 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 06:09:16.999 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:09:16.999 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.3111ms
2025-11-18 06:09:17.000 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:09:17.000 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:09:17.015 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:09:17.015 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:09:17.016 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:09:17.016 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:09:17.020 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:09:17.020 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:09:17.020 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 4.3742ms
2025-11-18 06:09:17.020 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:09:17.020 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 20.4356ms
2025-11-18 06:09:52.330 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 06:09:52.332 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:09:52.334 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 4.1264ms
2025-11-18 06:09:52.338 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 06:09:52.339 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:09:52.376 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:09:52.376 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:09:52.377 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 06:09:52.379 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 06:09:52.381 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:09:52.387 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 06:09:52.388 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:09:52.388 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:09:52.389 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:09:52.389 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:09:52.391 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 06:09:52.391 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 06:09:52.392 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 06:09:52.392 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 15.3679ms
2025-11-18 06:09:52.392 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:09:52.392 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 54.041ms
2025-11-18 06:09:56.446 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 06:09:56.447 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:09:56.460 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:09:56.460 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:09:56.461 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 06:09:56.463 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 06:09:56.464 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:09:56.466 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 06:09:56.467 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:09:56.469 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:09:56.470 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:09:56.470 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:09:56.472 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 06:09:56.473 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 06:09:56.473 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 06:09:56.473 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 12.4692ms
2025-11-18 06:09:56.473 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:09:56.473 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 27.01ms
2025-11-18 06:10:01.825 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 06:10:01.826 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:10:01.826 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 1.7337ms
2025-11-18 06:10:01.827 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:10:01.828 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:10:01.854 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:10:01.855 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:10:01.855 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:10:01.857 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:10:01.858 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:10:01.858 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:10:01.858 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 3.4603ms
2025-11-18 06:10:01.858 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:10:01.858 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 30.954ms
2025-11-18 06:10:20.079 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 06:10:20.091 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:10:20.092 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 12.6648ms
2025-11-18 06:10:20.094 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:10:20.095 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:10:20.141 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:10:20.142 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:10:20.142 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:10:20.144 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:10:20.146 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:10:20.146 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:10:20.147 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 4.6793ms
2025-11-18 06:10:20.147 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:10:20.147 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 53.644ms
2025-11-18 06:10:25.145 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 06:10:25.145 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:10:25.145 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 0.3037ms
2025-11-18 06:10:25.146 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 06:10:25.147 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:10:25.165 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:10:25.165 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:10:25.165 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 06:10:25.168 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 06:10:25.169 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:10:25.173 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 06:10:25.174 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:10:25.175 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:10:25.175 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:10:25.175 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:10:25.183 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 06:10:25.183 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 06:10:25.183 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 06:10:25.184 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 18.4725ms
2025-11-18 06:10:25.184 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:10:25.184 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 37.2025ms
2025-11-18 06:10:43.745 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 06:10:43.746 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:10:43.748 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 3.4861ms
2025-11-18 06:10:43.749 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 06:10:43.749 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:10:43.777 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:10:43.779 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:10:43.779 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 06:10:43.781 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 06:10:43.782 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:10:43.785 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 06:10:43.786 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:10:43.787 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:10:43.788 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:10:43.788 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:10:43.790 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 06:10:43.791 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 06:10:43.791 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 06:10:43.791 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 12.3035ms
2025-11-18 06:10:43.791 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:10:43.791 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 42.1441ms
2025-11-18 06:10:47.879 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 06:10:47.879 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:10:47.879 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.2134ms
2025-11-18 06:10:47.880 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:10:47.880 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:10:47.894 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:10:47.894 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:10:47.894 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:10:47.895 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:10:47.896 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:10:47.896 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:10:47.896 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.9013ms
2025-11-18 06:10:47.896 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:10:47.896 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 15.9366ms
2025-11-18 06:11:08.640 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 06:11:08.646 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:11:08.647 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 6.6832ms
2025-11-18 06:11:08.651 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:11:08.652 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:11:08.677 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:11:08.678 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:11:08.678 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:11:08.681 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:11:08.683 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:11:08.685 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:11:08.687 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 8.4336ms
2025-11-18 06:11:08.687 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:11:08.687 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 35.8104ms
2025-11-18 06:11:45.364 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 06:11:45.365 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:11:45.365 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 1.9375ms
2025-11-18 06:11:45.367 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:11:45.367 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:11:45.414 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:11:45.414 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:11:45.414 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:11:45.417 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:11:45.418 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:11:45.418 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:11:45.418 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 3.8195ms
2025-11-18 06:11:45.418 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:11:45.418 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 51.7196ms
2025-11-18 06:11:47.362 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 06:11:47.362 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:11:47.362 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 0.5132ms
2025-11-18 06:11:47.369 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 06:11:47.369 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:11:47.406 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:11:47.416 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:11:47.416 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 06:11:47.418 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 06:11:47.419 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:11:47.428 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 06:11:47.430 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:11:47.433 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:11:47.436 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:11:47.437 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:11:47.445 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 06:11:47.446 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 06:11:47.446 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 06:11:47.446 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 30.6805ms
2025-11-18 06:11:47.446 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:11:47.447 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 78.0694ms
2025-11-18 06:11:47.472 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:11:47.473 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:11:47.497 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:11:47.497 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:11:47.498 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:11:47.503 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:11:47.505 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:11:47.505 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:11:47.505 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 3.5534ms
2025-11-18 06:11:47.505 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:11:47.505 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 32.8932ms
2025-11-18 06:11:47.778 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 06:11:47.778 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:11:47.799 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:11:47.799 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:11:47.799 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 06:11:47.802 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 06:11:47.803 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:11:47.808 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 06:11:47.810 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:11:47.816 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:11:47.817 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:11:47.820 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:11:47.823 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 06:11:47.824 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 06:11:47.824 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 06:11:47.824 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 25.5482ms
2025-11-18 06:11:47.824 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:11:47.825 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 46.9416ms
2025-11-18 06:11:47.849 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:11:47.849 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:11:47.875 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:11:47.876 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:11:47.876 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:11:47.877 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:11:47.878 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:11:47.878 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:11:47.879 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.6297ms
2025-11-18 06:11:47.879 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:11:47.879 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 30.3036ms
2025-11-18 06:32:35.907 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 06:32:35.910 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:32:35.913 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 5.0998ms
2025-11-18 06:32:35.915 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 06:32:35.915 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:32:36.087 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:32:36.090 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:32:36.093 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 06:32:36.100 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 06:32:36.107 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:32:36.124 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 06:32:36.128 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:32:36.129 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:32:36.131 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:32:36.131 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:32:36.142 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 06:32:36.145 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 06:32:36.145 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 06:32:36.146 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 52.7382ms
2025-11-18 06:32:36.146 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:32:36.146 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 231.0304ms
2025-11-18 06:32:48.136 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 06:32:48.138 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:32:48.142 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 6.7528ms
2025-11-18 06:32:48.145 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 06:32:48.145 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:32:48.200 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:32:48.201 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:32:48.202 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 06:32:48.204 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 06:32:48.209 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:32:48.215 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 06:32:48.218 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:32:48.219 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:32:48.220 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:32:48.221 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:32:48.223 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 06:32:48.224 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 06:32:48.225 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 06:32:48.226 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 23.7342ms
2025-11-18 06:32:48.226 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:32:48.226 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 80.8454ms
2025-11-18 06:32:50.167 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 06:32:50.167 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:32:50.167 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.4856ms
2025-11-18 06:32:50.171 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:32:50.172 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:32:50.184 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:32:50.184 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:32:50.184 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:32:50.186 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:32:50.186 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:32:50.187 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:32:50.187 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.5843ms
2025-11-18 06:32:50.187 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:32:50.187 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 15.8061ms
2025-11-18 06:34:24.811 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 06:34:24.813 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:34:24.819 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 7.7615ms
2025-11-18 06:34:24.821 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:34:24.822 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:34:24.858 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:34:24.859 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:34:24.859 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:34:24.861 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:34:24.864 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:34:24.864 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:34:24.864 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 5.0627ms
2025-11-18 06:34:24.865 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:34:24.865 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 43.6425ms
2025-11-18 06:34:26.229 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 06:34:26.230 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:34:26.230 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 0.2519ms
2025-11-18 06:34:26.231 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 06:34:26.231 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:34:26.244 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:34:26.244 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:34:26.244 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 06:34:26.247 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 06:34:26.248 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:34:26.253 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 06:34:26.255 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:34:26.256 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:34:26.257 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:34:26.257 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:34:26.261 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 06:34:26.262 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 06:34:26.262 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 06:34:26.262 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 17.4902ms
2025-11-18 06:34:26.262 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:34:26.262 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 31.1885ms
2025-11-18 06:34:26.275 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:34:26.275 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:34:26.286 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:34:26.287 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:34:26.287 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:34:26.287 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:34:26.288 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:34:26.288 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:34:26.288 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.5215ms
2025-11-18 06:34:26.288 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:34:26.288 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 13.3811ms
2025-11-18 06:34:53.448 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 06:34:53.451 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:34:53.452 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 4.7854ms
2025-11-18 06:34:53.453 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 06:34:53.454 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:34:53.494 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:34:53.495 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:34:53.495 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 06:34:53.497 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 06:34:53.507 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:34:53.520 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 06:34:53.522 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:34:53.523 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:34:53.525 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:34:53.526 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:34:53.530 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 06:34:53.531 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 06:34:53.531 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 06:34:53.532 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 36.3272ms
2025-11-18 06:34:53.532 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:34:53.535 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 82.2947ms
2025-11-18 06:34:55.692 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 06:34:55.692 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:34:55.692 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.2157ms
2025-11-18 06:34:55.694 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:34:55.694 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:34:55.708 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:34:55.708 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:34:55.708 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:34:55.709 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:34:55.710 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:34:55.710 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:34:55.710 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.8307ms
2025-11-18 06:34:55.710 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:34:55.710 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 16.3465ms
2025-11-18 06:35:17.270 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 06:35:17.272 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:35:17.273 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 3.0319ms
2025-11-18 06:35:17.276 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:35:17.277 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:35:17.308 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:35:17.309 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:35:17.309 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:35:17.311 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:35:17.312 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:35:17.312 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:35:17.313 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 3.6715ms
2025-11-18 06:35:17.313 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:35:17.313 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 36.5802ms
2025-11-18 06:35:18.640 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 06:35:18.640 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:35:18.640 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 0.1595ms
2025-11-18 06:35:18.641 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 06:35:18.641 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:35:18.657 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:35:18.657 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:35:18.657 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 06:35:18.661 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 06:35:18.663 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:35:18.668 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 06:35:18.675 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:35:18.678 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:35:18.680 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:35:18.682 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:35:18.687 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 06:35:18.688 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 06:35:18.688 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 06:35:18.688 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 30.9278ms
2025-11-18 06:35:18.688 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:35:18.688 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 47.793ms
2025-11-18 06:35:18.712 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:35:18.712 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:35:18.749 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:35:18.752 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:35:18.758 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:35:18.765 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:35:18.767 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:35:18.768 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:35:18.768 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 9.389ms
2025-11-18 06:35:18.768 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:35:18.768 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 55.7635ms
2025-11-18 06:35:41.465 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 06:35:41.467 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:35:41.468 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 3.0958ms
2025-11-18 06:35:41.490 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:35:41.496 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:35:41.523 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:35:41.524 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:35:41.524 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:35:41.526 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:35:41.527 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:35:41.527 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:35:41.528 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 3.2447ms
2025-11-18 06:35:41.528 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:35:41.528 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 38.1261ms
2025-11-18 06:36:05.110 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 06:36:05.112 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:36:05.112 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 2.7057ms
2025-11-18 06:36:05.115 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 06:36:05.117 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:36:05.186 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:36:05.187 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:36:05.188 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 06:36:05.205 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 06:36:05.207 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:36:05.212 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 06:36:05.214 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:36:05.216 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:36:05.216 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:36:05.218 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:36:05.223 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 06:36:05.224 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 06:36:05.224 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 06:36:05.225 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 26.456ms
2025-11-18 06:36:05.225 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:36:05.225 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 109.8407ms
2025-11-18 06:36:08.654 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 06:36:08.654 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:36:08.654 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.3858ms
2025-11-18 06:36:08.657 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:36:08.657 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:36:08.671 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:36:08.671 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:36:08.671 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:36:08.672 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:36:08.673 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:36:08.673 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:36:08.673 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.7437ms
2025-11-18 06:36:08.673 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:36:08.673 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 16.0752ms
2025-11-18 06:36:19.437 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 06:36:19.441 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:36:19.442 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 9.15ms
2025-11-18 06:36:19.443 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 06:36:19.444 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:36:19.495 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:36:19.496 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:36:19.497 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 06:36:19.500 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 06:36:19.503 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:36:19.511 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 06:36:19.514 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:36:19.515 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:36:19.517 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:36:19.519 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:36:19.522 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 06:36:19.524 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 06:36:19.524 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 06:36:19.524 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 27.6169ms
2025-11-18 06:36:19.524 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:36:19.525 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 81.2886ms
2025-11-18 06:36:22.438 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 06:36:22.438 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:36:22.438 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.3175ms
2025-11-18 06:36:22.439 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:36:22.439 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:36:22.454 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:36:22.454 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:36:22.454 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:36:22.455 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:36:22.455 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:36:22.455 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:36:22.455 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.359ms
2025-11-18 06:36:22.455 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:36:22.455 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 16.4851ms
2025-11-18 06:36:23.749 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 06:36:23.749 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:36:23.936 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:36:23.951 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:36:23.952 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 06:36:23.958 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 06:36:23.961 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:36:23.964 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 06:36:23.965 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:36:23.966 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:36:23.967 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:36:23.967 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:36:23.972 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 06:36:23.973 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 06:36:23.973 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 06:36:23.974 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 21.003ms
2025-11-18 06:36:23.974 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:36:23.974 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 225.1026ms
2025-11-18 06:36:24.212 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 06:36:24.212 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:36:24.234 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:36:24.234 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:36:24.234 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 06:36:24.236 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 06:36:24.237 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:36:24.241 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 06:36:24.242 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:36:24.246 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:36:24.249 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:36:24.250 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:36:24.254 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 06:36:24.254 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 06:36:24.255 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 06:36:24.255 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 20.5108ms
2025-11-18 06:36:24.255 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:36:24.255 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 42.9126ms
2025-11-18 06:36:24.279 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:36:24.279 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:36:24.297 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:36:24.297 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:36:24.297 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:36:24.299 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:36:24.300 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:36:24.300 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:36:24.300 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.3876ms
2025-11-18 06:36:24.300 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:36:24.300 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 21.1495ms
2025-11-18 06:37:12.034 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 06:37:12.037 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:37:12.037 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 3.5808ms
2025-11-18 06:37:12.039 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:37:12.039 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:37:12.062 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:37:12.063 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:37:12.063 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:37:12.065 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:37:12.066 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:37:12.066 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:37:12.066 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 3.3241ms
2025-11-18 06:37:12.066 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:37:12.066 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 27.3213ms
2025-11-18 06:37:13.334 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 06:37:13.334 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:37:13.334 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 0.323ms
2025-11-18 06:37:13.335 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 06:37:13.335 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:37:13.352 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:37:13.352 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:37:13.352 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 06:37:13.355 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 06:37:13.355 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:37:13.358 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 06:37:13.359 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:37:13.360 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:37:13.360 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:37:13.360 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:37:13.364 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 06:37:13.365 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 06:37:13.366 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 06:37:13.366 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 13.7627ms
2025-11-18 06:37:13.366 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:37:13.366 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 30.7898ms
2025-11-18 06:37:13.380 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:37:13.380 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:37:13.397 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:37:13.397 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:37:13.397 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:37:13.399 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:37:13.399 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:37:13.399 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:37:13.399 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.0029ms
2025-11-18 06:37:13.399 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:37:13.400 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 19.4832ms
2025-11-18 06:37:57.781 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 06:37:57.782 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:37:57.783 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 1.7313ms
2025-11-18 06:37:57.784 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:37:57.784 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:37:57.838 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:37:57.838 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:37:57.838 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:37:57.842 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:37:57.844 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:37:57.844 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:37:57.844 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 5.651ms
2025-11-18 06:37:57.844 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:37:57.844 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 60.4097ms
2025-11-18 06:37:59.214 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 06:37:59.214 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:37:59.214 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 0.1335ms
2025-11-18 06:37:59.218 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 06:37:59.219 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:37:59.239 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:37:59.239 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:37:59.239 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 06:37:59.247 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 06:37:59.249 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:37:59.253 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 06:37:59.255 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:37:59.256 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:37:59.258 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:37:59.259 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:37:59.264 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 06:37:59.265 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 06:37:59.265 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 06:37:59.265 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 25.8876ms
2025-11-18 06:37:59.265 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:37:59.265 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 47.4831ms
2025-11-18 06:37:59.287 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:37:59.287 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:37:59.324 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:37:59.324 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:37:59.325 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:37:59.326 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:37:59.327 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:37:59.327 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:37:59.328 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.9785ms
2025-11-18 06:37:59.328 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:37:59.328 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 41.0197ms
2025-11-18 06:38:54.332 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 06:38:54.334 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:38:54.334 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 2.0282ms
2025-11-18 06:38:54.340 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:38:54.352 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:38:54.401 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:38:54.402 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:38:54.402 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:38:54.404 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:38:54.405 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:38:54.405 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:38:54.405 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 3.5554ms
2025-11-18 06:38:54.405 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:38:54.405 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 65.8248ms
2025-11-18 06:39:10.469 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 06:39:10.472 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:39:10.473 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 2.9337ms
2025-11-18 06:39:10.475 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:39:10.476 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:39:10.504 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:39:10.505 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:39:10.505 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:39:10.506 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:39:10.507 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:39:10.507 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:39:10.508 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.9648ms
2025-11-18 06:39:10.508 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:39:10.508 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 33.3155ms
2025-11-18 06:39:11.969 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 06:39:11.969 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:39:11.969 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 0.2363ms
2025-11-18 06:39:11.981 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 06:39:11.981 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:39:12.006 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:39:12.006 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:39:12.006 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 06:39:12.008 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 06:39:12.010 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:39:12.014 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 06:39:12.018 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:39:12.021 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:39:12.024 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:39:12.025 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:39:12.032 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 06:39:12.033 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 06:39:12.034 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 06:39:12.034 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 27.7184ms
2025-11-18 06:39:12.034 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:39:12.034 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 52.7439ms
2025-11-18 06:39:12.056 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:39:12.056 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:39:12.089 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:39:12.089 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:39:12.089 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:39:12.091 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:39:12.093 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:39:12.093 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:39:12.093 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 3.659ms
2025-11-18 06:39:12.093 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:39:12.093 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 37.1897ms
2025-11-18 06:39:45.295 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 06:39:45.298 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:39:45.299 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 3.3117ms
2025-11-18 06:39:45.302 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:39:45.303 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:39:45.334 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:39:45.334 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:39:45.334 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:39:45.335 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:39:45.336 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:39:45.337 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:39:45.337 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.6987ms
2025-11-18 06:39:45.337 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:39:45.337 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 34.345ms
2025-11-18 06:39:46.765 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 06:39:46.765 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:39:46.765 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 0.2113ms
2025-11-18 06:39:46.769 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 06:39:46.772 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:39:46.793 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:39:46.793 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:39:46.793 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 06:39:46.796 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 06:39:46.797 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:39:46.801 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 06:39:46.803 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:39:46.804 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:39:46.807 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:39:46.808 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:39:46.818 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 06:39:46.819 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 06:39:46.819 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 06:39:46.819 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 25.3696ms
2025-11-18 06:39:46.819 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:39:46.819 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 50.5097ms
2025-11-18 06:39:46.850 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:39:46.850 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:39:46.871 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:39:46.872 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:39:46.872 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:39:46.873 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:39:46.875 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:39:46.875 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:39:46.875 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 3.1494ms
2025-11-18 06:39:46.875 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:39:46.875 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 25.6078ms
2025-11-18 06:40:07.974 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 06:40:07.976 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:40:07.977 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 2.2354ms
2025-11-18 06:40:07.979 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:40:07.980 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:40:08.011 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:40:08.011 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:40:08.012 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:40:08.013 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:40:08.014 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:40:08.014 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:40:08.015 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.9245ms
2025-11-18 06:40:08.015 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:40:08.015 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 35.7959ms
2025-11-18 06:41:31.259 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 06:41:31.262 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:41:31.265 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 5.5999ms
2025-11-18 06:41:31.268 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:41:31.268 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:41:31.403 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:41:31.403 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:41:31.404 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:41:31.414 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:41:31.415 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:41:31.415 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:41:31.415 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 11.2094ms
2025-11-18 06:41:31.415 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:41:31.415 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 147.5641ms
2025-11-18 06:41:32.605 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 06:41:32.606 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:41:32.607 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 1.8237ms
2025-11-18 06:41:32.611 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 06:41:32.611 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:41:32.634 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:41:32.634 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:41:32.634 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 06:41:32.636 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 06:41:32.638 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:41:32.667 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 06:41:32.671 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:41:32.672 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:41:32.674 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:41:32.678 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:41:32.688 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 06:41:32.690 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 06:41:32.690 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 06:41:32.690 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 56.0062ms
2025-11-18 06:41:32.690 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:41:32.690 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 78.7562ms
2025-11-18 06:41:32.715 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:41:32.715 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:41:32.746 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:41:32.746 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:41:32.746 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:41:32.747 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:41:32.748 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:41:32.748 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:41:32.748 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.4977ms
2025-11-18 06:41:32.748 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:41:32.748 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 32.8081ms
2025-11-18 06:42:00.855 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 06:42:00.861 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:42:00.863 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 7.455ms
2025-11-18 06:42:00.865 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:42:00.865 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:42:00.897 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:42:00.897 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:42:00.897 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:42:00.900 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:42:00.901 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:42:00.901 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:42:00.901 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 3.8845ms
2025-11-18 06:42:00.901 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:42:00.901 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 36.7309ms
2025-11-18 06:42:06.461 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 06:42:06.461 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:42:06.461 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 0.5608ms
2025-11-18 06:42:06.463 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 06:42:06.463 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:42:06.484 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:42:06.485 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:42:06.485 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 06:42:06.487 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 06:42:06.489 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:42:06.493 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 06:42:06.497 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:42:06.498 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:42:06.500 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:42:06.501 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:42:06.513 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 06:42:06.514 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 06:42:06.515 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 06:42:06.515 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 30.2109ms
2025-11-18 06:42:06.515 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:42:06.515 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 51.672ms
2025-11-18 06:43:03.420 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 06:43:03.422 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:43:03.422 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 2.2044ms
2025-11-18 06:43:03.423 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:43:03.424 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:43:03.459 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:43:03.460 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:43:03.460 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:43:03.462 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:43:03.463 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:43:03.463 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:43:03.463 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 3.4956ms
2025-11-18 06:43:03.463 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:43:03.463 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 39.9638ms
2025-11-18 06:44:44.587 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 06:44:44.603 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:44:44.603 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 16.1837ms
2025-11-18 06:44:44.605 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:44:44.605 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:44:44.638 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:44:44.638 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:44:44.638 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:44:44.640 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:44:44.641 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:44:44.641 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:44:44.641 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.6322ms
2025-11-18 06:44:44.641 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:44:44.642 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 36.7887ms
2025-11-18 06:45:35.043 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 06:45:35.044 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:45:35.045 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 4.9421ms
2025-11-18 06:45:35.063 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 06:45:35.063 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:45:35.135 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:45:35.136 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:45:35.137 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 06:45:35.141 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 06:45:35.152 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:45:35.163 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 06:45:35.166 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:45:35.169 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:45:35.173 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:45:35.175 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:45:35.192 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 06:45:35.194 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 06:45:35.194 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 06:45:35.195 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 57.094ms
2025-11-18 06:45:35.195 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:45:35.195 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 132.8563ms
2025-11-18 06:45:38.650 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 06:45:38.659 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:45:38.716 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:45:38.717 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:45:38.717 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 06:45:38.723 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 06:45:38.726 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:45:38.732 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 06:45:38.735 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:45:38.738 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:45:38.742 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:45:38.743 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:45:38.754 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 06:45:38.756 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 06:45:38.758 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 06:45:38.760 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 41.9909ms
2025-11-18 06:45:38.760 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:45:38.760 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 113.2187ms
2025-11-18 06:45:54.103 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 06:45:54.105 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:45:54.105 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 2.4075ms
2025-11-18 06:45:54.108 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 06:45:54.110 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:45:54.156 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:45:54.158 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:45:54.158 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 06:45:54.165 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 06:45:54.170 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:45:54.177 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 06:45:54.180 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:45:54.180 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:45:54.181 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:45:54.182 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:45:54.186 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 06:45:54.187 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 06:45:54.188 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 06:45:54.188 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 29.4796ms
2025-11-18 06:45:54.188 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:45:54.188 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 79.3928ms
2025-11-18 06:46:01.040 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 06:46:01.050 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:46:01.051 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 10.1934ms
2025-11-18 06:46:01.066 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 06:46:01.066 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:46:01.167 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:46:01.168 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:46:01.168 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 06:46:01.171 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 06:46:01.172 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:46:01.182 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 06:46:01.183 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:46:01.184 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:46:01.188 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:46:01.189 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:46:01.220 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 06:46:01.221 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 06:46:01.221 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 06:46:01.222 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 53.6294ms
2025-11-18 06:46:01.222 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:46:01.222 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 156.1722ms
2025-11-18 06:46:02.400 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 06:46:02.402 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:46:02.454 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:46:02.454 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:46:02.454 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 06:46:02.457 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 06:46:02.459 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:46:02.485 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 06:46:02.504 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:46:02.511 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:46:02.514 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:46:02.516 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:46:02.523 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 06:46:02.527 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 06:46:02.528 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 06:46:02.528 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 73.626ms
2025-11-18 06:46:02.528 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:46:02.528 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 129.993ms
2025-11-18 06:46:21.463 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 06:46:21.464 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:46:21.465 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 2.6013ms
2025-11-18 06:46:21.468 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 06:46:21.468 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:46:21.510 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:46:21.510 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:46:21.510 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 06:46:21.513 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 06:46:21.518 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:46:21.522 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 06:46:21.525 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:46:21.527 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:46:21.529 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:46:21.531 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:46:21.533 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 06:46:21.534 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 06:46:21.534 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 06:46:21.534 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 23.8165ms
2025-11-18 06:46:21.534 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:46:21.534 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 66.6841ms
2025-11-18 06:46:25.020 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 06:46:25.021 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:46:25.021 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.3283ms
2025-11-18 06:46:25.022 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:46:25.022 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:46:25.037 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:46:25.037 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:46:25.037 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:46:25.038 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:46:25.039 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:46:25.039 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:46:25.039 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.8092ms
2025-11-18 06:46:25.039 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:46:25.039 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 17.4521ms
2025-11-18 06:47:07.900 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 06:47:07.902 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:47:07.903 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 3.7756ms
2025-11-18 06:47:07.905 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 06:47:07.905 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:47:08.008 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:47:08.008 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:47:08.009 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 06:47:08.015 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 06:47:08.020 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:47:08.031 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 06:47:08.036 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:47:08.040 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:47:08.046 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:47:08.047 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:47:08.061 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 06:47:08.065 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 06:47:08.066 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 06:47:08.066 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 56.675ms
2025-11-18 06:47:08.066 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:47:08.066 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 161.3523ms
2025-11-18 06:47:10.348 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 06:47:10.351 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:47:10.351 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 3.3945ms
2025-11-18 06:47:10.354 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:47:10.354 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:47:10.372 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:47:10.373 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:47:10.373 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:47:10.374 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:47:10.375 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:47:10.376 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:47:10.376 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 3.0233ms
2025-11-18 06:47:10.376 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:47:10.376 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 23.0892ms
2025-11-18 06:47:51.928 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 06:47:51.930 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:47:51.930 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 2.0725ms
2025-11-18 06:47:51.932 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:47:51.932 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:47:51.953 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:47:51.953 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:47:51.953 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:47:51.955 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:47:51.956 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:47:51.956 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:47:51.956 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.7514ms
2025-11-18 06:47:51.956 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:47:51.956 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 24.311ms
2025-11-18 06:48:33.441 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 06:48:33.443 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:48:33.444 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 2.8794ms
2025-11-18 06:48:33.446 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:48:33.446 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:48:33.478 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:48:33.478 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:48:33.478 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:48:33.480 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:48:33.481 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:48:33.481 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:48:33.482 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 3.5193ms
2025-11-18 06:48:33.482 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:48:33.482 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 35.8938ms
2025-11-18 06:49:13.934 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 06:49:13.935 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:49:13.935 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 1.7796ms
2025-11-18 06:49:13.940 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:49:13.941 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:49:13.973 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:49:13.973 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:49:13.973 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:49:13.975 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:49:13.977 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:49:13.978 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:49:13.978 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 5.1007ms
2025-11-18 06:49:13.978 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:49:13.979 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 38.7044ms
2025-11-18 06:52:03.399 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 06:52:03.407 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:52:03.407 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 8.8312ms
2025-11-18 06:52:03.409 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:52:03.410 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:52:03.455 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:52:03.456 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:52:03.456 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:52:03.458 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:52:03.459 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:52:03.459 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:52:03.459 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 3.4404ms
2025-11-18 06:52:03.459 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:52:03.459 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 50.5106ms
2025-11-18 06:52:08.008 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 06:52:08.009 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:52:08.017 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 8.9052ms
2025-11-18 06:52:08.020 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 06:52:08.020 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:52:08.054 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:52:08.054 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:52:08.055 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 06:52:08.064 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 06:52:08.068 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:52:08.097 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 06:52:08.101 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:52:08.104 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:52:08.106 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:52:08.108 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:52:08.119 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 06:52:08.121 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 06:52:08.121 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 06:52:08.122 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 66.9737ms
2025-11-18 06:52:08.122 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:52:08.122 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 101.5937ms
2025-11-18 06:52:12.457 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 06:52:12.458 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:52:12.458 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.6153ms
2025-11-18 06:52:12.459 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:52:12.459 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:52:12.476 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:52:12.476 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:52:12.477 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:52:12.478 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:52:12.479 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:52:12.479 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:52:12.479 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.2596ms
2025-11-18 06:52:12.479 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:52:12.479 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 20.3987ms
2025-11-18 06:52:34.832 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 06:52:34.833 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:52:34.834 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 2.1049ms
2025-11-18 06:52:34.836 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:52:34.837 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:52:34.867 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:52:34.868 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:52:34.868 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:52:34.869 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:52:34.870 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:52:34.870 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:52:34.871 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.8606ms
2025-11-18 06:52:34.871 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:52:34.871 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 34.6453ms
2025-11-18 06:53:21.224 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 06:53:21.225 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:53:21.227 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 2.9316ms
2025-11-18 06:53:21.228 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:53:21.228 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:53:21.257 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:53:21.257 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:53:21.257 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:53:21.259 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:53:21.260 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:53:21.262 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:53:21.264 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 7.01ms
2025-11-18 06:53:21.264 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:53:21.264 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 36.7077ms
2025-11-18 06:54:01.203 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 06:54:01.205 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:54:01.205 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 1.8629ms
2025-11-18 06:54:01.206 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:54:01.206 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:54:01.235 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:54:01.235 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:54:01.236 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:54:01.239 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:54:01.240 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:54:01.240 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:54:01.241 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 5.1115ms
2025-11-18 06:54:01.241 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:54:01.241 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 34.7654ms
2025-11-18 06:54:09.453 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 06:54:09.453 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:54:09.453 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.3094ms
2025-11-18 06:54:09.454 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:54:09.454 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:54:09.469 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:54:09.469 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:54:09.469 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:54:09.470 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:54:09.471 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:54:09.471 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:54:09.471 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.0011ms
2025-11-18 06:54:09.471 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:54:09.471 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 17.3725ms
2025-11-18 06:54:26.647 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 06:54:26.648 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:54:26.648 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 1.5535ms
2025-11-18 06:54:26.650 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:54:26.652 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:54:26.679 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:54:26.680 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:54:26.680 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:54:26.681 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:54:26.682 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:54:26.682 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:54:26.683 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.7252ms
2025-11-18 06:54:26.683 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:54:26.683 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 32.3415ms
2025-11-18 06:54:28.519 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 06:54:28.519 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:54:28.519 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 0.6142ms
2025-11-18 06:54:28.527 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 06:54:28.528 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:54:28.541 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:54:28.541 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 06:54:28.543 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 06:54:28.546 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:54:28.560 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 06:54:28.566 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:54:28.570 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 27.8148ms
2025-11-18 06:54:28.570 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 06:54:28.571 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 43.1428ms
2025-11-18 06:54:30.649 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts/9375 - null null
2025-11-18 06:54:30.653 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:54:30.654 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts/9375 - 204 null null 4.4913ms
2025-11-18 06:54:30.656 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:8080/api/v1/workouts/9375 - null null
2025-11-18 06:54:30.657 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:54:30.676 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:54:30.677 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.DeleteById (MappyApplication)'
2025-11-18 06:54:30.714 +03:00 [INF] Route matched with {action = "DeleteById", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteById(Int32) on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 06:54:30.754 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:54:30.777 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
DELETE FROM `Workouts`
WHERE `Id` = @p0;
SELECT ROW_COUNT();
2025-11-18 06:54:30.777 +03:00 [INF] Deleted Workouts MappyApplication.Data.Workouts
2025-11-18 06:54:30.777 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 06:54:30.778 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.DeleteById (MappyApplication) in 63.8551ms
2025-11-18 06:54:30.778 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.DeleteById (MappyApplication)'
2025-11-18 06:54:30.778 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:8080/api/v1/workouts/9375 - 200 null application/json; charset=utf-8 122.1027ms
2025-11-18 06:54:30.779 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 06:54:30.779 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:54:30.791 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:54:30.791 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 06:54:30.791 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 06:54:30.792 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:54:30.792 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 06:54:30.793 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:54:30.793 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 1.8767ms
2025-11-18 06:54:30.793 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 06:54:30.793 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 13.525ms
2025-11-18 06:54:31.583 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts/9376 - null null
2025-11-18 06:54:31.584 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:54:31.584 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts/9376 - 204 null null 1.0755ms
2025-11-18 06:54:31.589 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:8080/api/v1/workouts/9376 - null null
2025-11-18 06:54:31.589 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:54:31.606 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:54:31.607 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.DeleteById (MappyApplication)'
2025-11-18 06:54:31.607 +03:00 [INF] Route matched with {action = "DeleteById", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteById(Int32) on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 06:54:31.608 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:54:31.611 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
DELETE FROM `Workouts`
WHERE `Id` = @p0;
SELECT ROW_COUNT();
2025-11-18 06:54:31.611 +03:00 [INF] Deleted Workouts MappyApplication.Data.Workouts
2025-11-18 06:54:31.611 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 06:54:31.612 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.DeleteById (MappyApplication) in 4.802ms
2025-11-18 06:54:31.612 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.DeleteById (MappyApplication)'
2025-11-18 06:54:31.612 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:8080/api/v1/workouts/9376 - 200 null application/json; charset=utf-8 24.6579ms
2025-11-18 06:54:31.624 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 06:54:31.625 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:54:31.640 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:54:31.640 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 06:54:31.640 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 06:54:31.640 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:54:31.641 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 06:54:31.641 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:54:31.641 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 1.528ms
2025-11-18 06:54:31.641 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 06:54:31.641 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 16.8593ms
2025-11-18 06:58:17.007 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 06:58:17.012 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:58:17.013 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 6.1612ms
2025-11-18 06:58:17.015 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 06:58:17.017 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:58:17.187 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:58:17.191 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:58:17.192 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 06:58:17.196 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 06:58:17.212 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:58:17.234 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 06:58:17.245 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:58:17.247 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:58:17.250 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:58:17.251 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:58:17.272 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 06:58:17.276 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 06:58:17.276 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 06:58:17.277 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 84.852ms
2025-11-18 06:58:17.277 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:58:17.277 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 261.5347ms
2025-11-18 06:58:18.961 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 06:58:18.961 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:58:18.979 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:58:18.980 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:58:18.981 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 06:58:18.985 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 06:58:18.986 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:58:18.990 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 06:58:18.990 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:58:18.991 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:58:18.993 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:58:18.994 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:58:18.997 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 06:58:18.997 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 06:58:18.998 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 06:58:18.998 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 16.6079ms
2025-11-18 06:58:18.998 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:58:18.998 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 36.9927ms
2025-11-18 06:58:22.403 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 06:58:22.407 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:58:22.407 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 4.5745ms
2025-11-18 06:58:22.408 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 06:58:22.408 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:58:22.444 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:58:22.444 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:58:22.444 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 06:58:22.447 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 06:58:22.452 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:58:22.455 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 06:58:22.457 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:58:22.457 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:58:22.458 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:58:22.459 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:58:22.462 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 06:58:22.463 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 06:58:22.463 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 06:58:22.463 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 19.1074ms
2025-11-18 06:58:22.464 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:58:22.464 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 56.0381ms
2025-11-18 06:58:27.094 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 06:58:27.097 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:58:27.128 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:58:27.129 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:58:27.129 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 06:58:27.134 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 06:58:27.135 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:58:27.139 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 06:58:27.143 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:58:27.144 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:58:27.145 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:58:27.146 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:58:27.153 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 06:58:27.153 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 06:58:27.158 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 06:58:27.158 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 28.5471ms
2025-11-18 06:58:27.158 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:58:27.158 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 64.2887ms
2025-11-18 06:58:28.375 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 06:58:28.376 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:58:28.377 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 1.481ms
2025-11-18 06:58:28.380 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 06:58:28.380 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:58:28.395 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:58:28.395 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:58:28.395 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 06:58:28.398 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 06:58:28.399 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:58:28.401 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 06:58:28.402 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:58:28.403 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:58:28.403 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:58:28.403 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:58:28.404 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 06:58:28.405 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 06:58:28.405 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 06:58:28.405 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 9.6902ms
2025-11-18 06:58:28.405 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:58:28.405 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 25.2561ms
2025-11-18 06:58:30.075 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 06:58:30.076 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:58:30.107 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:58:30.108 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:58:30.108 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 06:58:30.110 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 06:58:30.111 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:58:30.114 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 06:58:30.115 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:58:30.116 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:58:30.117 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:58:30.117 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:58:30.126 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 06:58:30.126 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 06:58:30.126 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 06:58:30.127 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 18.933ms
2025-11-18 06:58:30.127 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:58:30.127 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 52.366ms
2025-11-18 06:58:36.873 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 06:58:36.879 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:58:36.881 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 7.5647ms
2025-11-18 06:58:36.882 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:58:36.883 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:58:36.913 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:58:36.914 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:58:36.914 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:58:36.919 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:58:36.920 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:58:36.920 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:58:36.921 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 6.8794ms
2025-11-18 06:58:36.921 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:58:36.921 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 39.645ms
2025-11-18 06:58:38.640 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 06:58:38.640 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:58:38.640 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 0.4859ms
2025-11-18 06:58:38.644 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 06:58:38.646 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:58:38.675 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:58:38.675 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:58:38.675 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 06:58:38.678 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 06:58:38.679 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:58:38.685 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 06:58:38.687 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:58:38.689 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:58:38.692 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 06:58:38.693 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 06:58:38.701 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 06:58:38.702 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 06:58:38.702 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 06:58:38.703 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 27.253ms
2025-11-18 06:58:38.703 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 06:58:38.703 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 58.6974ms
2025-11-18 06:58:38.715 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 06:58:38.715 +03:00 [INF] CORS policy execution successful.
2025-11-18 06:58:38.736 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 06:58:38.737 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:58:38.737 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 06:58:38.738 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 06:58:38.739 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 06:58:38.739 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 06:58:38.739 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.6154ms
2025-11-18 06:58:38.739 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 06:58:38.739 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 24.8037ms
2025-11-18 07:00:39.620 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 07:00:39.622 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:00:39.623 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 2.6863ms
2025-11-18 07:00:39.624 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 07:00:39.625 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:00:39.738 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:00:39.738 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:00:39.739 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 07:00:39.740 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 07:00:39.746 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:00:39.763 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 07:00:39.773 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:00:39.773 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:00:39.774 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:00:39.774 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:00:39.782 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 07:00:39.783 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 07:00:39.783 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 07:00:39.783 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 44.5369ms
2025-11-18 07:00:39.783 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:00:39.784 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 159.6903ms
2025-11-18 07:00:53.115 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 07:00:53.124 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:00:53.127 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 11.6708ms
2025-11-18 07:00:53.129 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:00:53.129 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:00:53.181 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:00:53.185 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:00:53.185 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:00:53.189 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:00:53.192 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:00:53.193 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:00:53.193 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 8.2588ms
2025-11-18 07:00:53.193 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:00:53.193 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 64.8263ms
2025-11-18 07:01:29.256 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 07:01:29.259 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:01:29.260 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 3.9769ms
2025-11-18 07:01:29.263 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 07:01:29.272 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:01:29.451 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:01:29.451 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:01:29.452 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 07:01:29.453 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 07:01:29.459 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:01:29.472 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 07:01:29.474 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:01:29.475 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:01:29.475 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:01:29.476 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:01:29.481 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 07:01:29.482 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 07:01:29.483 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 07:01:29.483 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 30.8284ms
2025-11-18 07:01:29.483 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:01:29.483 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 220.5829ms
2025-11-18 07:01:56.503 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 07:01:56.504 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:01:56.504 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 1.3603ms
2025-11-18 07:01:56.508 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 07:01:56.508 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:01:56.557 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:01:56.558 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:01:56.558 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 07:01:56.568 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 07:01:56.571 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:01:56.576 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 07:01:56.578 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:01:56.580 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:01:56.581 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:01:56.582 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:01:56.601 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 07:01:56.602 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 07:01:56.602 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 07:01:56.603 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 44.3579ms
2025-11-18 07:01:56.603 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:01:56.603 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 95.2678ms
2025-11-18 07:02:09.358 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 07:02:09.374 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:02:09.375 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 16.5995ms
2025-11-18 07:02:09.379 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 07:02:09.379 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:02:09.451 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:02:09.460 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:02:09.461 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 07:02:09.467 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 07:02:09.473 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:02:09.479 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 07:02:09.483 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:02:09.488 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:02:09.491 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:02:09.493 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:02:09.499 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 07:02:09.502 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 07:02:09.503 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 07:02:09.503 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 42.7331ms
2025-11-18 07:02:09.504 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:02:09.504 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 125.2004ms
2025-11-18 07:03:00.021 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 07:03:00.037 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:03:00.045 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 30.1121ms
2025-11-18 07:03:00.055 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 07:03:00.056 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:03:00.110 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:03:00.110 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:03:00.111 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 07:03:00.117 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 07:03:00.125 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:03:00.135 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 07:03:00.136 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:03:00.138 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:03:00.139 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:03:00.140 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:03:00.146 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 07:03:00.147 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 07:03:00.148 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 07:03:00.150 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 39.4712ms
2025-11-18 07:03:00.151 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:03:00.151 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 95.8926ms
2025-11-18 07:03:34.336 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 07:03:34.337 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:03:34.338 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 2.3104ms
2025-11-18 07:03:34.340 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 07:03:34.340 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:03:34.399 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:03:34.400 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:03:34.400 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 07:03:34.406 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 07:03:34.411 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:03:34.419 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 07:03:34.424 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:03:34.429 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:03:34.440 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:03:34.445 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:03:34.455 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 07:03:34.460 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 07:03:34.462 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 07:03:34.464 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 63.2495ms
2025-11-18 07:03:34.464 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:03:34.464 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 123.7375ms
2025-11-18 07:04:47.857 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 07:04:47.860 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:04:47.861 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 3.8147ms
2025-11-18 07:04:47.869 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:04:47.869 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:04:47.913 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:04:47.915 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:04:47.915 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:04:47.919 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:04:47.921 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:04:47.921 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:04:47.921 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 6.5629ms
2025-11-18 07:04:47.921 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:04:47.922 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 52.2891ms
2025-11-18 07:05:08.904 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 07:05:08.908 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:05:08.917 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 12.7202ms
2025-11-18 07:05:08.924 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 07:05:08.924 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:05:08.994 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:05:08.995 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:05:08.996 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 07:05:08.999 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 07:05:09.003 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:05:09.012 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 07:05:09.015 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:05:09.017 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:05:09.030 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:05:09.034 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:05:09.044 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 07:05:09.047 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 07:05:09.048 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 07:05:09.049 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 53.4098ms
2025-11-18 07:05:09.050 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:05:09.051 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 125.4641ms
2025-11-18 07:05:32.732 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 07:05:32.735 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:05:32.736 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 3.3969ms
2025-11-18 07:05:32.739 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 07:05:32.744 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:05:32.828 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:05:32.828 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:05:32.828 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 07:05:32.831 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 07:05:32.842 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:05:32.862 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 07:05:32.867 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:05:32.871 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:05:32.875 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:05:32.877 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:05:32.891 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 07:05:32.894 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 07:05:32.895 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 07:05:32.898 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 69.9591ms
2025-11-18 07:05:32.898 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:05:32.899 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 159.9702ms
2025-11-18 07:05:35.216 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 07:05:35.218 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:05:35.320 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:05:35.325 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:05:35.325 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 07:05:35.330 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 07:05:35.335 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:05:35.339 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 07:05:35.341 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:05:35.342 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:05:35.342 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:05:35.343 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:05:35.353 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 07:05:35.354 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 07:05:35.354 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 07:05:35.355 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 29.7209ms
2025-11-18 07:05:35.356 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:05:35.357 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 140.342ms
2025-11-18 07:05:37.215 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 07:05:37.217 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:05:37.265 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:05:37.266 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:05:37.266 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 07:05:37.268 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 07:05:37.272 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:05:37.275 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 07:05:37.277 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:05:37.279 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:05:37.282 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:05:37.283 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:05:37.288 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 07:05:37.290 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 07:05:37.291 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 07:05:37.291 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 24.761ms
2025-11-18 07:05:37.291 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:05:37.291 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 76.2655ms
2025-11-18 07:06:18.382 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 07:06:18.395 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:06:18.395 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 17.8716ms
2025-11-18 07:06:18.398 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 07:06:18.401 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:06:18.453 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:06:18.455 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:06:18.455 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 07:06:18.458 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 07:06:18.470 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:06:18.478 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 07:06:18.480 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:06:18.499 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:06:18.505 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:06:18.505 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:06:18.513 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 07:06:18.518 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 07:06:18.518 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 07:06:18.518 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 62.9418ms
2025-11-18 07:06:18.518 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:06:18.519 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 120.4355ms
2025-11-18 07:06:55.101 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 07:06:55.103 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:06:55.104 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 2.3848ms
2025-11-18 07:06:55.106 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 07:06:55.109 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:06:55.198 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:06:55.199 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:06:55.204 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 07:06:55.208 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 07:06:55.216 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:06:55.232 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 07:06:55.237 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:06:55.241 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:06:55.246 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:06:55.246 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:06:55.269 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 07:06:55.270 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 07:06:55.270 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 07:06:55.277 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 73.0066ms
2025-11-18 07:06:55.277 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:06:55.277 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 170.884ms
2025-11-18 07:06:59.449 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 07:06:59.450 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:06:59.454 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 4.9703ms
2025-11-18 07:06:59.457 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:06:59.457 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:06:59.529 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:06:59.530 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:06:59.530 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:06:59.534 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:06:59.538 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:06:59.539 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:06:59.539 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 9.3803ms
2025-11-18 07:06:59.539 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:06:59.540 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 83.3698ms
2025-11-18 07:07:01.092 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 07:07:01.095 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:07:01.098 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 5.719ms
2025-11-18 07:07:01.099 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 07:07:01.100 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:07:01.124 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:07:01.124 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 07:07:01.124 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 07:07:01.126 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:07:01.131 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 07:07:01.131 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:07:01.133 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 8.2566ms
2025-11-18 07:07:01.133 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 07:07:01.133 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 33.7965ms
2025-11-18 07:07:11.877 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 07:07:11.877 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:07:11.883 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 3.4794ms
2025-11-18 07:07:11.886 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 07:07:11.886 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:07:11.934 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:07:11.934 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:07:11.934 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 07:07:11.939 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 07:07:11.942 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:07:11.948 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 07:07:11.952 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:07:11.955 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:07:11.956 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:07:11.959 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:07:11.964 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 07:07:11.965 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 07:07:11.965 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 07:07:11.965 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 30.6341ms
2025-11-18 07:07:11.965 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:07:11.965 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 78.9714ms
2025-11-18 07:07:15.088 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 07:07:15.088 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:07:15.116 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:07:15.117 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:07:15.117 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 07:07:15.121 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 07:07:15.122 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:07:15.127 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 07:07:15.131 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:07:15.138 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:07:15.139 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:07:15.140 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:07:15.144 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 07:07:15.144 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 07:07:15.144 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 07:07:15.144 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 26.9096ms
2025-11-18 07:07:15.144 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:07:15.145 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 56.7899ms
2025-11-18 07:09:12.235 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 07:09:12.238 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:09:12.238 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 3.1957ms
2025-11-18 07:09:12.239 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 07:09:12.239 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:09:12.283 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:09:12.285 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:09:12.285 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 07:09:12.286 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 07:09:12.288 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:09:12.291 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 07:09:12.292 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:09:12.293 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:09:12.293 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:09:12.294 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:09:12.299 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 07:09:12.299 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 07:09:12.301 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 07:09:12.301 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 15.9417ms
2025-11-18 07:09:12.301 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:09:12.301 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 61.921ms
2025-11-18 07:09:28.515 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 07:09:28.516 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:09:28.516 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 0.8979ms
2025-11-18 07:09:28.516 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 07:09:28.517 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:09:28.550 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:09:28.550 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:09:28.550 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 07:09:28.553 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 07:09:28.555 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:09:28.558 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 07:09:28.559 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:09:28.560 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:09:28.561 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:09:28.561 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:09:28.566 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 07:09:28.567 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 07:09:28.567 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 07:09:28.567 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 16.7332ms
2025-11-18 07:09:28.567 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:09:28.567 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 50.8607ms
2025-11-18 07:09:32.020 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/login - null null
2025-11-18 07:09:32.021 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:09:32.021 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/login - 204 null null 1.0598ms
2025-11-18 07:09:32.023 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/login - application/json 51
2025-11-18 07:09:32.023 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:09:32.047 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:09:32.049 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.Login (MappyApplication)'
2025-11-18 07:09:32.049 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] Login(MappyApplication.Models.user.AuthLogin) on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 07:09:32.072 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`NormalizedEmail` = @__normalizedEmail_0
LIMIT 2
2025-11-18 07:09:32.122 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 07:09:32.122 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:09:32.123 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:09:32.124 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:09:32.124 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:09:32.126 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 07:09:32.126 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 07:09:32.126 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 07:09:32.126 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.Login (MappyApplication) in 77.1329ms
2025-11-18 07:09:32.126 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.Login (MappyApplication)'
2025-11-18 07:09:32.126 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/login - 200 null application/json; charset=utf-8 103.483ms
2025-11-18 07:09:32.545 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 07:09:32.546 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:09:32.546 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 1.0171ms
2025-11-18 07:09:32.548 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:09:32.548 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:09:32.565 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:09:32.565 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:09:32.565 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:09:32.566 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:09:32.567 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:09:32.567 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:09:32.567 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.0805ms
2025-11-18 07:09:32.567 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:09:32.567 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 19.8243ms
2025-11-18 07:10:09.937 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 07:10:09.939 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:10:09.939 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 2.1188ms
2025-11-18 07:10:09.943 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:10:09.943 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:10:09.976 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:10:09.976 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:10:09.976 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:10:09.978 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:10:09.981 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:10:09.981 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:10:09.981 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 5.0282ms
2025-11-18 07:10:09.981 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:10:09.981 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 38.6732ms
2025-11-18 07:10:38.308 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 07:10:38.310 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:10:38.310 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 2.4757ms
2025-11-18 07:10:38.311 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:10:38.311 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:10:38.337 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:10:38.338 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:10:38.338 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:10:38.340 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:10:38.341 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:10:38.341 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:10:38.341 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.8514ms
2025-11-18 07:10:38.341 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:10:38.341 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 29.8803ms
2025-11-18 07:12:34.420 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 07:12:34.422 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:12:34.423 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 3.0976ms
2025-11-18 07:12:34.424 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:12:34.424 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:12:34.456 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:12:34.457 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:12:34.458 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:12:34.460 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:12:34.461 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:12:34.461 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:12:34.462 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 4.2692ms
2025-11-18 07:12:34.462 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:12:34.462 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 38.4926ms
2025-11-18 07:13:13.909 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 07:13:13.914 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:13:13.915 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 6.1619ms
2025-11-18 07:13:13.918 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:13:13.918 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:13:13.947 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:13:13.947 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:13:13.948 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:13:13.949 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:13:13.950 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:13:13.951 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:13:13.951 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 3.5144ms
2025-11-18 07:13:13.951 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:13:13.951 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 33.4788ms
2025-11-18 07:13:15.601 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 07:13:15.601 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:13:15.601 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 0.7857ms
2025-11-18 07:13:15.605 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 07:13:15.605 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:13:15.621 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:13:15.622 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:13:15.622 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 07:13:15.624 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 07:13:15.625 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:13:15.645 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 07:13:15.649 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:13:15.650 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:13:15.651 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:13:15.651 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:13:15.659 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 07:13:15.660 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 07:13:15.662 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 07:13:15.662 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 39.772ms
2025-11-18 07:13:15.662 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:13:15.662 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 57.2225ms
2025-11-18 07:13:15.674 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:13:15.675 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:13:15.689 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:13:15.689 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:13:15.689 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:13:15.690 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:13:15.691 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:13:15.691 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:13:15.692 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.3959ms
2025-11-18 07:13:15.692 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:13:15.692 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 17.2235ms
2025-11-18 07:13:44.608 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 07:13:44.610 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:13:44.610 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 2.6449ms
2025-11-18 07:13:44.611 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 07:13:44.611 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:13:44.634 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:13:44.634 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:13:44.634 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 07:13:44.638 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 07:13:44.640 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:13:44.645 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 07:13:44.646 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:13:44.647 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:13:44.647 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:13:44.647 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:13:44.652 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 07:13:44.652 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 07:13:44.653 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 07:13:44.653 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 18.2485ms
2025-11-18 07:13:44.653 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:13:44.653 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 41.7692ms
2025-11-18 07:13:46.473 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 07:13:46.474 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:13:46.475 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 1.3746ms
2025-11-18 07:13:46.477 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:13:46.477 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:13:46.502 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:13:46.503 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:13:46.503 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:13:46.505 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:13:46.509 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:13:46.510 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:13:46.510 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 6.8019ms
2025-11-18 07:13:46.510 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:13:46.510 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 32.6948ms
2025-11-18 07:14:22.260 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 07:14:22.261 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:14:22.261 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 1.5791ms
2025-11-18 07:14:22.266 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:14:22.267 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:14:22.298 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:14:22.299 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:14:22.299 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:14:22.302 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:14:22.304 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:14:22.305 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:14:22.307 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 7.4066ms
2025-11-18 07:14:22.307 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:14:22.307 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 40.9088ms
2025-11-18 07:14:29.397 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 07:14:29.398 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:14:29.398 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 1.3333ms
2025-11-18 07:14:29.401 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:14:29.401 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:14:29.418 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:14:29.418 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:14:29.418 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:14:29.419 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:14:29.420 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:14:29.420 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:14:29.420 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.8087ms
2025-11-18 07:14:29.420 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:14:29.420 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 19.8033ms
2025-11-18 07:14:49.158 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 07:14:49.159 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:14:49.160 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 2.04ms
2025-11-18 07:14:49.163 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:14:49.164 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:14:49.184 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:14:49.186 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:14:49.186 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:14:49.187 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:14:49.189 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:14:49.189 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:14:49.189 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.8625ms
2025-11-18 07:14:49.189 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:14:49.189 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 25.5207ms
2025-11-18 07:14:50.695 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 07:14:50.695 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:14:50.696 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 0.2527ms
2025-11-18 07:14:50.697 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 07:14:50.697 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:14:50.731 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:14:50.731 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:14:50.731 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 07:14:50.734 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 07:14:50.736 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:14:50.749 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 07:14:50.751 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:14:50.752 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:14:50.761 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:14:50.763 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:14:50.780 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 07:14:50.782 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 07:14:50.785 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 07:14:50.785 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 53.6984ms
2025-11-18 07:14:50.785 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:14:50.785 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 88.2712ms
2025-11-18 07:14:50.812 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:14:50.812 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:14:50.836 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:14:50.837 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:14:50.837 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:14:50.839 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:14:50.841 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:14:50.841 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:14:50.841 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 4.5841ms
2025-11-18 07:14:50.841 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:14:50.842 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 29.6378ms
2025-11-18 07:16:37.711 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 07:16:37.713 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:16:37.714 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 2.4827ms
2025-11-18 07:16:37.716 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 07:16:37.717 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:16:37.762 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:16:37.763 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:16:37.763 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 07:16:37.767 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 07:16:37.773 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:16:37.786 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 07:16:37.788 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:16:37.791 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:16:37.795 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:16:37.796 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:16:37.804 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 07:16:37.805 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 07:16:37.805 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 07:16:37.805 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 41.2686ms
2025-11-18 07:16:37.805 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:16:37.805 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 89.0642ms
2025-11-18 07:16:41.398 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 07:16:41.399 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:16:41.400 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 2.3326ms
2025-11-18 07:16:41.401 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:16:41.403 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:16:41.435 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:16:41.436 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:16:41.436 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:16:41.439 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:16:41.439 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:16:41.440 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:16:41.440 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 3.4876ms
2025-11-18 07:16:41.440 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:16:41.440 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 38.2142ms
2025-11-18 07:16:54.952 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 07:16:54.956 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:16:54.956 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 3.6078ms
2025-11-18 07:16:54.958 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 07:16:54.959 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:16:54.986 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:16:54.986 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:16:54.986 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 07:16:54.989 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 07:16:54.991 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:16:54.998 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 07:16:55.001 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:16:55.002 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:16:55.003 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:16:55.004 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:16:55.007 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 07:16:55.008 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 07:16:55.008 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 07:16:55.008 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 21.475ms
2025-11-18 07:16:55.008 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:16:55.008 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 49.434ms
2025-11-18 07:16:55.671 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 07:16:55.671 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:16:55.700 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:16:55.700 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:16:55.700 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 07:16:55.703 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 07:16:55.705 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:16:55.707 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 07:16:55.709 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:16:55.710 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:16:55.712 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:16:55.715 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:16:55.723 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 07:16:55.725 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 07:16:55.726 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 07:16:55.726 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 25.5262ms
2025-11-18 07:16:55.726 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:16:55.726 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 55.233ms
2025-11-18 07:16:56.355 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 07:16:56.355 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:16:56.383 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:16:56.383 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:16:56.383 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 07:16:56.388 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 07:16:56.389 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:16:56.391 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 07:16:56.394 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:16:56.400 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:16:56.403 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:16:56.404 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:16:56.406 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 07:16:56.412 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 07:16:56.413 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 07:16:56.413 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 29.6552ms
2025-11-18 07:16:56.413 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:16:56.413 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 58.1597ms
2025-11-18 07:17:18.182 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 07:17:18.192 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:17:18.211 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 33.1781ms
2025-11-18 07:17:18.213 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:17:18.213 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:17:18.265 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:17:18.265 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:17:18.266 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:17:18.267 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:17:18.269 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:17:18.269 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:17:18.269 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 3.6378ms
2025-11-18 07:17:18.269 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:17:18.269 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 56.7785ms
2025-11-18 07:17:21.937 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:17:21.938 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:17:21.959 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:17:21.959 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:17:21.959 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:17:21.960 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:17:21.961 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:17:21.961 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:17:21.961 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.8526ms
2025-11-18 07:17:21.961 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:17:21.961 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 23.9192ms
2025-11-18 07:17:30.703 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 07:17:30.704 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:17:30.704 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 1.2033ms
2025-11-18 07:17:30.706 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 07:17:30.707 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:17:30.722 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:17:30.722 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:17:30.722 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 07:17:30.725 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 07:17:30.726 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:17:30.734 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 07:17:30.735 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:17:30.737 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:17:30.738 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:17:30.739 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:17:30.742 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 07:17:30.743 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 07:17:30.743 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 07:17:30.744 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 21.049ms
2025-11-18 07:17:30.744 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:17:30.744 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 37.5893ms
2025-11-18 07:17:32.537 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 07:17:32.537 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:17:32.537 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.3142ms
2025-11-18 07:17:32.539 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:17:32.539 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:17:32.558 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:17:32.558 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:17:32.558 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:17:32.559 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:17:32.560 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:17:32.560 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:17:32.560 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.5007ms
2025-11-18 07:17:32.560 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:17:32.560 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 20.6996ms
2025-11-18 07:20:33.701 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 07:20:33.704 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:20:33.707 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 7.3394ms
2025-11-18 07:20:33.709 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 07:20:33.709 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:20:33.766 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:20:33.768 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:20:33.769 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 07:20:33.773 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 07:20:33.776 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:20:33.781 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 07:20:33.783 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:20:33.785 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:20:33.786 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:20:33.789 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:20:33.791 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 07:20:33.792 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 07:20:33.792 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 07:20:33.793 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 24.7407ms
2025-11-18 07:20:33.793 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:20:33.794 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 84.7923ms
2025-11-18 07:20:38.935 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 07:20:38.936 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:20:38.936 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 1.8179ms
2025-11-18 07:20:38.938 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 07:20:38.940 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:20:39.008 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:20:39.009 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:20:39.009 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 07:20:39.015 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 07:20:39.017 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:20:39.025 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 07:20:39.027 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:20:39.027 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:20:39.030 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:20:39.032 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:20:39.034 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 07:20:39.035 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 07:20:39.035 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 07:20:39.035 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 25.646ms
2025-11-18 07:20:39.035 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:20:39.035 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 97.201ms
2025-11-18 07:24:46.756 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 07:24:46.758 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:24:46.759 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 2.7337ms
2025-11-18 07:24:46.761 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:24:46.761 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:24:46.815 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:24:46.816 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:24:46.816 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:24:46.818 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:24:46.823 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:24:46.823 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:24:46.824 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 8.0412ms
2025-11-18 07:24:46.824 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:24:46.824 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 63.3321ms
2025-11-18 07:25:00.266 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 07:25:00.275 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:25:00.276 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 10.5646ms
2025-11-18 07:25:00.280 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/cities - application/json 196
2025-11-18 07:25:00.283 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:25:00.344 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:25:00.345 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:25:00.380 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:25:00.380 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication)'
2025-11-18 07:25:00.386 +03:00 [INF] Route matched with {action = "AddAsynch", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAsynch(MappyApplication.Data.Cities) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:25:00.392 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:25:00.396 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:25:00.397 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:25:00.401 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:25:00.412 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:25:00.412 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:25:00.417 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 20.8379ms
2025-11-18 07:25:00.417 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:25:00.417 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 73.7642ms
2025-11-18 07:25:00.500 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:25:00.571 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Double), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Cities` (`CityName`, `Country`, `Date`, `Emoji`, `Lat`, `Lng`, `Notes`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `Cities`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 07:25:00.575 +03:00 [INF] Added Cities MappyApplication.Data.Cities
2025-11-18 07:25:00.579 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 07:25:00.579 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication) in 193.1394ms
2025-11-18 07:25:00.579 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication)'
2025-11-18 07:25:00.579 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 298.9835ms
2025-11-18 07:25:00.582 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:25:00.584 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:25:00.599 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:25:00.599 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:25:00.599 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:25:00.601 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:25:00.605 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:25:00.606 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:25:00.620 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 20.2324ms
2025-11-18 07:25:00.620 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:25:00.620 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 37.3647ms
2025-11-18 07:25:09.830 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 07:25:09.833 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:25:09.834 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 3.6936ms
2025-11-18 07:25:09.836 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:25:09.836 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:25:09.856 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:25:09.856 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:25:09.856 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:25:09.858 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:25:09.858 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:25:09.858 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:25:09.858 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.9449ms
2025-11-18 07:25:09.858 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:25:09.859 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 22.6221ms
2025-11-18 07:25:11.495 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 07:25:11.495 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:25:11.495 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 0.1213ms
2025-11-18 07:25:11.497 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 07:25:11.497 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:25:11.515 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:25:11.515 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 07:25:11.516 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 07:25:11.517 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:25:11.520 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 07:25:11.521 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:25:11.522 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 5.8812ms
2025-11-18 07:25:11.522 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 07:25:11.522 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 24.8889ms
2025-11-18 07:25:12.340 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:25:12.341 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:25:12.356 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:25:12.356 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:25:12.356 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:25:12.357 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:25:12.358 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:25:12.358 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:25:12.358 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.8083ms
2025-11-18 07:25:12.359 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:25:12.359 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 18.3872ms
2025-11-18 07:25:13.997 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/56 - null null
2025-11-18 07:25:13.998 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:25:13.999 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/56 - 204 null null 2.1779ms
2025-11-18 07:25:14.000 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities/56 - null null
2025-11-18 07:25:14.001 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:25:14.030 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:25:14.033 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 07:25:14.068 +03:00 [INF] Route matched with {action = "GetById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.cities.CitiesDto] GetById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:25:14.075 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:25:14.090 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.cities.CitiesDto'.
2025-11-18 07:25:14.102 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetById (MappyApplication) in 33.468ms
2025-11-18 07:25:14.102 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 07:25:14.102 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities/56 - 499 null application/json; charset=utf-8 101.7025ms
2025-11-18 07:25:16.217 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 07:25:16.217 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:25:16.217 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.4011ms
2025-11-18 07:25:16.219 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:25:16.219 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:25:16.235 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:25:16.235 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:25:16.235 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:25:16.237 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:25:16.237 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:25:16.237 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:25:16.238 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.2916ms
2025-11-18 07:25:16.238 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:25:16.238 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 19.6063ms
2025-11-18 07:25:17.261 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities/56 - null null
2025-11-18 07:25:17.261 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:25:17.292 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:25:17.292 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 07:25:17.292 +03:00 [INF] Route matched with {action = "GetById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.cities.CitiesDto] GetById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:25:17.293 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:25:17.294 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.cities.CitiesDto'.
2025-11-18 07:25:17.294 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetById (MappyApplication) in 1.7137ms
2025-11-18 07:25:17.294 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 07:25:17.294 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities/56 - 200 null application/json; charset=utf-8 32.9793ms
2025-11-18 07:25:18.661 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:25:18.661 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:25:18.681 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:25:18.682 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:25:18.682 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:25:18.683 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:25:18.685 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:25:18.685 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:25:18.686 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 4.078ms
2025-11-18 07:25:18.686 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:25:18.686 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 24.8893ms
2025-11-18 07:25:20.076 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/56 - null null
2025-11-18 07:25:20.077 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:25:20.077 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/56 - 204 null null 1.53ms
2025-11-18 07:25:20.085 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities/56 - null null
2025-11-18 07:25:20.086 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:25:20.102 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:25:20.102 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 07:25:20.102 +03:00 [INF] Route matched with {action = "GetById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.cities.CitiesDto] GetById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:25:20.104 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:25:20.104 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.cities.CitiesDto'.
2025-11-18 07:25:20.104 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetById (MappyApplication) in 2.3104ms
2025-11-18 07:25:20.104 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 07:25:20.104 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities/56 - 200 null application/json; charset=utf-8 18.744ms
2025-11-18 07:25:20.924 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:25:20.925 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:25:20.943 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:25:20.944 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:25:20.944 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:25:20.945 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:25:20.946 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:25:20.947 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:25:20.947 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.6104ms
2025-11-18 07:25:20.947 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:25:20.947 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 22.3015ms
2025-11-18 07:25:41.948 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 07:25:41.949 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:25:41.949 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.6608ms
2025-11-18 07:25:41.951 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/cities - application/json 92
2025-11-18 07:25:41.951 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:25:41.972 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:25:41.973 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication)'
2025-11-18 07:25:41.973 +03:00 [INF] Route matched with {action = "AddAsynch", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAsynch(MappyApplication.Data.Cities) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:25:41.976 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:25:41.979 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Double), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Cities` (`CityName`, `Country`, `Date`, `Emoji`, `Lat`, `Lng`, `Notes`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `Cities`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 07:25:41.982 +03:00 [INF] Added Cities MappyApplication.Data.Cities
2025-11-18 07:25:41.982 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 07:25:41.983 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication) in 9.7797ms
2025-11-18 07:25:41.983 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication)'
2025-11-18 07:25:41.983 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 32.2712ms
2025-11-18 07:25:41.990 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:25:41.991 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:25:41.993 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:25:41.993 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:25:42.009 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:25:42.009 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:25:42.009 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:25:42.010 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:25:42.011 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:25:42.011 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:25:42.011 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.2241ms
2025-11-18 07:25:42.011 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:25:42.012 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 21.739ms
2025-11-18 07:25:42.018 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:25:42.018 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:25:42.018 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:25:42.020 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:25:42.021 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:25:42.021 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:25:42.021 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.3583ms
2025-11-18 07:25:42.021 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:25:42.021 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 28.2501ms
2025-11-18 07:25:46.791 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/57 - null null
2025-11-18 07:25:46.791 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:25:46.791 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/57 - 204 null null 0.6689ms
2025-11-18 07:25:46.796 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:8080/api/v1/cities/57 - null null
2025-11-18 07:25:46.796 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:25:46.828 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:25:46.829 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication)'
2025-11-18 07:25:46.829 +03:00 [INF] Route matched with {action = "DeleteById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:25:46.833 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:25:46.837 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
DELETE FROM `Cities`
WHERE `Id` = @p0;
SELECT ROW_COUNT();
2025-11-18 07:25:46.837 +03:00 [INF] Deleted Cities MappyApplication.Data.Cities
2025-11-18 07:25:46.837 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 07:25:46.837 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication) in 8.4446ms
2025-11-18 07:25:46.837 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication)'
2025-11-18 07:25:46.837 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:8080/api/v1/cities/57 - 200 null application/json; charset=utf-8 41.6893ms
2025-11-18 07:25:46.843 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:25:46.843 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:25:46.863 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:25:46.863 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:25:46.863 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:25:46.864 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:25:46.864 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:25:46.865 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:25:46.865 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.0035ms
2025-11-18 07:25:46.865 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:25:46.865 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 22.1043ms
2025-11-18 07:25:47.939 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/56 - null null
2025-11-18 07:25:47.940 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:25:47.940 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/56 - 204 null null 1.1977ms
2025-11-18 07:25:47.942 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:8080/api/v1/cities/56 - null null
2025-11-18 07:25:47.943 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:25:47.972 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:25:47.972 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication)'
2025-11-18 07:25:47.972 +03:00 [INF] Route matched with {action = "DeleteById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:25:47.974 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:25:47.976 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
DELETE FROM `Cities`
WHERE `Id` = @p0;
SELECT ROW_COUNT();
2025-11-18 07:25:47.976 +03:00 [INF] Deleted Cities MappyApplication.Data.Cities
2025-11-18 07:25:47.976 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 07:25:47.977 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication) in 4.4625ms
2025-11-18 07:25:47.977 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication)'
2025-11-18 07:25:47.977 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:8080/api/v1/cities/56 - 200 null application/json; charset=utf-8 34.6488ms
2025-11-18 07:25:47.981 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 07:25:47.981 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:25:47.981 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.0992ms
2025-11-18 07:25:47.982 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:25:47.982 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:25:47.995 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:25:47.995 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:25:47.995 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:25:47.996 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:25:47.997 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:25:47.997 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:25:47.997 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.6402ms
2025-11-18 07:25:47.997 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:25:47.997 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 15.5558ms
2025-11-18 07:26:17.668 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 07:26:17.670 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:26:17.671 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 2.9377ms
2025-11-18 07:26:17.675 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/cities - application/json 205
2025-11-18 07:26:17.675 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:26:17.714 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:26:17.714 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:26:17.718 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:26:17.719 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication)'
2025-11-18 07:26:17.719 +03:00 [INF] Route matched with {action = "AddAsynch", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAsynch(MappyApplication.Data.Cities) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:26:17.726 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:26:17.730 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Double), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Cities` (`CityName`, `Country`, `Date`, `Emoji`, `Lat`, `Lng`, `Notes`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `Cities`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 07:26:17.731 +03:00 [INF] Added Cities MappyApplication.Data.Cities
2025-11-18 07:26:17.731 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 07:26:17.733 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication) in 13.232ms
2025-11-18 07:26:17.733 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication)'
2025-11-18 07:26:17.733 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 58.2891ms
2025-11-18 07:26:17.737 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:26:17.737 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:26:17.737 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:26:17.739 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:26:17.739 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:26:17.739 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:26:17.741 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:26:17.741 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:26:17.741 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 3.8625ms
2025-11-18 07:26:17.741 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:26:17.741 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 27.7987ms
2025-11-18 07:26:17.754 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:26:17.754 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:26:17.754 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:26:17.756 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:26:17.756 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:26:17.756 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:26:17.757 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.3627ms
2025-11-18 07:26:17.757 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:26:17.757 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 18.1585ms
2025-11-18 07:26:19.306 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/58 - null null
2025-11-18 07:26:19.307 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:26:19.309 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/58 - 204 null null 0.6907ms
2025-11-18 07:26:19.310 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:8080/api/v1/cities/58 - null null
2025-11-18 07:26:19.310 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:26:19.337 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:26:19.338 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication)'
2025-11-18 07:26:19.338 +03:00 [INF] Route matched with {action = "DeleteById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:26:19.341 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:26:19.344 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
DELETE FROM `Cities`
WHERE `Id` = @p0;
SELECT ROW_COUNT();
2025-11-18 07:26:19.344 +03:00 [INF] Deleted Cities MappyApplication.Data.Cities
2025-11-18 07:26:19.344 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 07:26:19.345 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication) in 6.6075ms
2025-11-18 07:26:19.345 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication)'
2025-11-18 07:26:19.345 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:8080/api/v1/cities/58 - 200 null application/json; charset=utf-8 34.772ms
2025-11-18 07:26:19.349 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:26:19.349 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:26:19.370 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:26:19.370 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:26:19.370 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:26:19.371 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:26:19.371 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:26:19.371 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:26:19.372 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.5292ms
2025-11-18 07:26:19.372 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:26:19.372 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 22.2899ms
2025-11-18 07:26:21.529 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/cities - application/json 204
2025-11-18 07:26:21.530 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:26:21.555 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:26:21.556 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication)'
2025-11-18 07:26:21.556 +03:00 [INF] Route matched with {action = "AddAsynch", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAsynch(MappyApplication.Data.Cities) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:26:21.559 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:26:21.561 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Double), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Cities` (`CityName`, `Country`, `Date`, `Emoji`, `Lat`, `Lng`, `Notes`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `Cities`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 07:26:21.562 +03:00 [INF] Added Cities MappyApplication.Data.Cities
2025-11-18 07:26:21.562 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 07:26:21.562 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication) in 6.5339ms
2025-11-18 07:26:21.562 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication)'
2025-11-18 07:26:21.562 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 33.1197ms
2025-11-18 07:26:21.573 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:26:21.573 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:26:21.575 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:26:21.575 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:26:21.589 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:26:21.590 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:26:21.590 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:26:21.590 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:26:21.590 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:26:21.590 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:26:21.591 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:26:21.591 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:26:21.592 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:26:21.592 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:26:21.592 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.954ms
2025-11-18 07:26:21.592 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:26:21.592 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:26:21.592 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 19.4308ms
2025-11-18 07:26:21.593 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:26:21.593 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.2677ms
2025-11-18 07:26:21.593 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:26:21.593 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 18.1889ms
2025-11-18 07:26:23.520 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/59 - null null
2025-11-18 07:26:23.521 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:26:23.522 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/59 - 204 null null 0.9846ms
2025-11-18 07:26:23.528 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:8080/api/v1/cities/59 - null null
2025-11-18 07:26:23.528 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:26:23.549 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:26:23.549 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication)'
2025-11-18 07:26:23.549 +03:00 [INF] Route matched with {action = "DeleteById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:26:23.551 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:26:23.553 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
DELETE FROM `Cities`
WHERE `Id` = @p0;
SELECT ROW_COUNT();
2025-11-18 07:26:23.553 +03:00 [INF] Deleted Cities MappyApplication.Data.Cities
2025-11-18 07:26:23.553 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 07:26:23.553 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication) in 4.2943ms
2025-11-18 07:26:23.553 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication)'
2025-11-18 07:26:23.553 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:8080/api/v1/cities/59 - 200 null application/json; charset=utf-8 25.3092ms
2025-11-18 07:26:23.556 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 07:26:23.556 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:26:23.556 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.0891ms
2025-11-18 07:26:23.557 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:26:23.557 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:26:23.575 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:26:23.575 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:26:23.575 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:26:23.576 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:26:23.576 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:26:23.576 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:26:23.576 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.6043ms
2025-11-18 07:26:23.576 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:26:23.576 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 19.2694ms
2025-11-18 07:26:26.046 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 07:26:26.047 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:26:26.047 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.5983ms
2025-11-18 07:26:26.050 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/cities - application/json 200
2025-11-18 07:26:26.050 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:26:26.072 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:26:26.073 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication)'
2025-11-18 07:26:26.073 +03:00 [INF] Route matched with {action = "AddAsynch", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAsynch(MappyApplication.Data.Cities) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:26:26.075 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:26:26.079 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Double), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Cities` (`CityName`, `Country`, `Date`, `Emoji`, `Lat`, `Lng`, `Notes`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `Cities`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 07:26:26.082 +03:00 [INF] Added Cities MappyApplication.Data.Cities
2025-11-18 07:26:26.082 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 07:26:26.082 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication) in 9.4252ms
2025-11-18 07:26:26.082 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication)'
2025-11-18 07:26:26.082 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 32.3772ms
2025-11-18 07:26:26.088 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:26:26.088 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:26:26.090 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:26:26.091 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:26:26.106 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:26:26.106 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:26:26.106 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:26:26.107 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:26:26.107 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:26:26.107 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:26:26.107 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:26:26.107 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:26:26.107 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:26:26.107 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.4591ms
2025-11-18 07:26:26.107 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:26:26.107 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 17.3205ms
2025-11-18 07:26:26.108 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:26:26.109 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:26:26.109 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:26:26.109 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.8308ms
2025-11-18 07:26:26.109 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:26:26.109 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 21.263ms
2025-11-18 07:31:23.885 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 07:31:23.889 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:31:23.890 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 4.6078ms
2025-11-18 07:31:23.892 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/cities - application/json 194
2025-11-18 07:31:23.893 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:31:23.968 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:31:23.969 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:31:23.979 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:31:23.982 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication)'
2025-11-18 07:31:23.983 +03:00 [INF] Route matched with {action = "AddAsynch", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAsynch(MappyApplication.Data.Cities) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:31:23.993 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:31:24.000 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Double), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Cities` (`CityName`, `Country`, `Date`, `Emoji`, `Lat`, `Lng`, `Notes`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `Cities`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 07:31:24.002 +03:00 [INF] Added Cities MappyApplication.Data.Cities
2025-11-18 07:31:24.002 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 07:31:24.003 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication) in 20.3797ms
2025-11-18 07:31:24.003 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication)'
2025-11-18 07:31:24.003 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 110.9767ms
2025-11-18 07:31:24.005 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:31:24.005 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:31:24.011 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:31:24.011 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:31:24.012 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:31:24.013 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:31:24.015 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:31:24.015 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:31:24.015 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 3.5379ms
2025-11-18 07:31:24.015 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:31:24.015 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 47.4592ms
2025-11-18 07:31:24.021 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:31:24.021 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:31:24.022 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:31:24.025 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:31:24.027 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:31:24.027 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:31:24.029 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 6.9203ms
2025-11-18 07:31:24.029 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:31:24.029 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 23.6779ms
2025-11-18 07:32:12.090 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 07:32:12.095 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:32:12.095 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 5.8006ms
2025-11-18 07:32:12.097 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:32:12.097 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:32:12.130 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:32:12.130 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:32:12.130 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:32:12.133 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:32:12.134 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:32:12.135 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:32:12.135 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 4.6899ms
2025-11-18 07:32:12.135 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:32:12.135 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 38.3363ms
2025-11-18 07:32:18.502 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 07:32:18.503 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:32:18.503 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.2508ms
2025-11-18 07:32:18.504 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/cities - application/json 197
2025-11-18 07:32:18.504 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:32:18.532 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:32:18.532 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:32:18.534 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:32:18.535 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication)'
2025-11-18 07:32:18.535 +03:00 [INF] Route matched with {action = "AddAsynch", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAsynch(MappyApplication.Data.Cities) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:32:18.540 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:32:18.546 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Double), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Cities` (`CityName`, `Country`, `Date`, `Emoji`, `Lat`, `Lng`, `Notes`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `Cities`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 07:32:18.547 +03:00 [INF] Added Cities MappyApplication.Data.Cities
2025-11-18 07:32:18.547 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 07:32:18.547 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication) in 11.9581ms
2025-11-18 07:32:18.547 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication)'
2025-11-18 07:32:18.547 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 43.7574ms
2025-11-18 07:32:18.549 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:32:18.549 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:32:18.554 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:32:18.554 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:32:18.554 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:32:18.558 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:32:18.559 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:32:18.560 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:32:18.560 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 5.0689ms
2025-11-18 07:32:18.560 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:32:18.560 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 27.857ms
2025-11-18 07:32:18.573 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:32:18.573 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:32:18.573 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:32:18.575 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:32:18.575 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:32:18.576 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:32:18.576 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.7345ms
2025-11-18 07:32:18.576 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:32:18.576 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 26.4833ms
2025-11-18 07:32:20.410 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/62 - null null
2025-11-18 07:32:20.411 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:32:20.411 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/62 - 204 null null 1.6639ms
2025-11-18 07:32:20.415 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities/62 - null null
2025-11-18 07:32:20.415 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:32:20.432 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:32:20.432 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 07:32:20.432 +03:00 [INF] Route matched with {action = "GetById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.cities.CitiesDto] GetById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:32:20.434 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:32:20.434 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.cities.CitiesDto'.
2025-11-18 07:32:20.435 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetById (MappyApplication) in 2.7676ms
2025-11-18 07:32:20.435 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 07:32:20.435 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities/62 - 200 null application/json; charset=utf-8 20.2855ms
2025-11-18 07:32:21.639 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:32:21.639 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:32:21.661 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:32:21.662 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:32:21.662 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:32:21.663 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:32:21.665 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:32:21.666 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:32:21.666 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 4.1588ms
2025-11-18 07:32:21.666 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:32:21.666 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 27.4198ms
2025-11-18 07:32:22.417 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/61 - null null
2025-11-18 07:32:22.418 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:32:22.425 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/61 - 204 null null 1.9528ms
2025-11-18 07:32:22.428 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities/61 - null null
2025-11-18 07:32:22.428 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:32:22.475 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:32:22.478 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 07:32:22.481 +03:00 [INF] Route matched with {action = "GetById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.cities.CitiesDto] GetById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:32:22.489 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:32:22.490 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.cities.CitiesDto'.
2025-11-18 07:32:22.492 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetById (MappyApplication) in 9.7757ms
2025-11-18 07:32:22.492 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 07:32:22.492 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities/61 - 200 null application/json; charset=utf-8 63.9497ms
2025-11-18 07:32:23.217 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:32:23.218 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:32:23.237 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:32:23.238 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:32:23.238 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:32:23.241 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:32:23.242 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:32:23.243 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:32:23.243 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 4.5655ms
2025-11-18 07:32:23.243 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:32:23.243 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 26.1894ms
2025-11-18 07:32:23.909 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/60 - null null
2025-11-18 07:32:23.910 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:32:23.911 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/60 - 204 null null 1.6301ms
2025-11-18 07:32:23.920 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities/60 - null null
2025-11-18 07:32:23.921 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:32:23.936 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:32:23.936 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 07:32:23.936 +03:00 [INF] Route matched with {action = "GetById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.cities.CitiesDto] GetById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:32:23.939 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:32:23.939 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.cities.CitiesDto'.
2025-11-18 07:32:23.939 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetById (MappyApplication) in 2.9013ms
2025-11-18 07:32:23.939 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 07:32:23.940 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities/60 - 200 null application/json; charset=utf-8 19.1785ms
2025-11-18 07:32:25.166 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 07:32:25.167 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:32:25.167 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.8892ms
2025-11-18 07:32:25.170 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:32:25.170 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:32:25.190 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:32:25.190 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:32:25.190 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:32:25.191 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:32:25.192 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:32:25.192 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:32:25.192 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.5389ms
2025-11-18 07:32:25.192 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:32:25.193 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 23.0648ms
2025-11-18 07:32:26.555 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 07:32:26.555 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:32:26.555 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 0.7341ms
2025-11-18 07:32:26.559 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 07:32:26.559 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:32:26.581 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:32:26.582 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 07:32:26.582 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 07:32:26.583 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:32:26.584 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 07:32:26.584 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:32:26.584 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 2.2562ms
2025-11-18 07:32:26.584 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 07:32:26.584 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 25.5242ms
2025-11-18 07:32:31.730 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 07:32:31.732 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:32:31.733 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 2.7447ms
2025-11-18 07:32:31.734 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 07:32:31.734 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:32:31.751 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:32:31.751 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 07:32:31.751 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 07:32:31.752 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:32:31.753 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 07:32:31.753 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:32:31.753 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 1.8608ms
2025-11-18 07:32:31.753 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 07:32:31.753 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 18.7609ms
2025-11-18 07:32:33.111 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 07:32:33.112 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:32:33.112 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 1.1583ms
2025-11-18 07:32:33.114 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:32:33.114 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:32:33.133 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:32:33.133 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:32:33.133 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:32:33.135 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:32:33.136 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:32:33.136 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:32:33.137 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 3.3666ms
2025-11-18 07:32:33.137 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:32:33.138 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 23.5543ms
2025-11-18 07:32:33.897 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/60 - null null
2025-11-18 07:32:33.898 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:32:33.898 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/60 - 204 null null 0.3498ms
2025-11-18 07:32:33.899 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities/60 - null null
2025-11-18 07:32:33.900 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:32:33.917 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:32:33.918 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 07:32:33.918 +03:00 [INF] Route matched with {action = "GetById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.cities.CitiesDto] GetById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:32:33.919 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:32:33.919 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.cities.CitiesDto'.
2025-11-18 07:32:33.919 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetById (MappyApplication) in 1.7177ms
2025-11-18 07:32:33.919 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 07:32:33.919 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities/60 - 200 null application/json; charset=utf-8 19.9568ms
2025-11-18 07:32:35.385 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:32:35.385 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:32:35.404 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:32:35.404 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:32:35.404 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:32:35.405 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:32:35.406 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:32:35.406 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:32:35.407 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.0902ms
2025-11-18 07:32:35.407 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:32:35.407 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 21.9009ms
2025-11-18 07:32:36.515 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 07:32:36.516 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:32:36.535 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:32:36.535 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 07:32:36.536 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 07:32:36.539 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:32:36.539 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 07:32:36.539 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:32:36.539 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 3.2574ms
2025-11-18 07:32:36.539 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 07:32:36.539 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 24.0271ms
2025-11-18 07:32:38.048 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:32:38.048 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:32:38.064 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:32:38.064 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:32:38.064 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:32:38.065 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:32:38.066 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:32:38.066 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:32:38.066 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.788ms
2025-11-18 07:32:38.066 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:32:38.066 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 18.5498ms
2025-11-18 07:32:38.754 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities/60 - null null
2025-11-18 07:32:38.754 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:32:38.770 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:32:38.770 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 07:32:38.770 +03:00 [INF] Route matched with {action = "GetById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.cities.CitiesDto] GetById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:32:38.777 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:32:38.778 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.cities.CitiesDto'.
2025-11-18 07:32:38.778 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetById (MappyApplication) in 7.6338ms
2025-11-18 07:32:38.778 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 07:32:38.778 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities/60 - 200 null application/json; charset=utf-8 24.1421ms
2025-11-18 07:32:40.152 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 07:32:40.152 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:32:40.152 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.5181ms
2025-11-18 07:32:40.154 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:32:40.155 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:32:40.173 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:32:40.173 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:32:40.173 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:32:40.174 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:32:40.175 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:32:40.176 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:32:40.176 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 3.1531ms
2025-11-18 07:32:40.176 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:32:40.176 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 21.7096ms
2025-11-18 07:35:26.582 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 07:35:26.587 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:35:26.589 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 7.6092ms
2025-11-18 07:35:26.591 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 07:35:26.591 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:35:26.695 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:35:26.696 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:35:26.697 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 07:35:26.707 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:35:26.713 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 07:35:26.713 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:35:26.713 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 16.5866ms
2025-11-18 07:35:26.714 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 07:35:26.714 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 123.375ms
2025-11-18 07:35:28.324 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 07:35:28.324 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:35:28.325 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 0.3963ms
2025-11-18 07:35:28.327 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 07:35:28.327 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:35:28.346 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:35:28.347 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 07:35:28.347 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 07:35:28.348 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:35:28.349 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 07:35:28.349 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:35:28.350 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 3.283ms
2025-11-18 07:35:28.350 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 07:35:28.350 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 23.9134ms
2025-11-18 07:48:37.930 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 07:48:37.933 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:48:37.935 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 5.1824ms
2025-11-18 07:48:37.938 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 07:48:37.939 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:48:38.114 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:48:38.114 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:48:38.115 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 07:48:38.119 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 07:48:38.128 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:48:38.153 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 07:48:38.168 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:48:38.173 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:48:38.174 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:48:38.175 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:48:38.189 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 07:48:38.189 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 07:48:38.190 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 07:48:38.190 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 75.3118ms
2025-11-18 07:48:38.190 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:48:38.190 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 253.2213ms
2025-11-18 07:48:47.851 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 07:48:47.851 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:48:47.851 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 0.6167ms
2025-11-18 07:48:47.853 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 07:48:47.854 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:48:47.881 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:48:47.882 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 07:48:47.882 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 07:48:47.884 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:48:47.890 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 07:48:47.891 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 07:48:47.893 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 10.8485ms
2025-11-18 07:48:47.893 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 07:48:47.893 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 39.4059ms
2025-11-18 07:49:55.081 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 07:49:55.086 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:49:55.087 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 5.6748ms
2025-11-18 07:49:55.089 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 07:49:55.089 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:49:55.149 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:49:55.149 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:49:55.149 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 07:49:55.152 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 07:49:55.155 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:49:55.161 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 07:49:55.165 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:49:55.168 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:49:55.172 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:49:55.175 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:49:55.183 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 07:49:55.184 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 07:49:55.184 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 07:49:55.184 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 35.1336ms
2025-11-18 07:49:55.184 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:49:55.184 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 96.2756ms
2025-11-18 07:51:44.073 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 07:51:44.080 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:51:44.082 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 9.7022ms
2025-11-18 07:51:44.084 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 07:51:44.084 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:51:44.156 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:51:44.159 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:51:44.161 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 07:51:44.164 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 07:51:44.171 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:51:44.180 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 07:51:44.182 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:51:44.184 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:51:44.188 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:51:44.189 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:51:44.194 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 07:51:44.195 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 07:51:44.195 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 07:51:44.195 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 34.4237ms
2025-11-18 07:51:44.195 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:51:44.195 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 111.2427ms
2025-11-18 07:53:20.893 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 07:53:20.897 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:53:20.898 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 5.5128ms
2025-11-18 07:53:20.905 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 07:53:20.906 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:53:20.982 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:53:20.983 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:53:20.983 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 07:53:20.986 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 07:53:20.989 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:53:20.994 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 07:53:21.012 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:53:21.016 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:53:21.020 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:53:21.023 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:53:21.031 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 07:53:21.032 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 07:53:21.033 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 07:53:21.034 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 50.992ms
2025-11-18 07:53:21.034 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:53:21.035 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 129.7375ms
2025-11-18 07:55:00.660 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 07:55:00.661 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:55:00.661 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 3.0126ms
2025-11-18 07:55:00.663 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 07:55:00.666 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:55:00.728 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:55:00.729 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:55:00.729 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 07:55:00.734 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 07:55:00.745 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:55:00.755 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 07:55:00.757 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:55:00.760 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:55:00.761 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:55:00.762 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:55:00.767 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 07:55:00.768 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 07:55:00.768 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 07:55:00.769 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 39.7385ms
2025-11-18 07:55:00.769 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:55:00.769 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 106.0801ms
2025-11-18 07:57:45.840 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 07:57:45.843 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:57:45.844 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 3.7306ms
2025-11-18 07:57:45.845 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 07:57:45.845 +03:00 [INF] CORS policy execution successful.
2025-11-18 07:57:45.905 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 07:57:45.906 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:57:45.922 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 07:57:45.936 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 07:57:45.938 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 07:57:45.944 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 07:57:45.950 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:57:45.953 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:57:45.955 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 07:57:45.956 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 07:57:45.963 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 07:57:45.964 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 07:57:45.964 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 07:57:45.965 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 42.2325ms
2025-11-18 07:57:45.965 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 07:57:45.966 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 120.3947ms
2025-11-18 08:09:48.665 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:09:48.667 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:09:48.667 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 2.0892ms
2025-11-18 08:09:48.669 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/workouts - application/json 194
2025-11-18 08:09:48.669 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:09:48.716 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:09:48.717 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:09:48.823 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:09:48.823 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:09:48.824 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.AddAsynch (MappyApplication)'
2025-11-18 08:09:48.824 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:09:48.825 +03:00 [INF] Route matched with {action = "AddAsynch", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAsynch(MappyApplication.Data.Workouts) on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:09:48.825 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:09:48.835 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:09:48.842 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:09:48.842 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:09:48.845 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 19.3818ms
2025-11-18 08:09:48.845 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:09:48.845 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 129.0168ms
2025-11-18 08:09:48.873 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:09:48.902 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = Single), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (DbType = Single), @p5='?' (DbType = Single), @p6='?' (Size = 4000), @p7='?' (DbType = Single), @p8='?' (Size = 4000), @p9='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Workouts` (`Cadence`, `CityName`, `Coords`, `Date`, `Distance`, `Duration`, `Emoji`, `Pace`, `Type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT `Id`
FROM `Workouts`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:09:48.907 +03:00 [INF] Added Workouts MappyApplication.Data.Workouts
2025-11-18 08:09:48.909 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 08:09:48.909 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.AddAsynch (MappyApplication) in 83.8251ms
2025-11-18 08:09:48.909 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.AddAsynch (MappyApplication)'
2025-11-18 08:09:48.909 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 240.421ms
2025-11-18 08:09:48.912 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:09:48.913 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:09:48.923 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:09:48.924 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:09:48.924 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:09:48.924 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:09:48.925 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:09:48.935 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:09:48.939 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 15.627ms
2025-11-18 08:09:48.939 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:09:48.939 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 26.8448ms
2025-11-18 08:10:01.805 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:10:01.805 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:10:01.805 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 0.4547ms
2025-11-18 08:10:01.806 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/workouts - application/json 192
2025-11-18 08:10:01.806 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:10:01.824 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:10:01.824 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.AddAsynch (MappyApplication)'
2025-11-18 08:10:01.824 +03:00 [INF] Route matched with {action = "AddAsynch", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAsynch(MappyApplication.Data.Workouts) on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:10:01.826 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:10:01.829 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Single), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (DbType = Single), @p5='?' (DbType = Single), @p6='?' (Size = 4000), @p7='?' (DbType = Single), @p8='?' (Size = 4000), @p9='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Workouts` (`Cadence`, `CityName`, `Coords`, `Date`, `Distance`, `Duration`, `Emoji`, `Pace`, `Type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT `Id`
FROM `Workouts`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:10:01.831 +03:00 [INF] Added Workouts MappyApplication.Data.Workouts
2025-11-18 08:10:01.831 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 08:10:01.831 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.AddAsynch (MappyApplication) in 6.9443ms
2025-11-18 08:10:01.831 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.AddAsynch (MappyApplication)'
2025-11-18 08:10:01.832 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 26.5477ms
2025-11-18 08:10:01.838 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:10:01.839 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:10:01.849 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:10:01.850 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:10:01.866 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:10:01.866 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:10:01.866 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:10:01.866 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:10:01.866 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:10:01.866 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:10:01.867 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:10:01.868 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:10:01.868 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:10:01.868 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:10:01.869 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:10:01.869 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:10:01.869 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 2.5299ms
2025-11-18 08:10:01.869 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:10:01.869 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 30.96ms
2025-11-18 08:10:01.869 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 2.7133ms
2025-11-18 08:10:01.869 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:10:01.869 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 19.6527ms
2025-11-18 08:10:03.560 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts/9378 - null null
2025-11-18 08:10:03.561 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:10:03.561 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts/9378 - 204 null null 0.7926ms
2025-11-18 08:10:03.565 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:8080/api/v1/workouts/9378 - null null
2025-11-18 08:10:03.566 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:10:03.588 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:10:03.588 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.DeleteById (MappyApplication)'
2025-11-18 08:10:03.588 +03:00 [INF] Route matched with {action = "DeleteById", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteById(Int32) on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:10:03.626 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:10:03.635 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
DELETE FROM `Workouts`
WHERE `Id` = @p0;
SELECT ROW_COUNT();
2025-11-18 08:10:03.636 +03:00 [INF] Deleted Workouts MappyApplication.Data.Workouts
2025-11-18 08:10:03.636 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 08:10:03.638 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.DeleteById (MappyApplication) in 49.6329ms
2025-11-18 08:10:03.638 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.DeleteById (MappyApplication)'
2025-11-18 08:10:03.638 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:8080/api/v1/workouts/9378 - 200 null application/json; charset=utf-8 73.221ms
2025-11-18 08:10:03.640 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:10:03.640 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:10:03.657 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:10:03.657 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:10:03.657 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:10:03.657 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:10:03.658 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:10:03.658 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:10:03.658 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 1.649ms
2025-11-18 08:10:03.658 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:10:03.658 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 18.2466ms
2025-11-18 08:10:04.790 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts/9377 - null null
2025-11-18 08:10:04.791 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:10:04.791 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts/9377 - 204 null null 1.136ms
2025-11-18 08:10:04.798 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:8080/api/v1/workouts/9377 - null null
2025-11-18 08:10:04.798 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:10:04.820 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:10:04.821 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.DeleteById (MappyApplication)'
2025-11-18 08:10:04.821 +03:00 [INF] Route matched with {action = "DeleteById", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteById(Int32) on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:10:04.825 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:10:04.828 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
DELETE FROM `Workouts`
WHERE `Id` = @p0;
SELECT ROW_COUNT();
2025-11-18 08:10:04.828 +03:00 [INF] Deleted Workouts MappyApplication.Data.Workouts
2025-11-18 08:10:04.828 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 08:10:04.828 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.DeleteById (MappyApplication) in 7.0147ms
2025-11-18 08:10:04.828 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.DeleteById (MappyApplication)'
2025-11-18 08:10:04.829 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:8080/api/v1/workouts/9377 - 200 null application/json; charset=utf-8 30.7696ms
2025-11-18 08:10:04.831 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:10:04.831 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:10:04.845 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:10:04.845 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:10:04.845 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:10:04.846 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:10:04.847 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:10:04.847 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:10:04.847 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 1.3077ms
2025-11-18 08:10:04.847 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:10:04.847 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 16.6006ms
2025-11-18 08:10:15.060 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:10:15.061 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:10:15.062 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 1.4914ms
2025-11-18 08:10:15.063 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/workouts - application/json 210
2025-11-18 08:10:15.064 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:10:15.086 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:10:15.087 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.AddAsynch (MappyApplication)'
2025-11-18 08:10:15.087 +03:00 [INF] Route matched with {action = "AddAsynch", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAsynch(MappyApplication.Data.Workouts) on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:10:15.088 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:10:15.090 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Single), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (DbType = Single), @p5='?' (DbType = Single), @p6='?' (Size = 4000), @p7='?' (DbType = Single), @p8='?' (Size = 4000), @p9='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Workouts` (`Cadence`, `CityName`, `Coords`, `Date`, `Distance`, `Duration`, `Emoji`, `Pace`, `Type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT `Id`
FROM `Workouts`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:10:15.095 +03:00 [INF] Added Workouts MappyApplication.Data.Workouts
2025-11-18 08:10:15.095 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 08:10:15.095 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.AddAsynch (MappyApplication) in 8.5334ms
2025-11-18 08:10:15.095 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.AddAsynch (MappyApplication)'
2025-11-18 08:10:15.095 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 31.9897ms
2025-11-18 08:10:15.097 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:10:15.098 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:10:15.102 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:10:15.102 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:10:15.115 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:10:15.116 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:10:15.116 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:10:15.116 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:10:15.116 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:10:15.116 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:10:15.116 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:10:15.117 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:10:15.117 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:10:15.117 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:10:15.117 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:10:15.117 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:10:15.117 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 1.3074ms
2025-11-18 08:10:15.117 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 0.9138ms
2025-11-18 08:10:15.117 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:10:15.117 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:10:15.117 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 20.3069ms
2025-11-18 08:10:15.117 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 15.3911ms
2025-11-18 08:12:05.288 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 08:12:05.298 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:12:05.307 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 18.3413ms
2025-11-18 08:12:05.308 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 08:12:05.309 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:12:05.414 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:12:05.418 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 08:12:05.420 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 08:12:05.426 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 08:12:05.439 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:12:05.460 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 08:12:05.466 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:12:05.468 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:12:05.472 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:12:05.473 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:12:05.476 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:12:05.476 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 08:12:05.476 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 08:12:05.477 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 56.6592ms
2025-11-18 08:12:05.477 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 08:12:05.477 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 169.6023ms
2025-11-18 08:12:05.503 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:12:05.503 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:12:05.503 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 0.2646ms
2025-11-18 08:12:05.506 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:12:05.506 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:12:05.523 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:12:05.524 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:12:05.524 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:12:05.527 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:12:05.530 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:12:05.532 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:12:05.532 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 6.7064ms
2025-11-18 08:12:05.532 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:12:05.532 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 26.4992ms
2025-11-18 08:12:21.290 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 08:12:21.291 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:12:21.292 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 2.8688ms
2025-11-18 08:12:21.293 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 08:12:21.294 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:12:21.329 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:12:21.329 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 08:12:21.329 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 08:12:21.332 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 08:12:21.334 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:12:21.339 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 08:12:21.340 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:12:21.341 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:12:21.341 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:12:21.342 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:12:21.345 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:12:21.346 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 08:12:21.346 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 08:12:21.346 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 16.9296ms
2025-11-18 08:12:21.346 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 08:12:21.346 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 53.2867ms
2025-11-18 08:12:21.359 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:12:21.359 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:12:21.359 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 0.1646ms
2025-11-18 08:12:21.360 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:12:21.361 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:12:21.380 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:12:21.380 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:12:21.380 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:12:21.384 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:12:21.384 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:12:21.385 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:12:21.386 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 5.4075ms
2025-11-18 08:12:21.386 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:12:21.386 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 25.6188ms
2025-11-18 08:12:37.055 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 08:12:37.061 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:12:37.062 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 7.1095ms
2025-11-18 08:12:37.063 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 08:12:37.063 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:12:37.098 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:12:37.099 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 08:12:37.099 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 08:12:37.101 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 08:12:37.105 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:12:37.109 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 08:12:37.112 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:12:37.114 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:12:37.115 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:12:37.116 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:12:37.120 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:12:37.122 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 08:12:37.123 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 08:12:37.123 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 23.7458ms
2025-11-18 08:12:37.123 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 08:12:37.124 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 60.813ms
2025-11-18 08:12:37.136 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:12:37.136 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:12:37.136 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 0.2256ms
2025-11-18 08:12:37.138 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:12:37.138 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:12:37.163 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:12:37.163 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:12:37.164 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:12:37.166 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:12:37.167 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:12:37.170 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:12:37.170 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 6.6322ms
2025-11-18 08:12:37.170 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:12:37.170 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 32.7476ms
2025-11-18 08:12:48.524 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 08:12:48.533 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:12:48.535 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 10.2759ms
2025-11-18 08:12:48.538 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 08:12:48.538 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:12:48.567 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:12:48.568 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 08:12:48.568 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 08:12:48.571 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 08:12:48.574 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:12:48.581 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 08:12:48.583 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:12:48.585 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:12:48.586 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:12:48.587 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:12:48.589 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:12:48.590 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 08:12:48.590 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 08:12:48.590 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 22.195ms
2025-11-18 08:12:48.591 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 08:12:48.591 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 52.6807ms
2025-11-18 08:12:48.602 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:12:48.603 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:12:48.604 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 1.4475ms
2025-11-18 08:12:48.606 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:12:48.606 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:12:48.626 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:12:48.626 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:12:48.626 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:12:48.627 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:12:48.628 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:12:48.628 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:12:48.628 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 2.2785ms
2025-11-18 08:12:48.628 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:12:48.629 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 22.9003ms
2025-11-18 08:12:49.466 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 08:12:49.467 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:12:49.483 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:12:49.483 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 08:12:49.483 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 08:12:49.485 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 08:12:49.487 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:12:49.492 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 08:12:49.493 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:12:49.494 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:12:49.495 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:12:49.496 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:12:49.498 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:12:49.499 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 08:12:49.499 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 08:12:49.499 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 15.8284ms
2025-11-18 08:12:49.499 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 08:12:49.499 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 32.3375ms
2025-11-18 08:12:49.510 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:12:49.510 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:12:49.528 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:12:49.528 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:12:49.528 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:12:49.529 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:12:49.530 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:12:49.530 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:12:49.530 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 1.9759ms
2025-11-18 08:12:49.531 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:12:49.531 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 20.5132ms
2025-11-18 08:12:51.027 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 08:12:51.027 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:12:51.028 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.5851ms
2025-11-18 08:12:51.042 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:12:51.043 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:12:51.058 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:12:51.058 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:12:51.059 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:12:51.060 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:12:51.065 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:12:51.067 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:12:51.068 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 8.7515ms
2025-11-18 08:12:51.068 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:12:51.068 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 25.4618ms
2025-11-18 08:12:51.759 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:12:51.760 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:12:51.778 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:12:51.778 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:12:51.778 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:12:51.781 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:12:51.782 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:12:51.782 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:12:51.782 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 3.9023ms
2025-11-18 08:12:51.782 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:12:51.783 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 23.2629ms
2025-11-18 08:12:52.492 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:12:52.492 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:12:52.510 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:12:52.510 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:12:52.510 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:12:52.511 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:12:52.512 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:12:52.512 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:12:52.513 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.3109ms
2025-11-18 08:12:52.513 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:12:52.513 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 21.3797ms
2025-11-18 08:12:59.959 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 08:12:59.960 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:12:59.960 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 1.4305ms
2025-11-18 08:12:59.962 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:12:59.962 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:12:59.984 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:12:59.984 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:12:59.984 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:12:59.985 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:12:59.986 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:12:59.987 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:12:59.987 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 3.0347ms
2025-11-18 08:12:59.987 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:12:59.987 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 24.9125ms
2025-11-18 08:18:00.665 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:18:00.669 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:18:00.671 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 5.2821ms
2025-11-18 08:18:00.673 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:18:00.673 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:18:00.812 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:18:00.813 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:18:00.813 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:18:00.823 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:18:00.826 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:18:00.826 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:18:00.826 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 12.8198ms
2025-11-18 08:18:00.826 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:18:00.826 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 153.6406ms
2025-11-18 08:18:09.538 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:18:09.538 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:18:09.539 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 1.4857ms
2025-11-18 08:18:09.541 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/workouts - application/json 194
2025-11-18 08:18:09.541 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:18:09.569 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:18:09.569 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.AddAsynch (MappyApplication)'
2025-11-18 08:18:09.569 +03:00 [INF] Route matched with {action = "AddAsynch", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAsynch(MappyApplication.Data.Workouts) on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:18:09.577 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:18:09.610 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:18:09.612 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:18:09.613 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@p0='?' (DbType = Single), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (DbType = Single), @p5='?' (DbType = Single), @p6='?' (Size = 4000), @p7='?' (DbType = Single), @p8='?' (Size = 4000), @p9='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Workouts` (`Cadence`, `CityName`, `Coords`, `Date`, `Distance`, `Duration`, `Emoji`, `Pace`, `Type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT `Id`
FROM `Workouts`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:18:09.619 +03:00 [INF] Added Workouts MappyApplication.Data.Workouts
2025-11-18 08:18:09.620 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 08:18:09.621 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.AddAsynch (MappyApplication) in 52.0892ms
2025-11-18 08:18:09.622 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.AddAsynch (MappyApplication)'
2025-11-18 08:18:09.622 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 81.0521ms
2025-11-18 08:18:09.632 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:18:09.632 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:18:09.634 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:18:09.635 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:18:09.635 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:18:09.637 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:18:09.639 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:18:09.640 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:18:09.640 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 4.6694ms
2025-11-18 08:18:09.640 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:18:09.640 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 30.0246ms
2025-11-18 08:18:09.647 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:18:09.648 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:18:09.648 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:18:09.649 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:18:09.649 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:18:09.649 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:18:09.649 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 1.2114ms
2025-11-18 08:18:09.649 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:18:09.649 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 17.1967ms
2025-11-18 08:18:12.843 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts/9380 - null null
2025-11-18 08:18:12.844 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:18:12.846 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts/9380 - 204 null null 3.4605ms
2025-11-18 08:18:12.849 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:8080/api/v1/workouts/9380 - null null
2025-11-18 08:18:12.851 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:18:12.888 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:18:12.888 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.DeleteById (MappyApplication)'
2025-11-18 08:18:12.888 +03:00 [INF] Route matched with {action = "DeleteById", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteById(Int32) on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:18:12.892 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:18:12.897 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
DELETE FROM `Workouts`
WHERE `Id` = @p0;
SELECT ROW_COUNT();
2025-11-18 08:18:12.898 +03:00 [INF] Deleted Workouts MappyApplication.Data.Workouts
2025-11-18 08:18:12.898 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 08:18:12.898 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.DeleteById (MappyApplication) in 9.7057ms
2025-11-18 08:18:12.898 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.DeleteById (MappyApplication)'
2025-11-18 08:18:12.899 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:8080/api/v1/workouts/9380 - 200 null application/json; charset=utf-8 49.3622ms
2025-11-18 08:18:12.902 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:18:12.902 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:18:12.937 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:18:12.938 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:18:12.938 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:18:12.940 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:18:12.942 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:18:12.943 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:18:12.943 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 4.8975ms
2025-11-18 08:18:12.943 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:18:12.943 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 42.307ms
2025-11-18 08:18:14.045 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts/9379 - null null
2025-11-18 08:18:14.046 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:18:14.046 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts/9379 - 204 null null 1.4995ms
2025-11-18 08:18:14.054 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:8080/api/v1/workouts/9379 - null null
2025-11-18 08:18:14.055 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:18:14.098 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:18:14.099 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.DeleteById (MappyApplication)'
2025-11-18 08:18:14.099 +03:00 [INF] Route matched with {action = "DeleteById", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteById(Int32) on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:18:14.102 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:18:14.116 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
DELETE FROM `Workouts`
WHERE `Id` = @p0;
SELECT ROW_COUNT();
2025-11-18 08:18:14.116 +03:00 [INF] Deleted Workouts MappyApplication.Data.Workouts
2025-11-18 08:18:14.116 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 08:18:14.116 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.DeleteById (MappyApplication) in 17.099ms
2025-11-18 08:18:14.116 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.DeleteById (MappyApplication)'
2025-11-18 08:18:14.116 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:8080/api/v1/workouts/9379 - 200 null application/json; charset=utf-8 62.1228ms
2025-11-18 08:18:14.119 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:18:14.119 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:18:14.138 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:18:14.139 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:18:14.139 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:18:14.140 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:18:14.141 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:18:14.141 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:18:14.141 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 2.0428ms
2025-11-18 08:18:14.141 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:18:14.142 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 23.2616ms
2025-11-18 08:21:43.984 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 08:21:43.990 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:21:43.990 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 6.3271ms
2025-11-18 08:21:43.995 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:21:43.995 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:21:44.095 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:21:44.095 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:21:44.096 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:21:44.104 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:21:44.106 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:21:44.107 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:21:44.108 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 11.9514ms
2025-11-18 08:21:44.108 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:21:44.108 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 113.3645ms
2025-11-18 08:21:44.646 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:21:44.646 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:21:44.647 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 0.5058ms
2025-11-18 08:21:44.658 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:21:44.658 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:21:44.679 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:21:44.679 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:21:44.680 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:21:44.680 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:21:44.682 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:21:44.682 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:21:44.682 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 2.5582ms
2025-11-18 08:21:44.682 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:21:44.682 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 24.5185ms
2025-11-18 08:21:45.395 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:21:45.395 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:21:45.412 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:21:45.413 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:21:45.413 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:21:45.414 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:21:45.414 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:21:45.415 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:21:45.415 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.8348ms
2025-11-18 08:21:45.415 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:21:45.415 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 19.6539ms
2025-11-18 08:21:47.577 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/logout - null null
2025-11-18 08:21:47.577 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:21:47.578 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/logout - 204 null null 0.9584ms
2025-11-18 08:21:47.582 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/auth/logout - null null
2025-11-18 08:21:47.582 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:21:47.610 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:21:47.611 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.Logout (MappyApplication)'
2025-11-18 08:21:47.611 +03:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 08:21:47.617 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 08:21:47.630 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 08:21:47.634 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 08:21:47.634 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.Logout (MappyApplication) in 22.8378ms
2025-11-18 08:21:47.634 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.Logout (MappyApplication)'
2025-11-18 08:21:47.634 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/auth/logout - 200 null application/json; charset=utf-8 52.6313ms
2025-11-18 08:35:14.703 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/login - null null
2025-11-18 08:35:14.705 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:35:14.706 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/login - 204 null null 2.8354ms
2025-11-18 08:35:14.708 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/login - application/json 51
2025-11-18 08:35:14.708 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:35:14.713 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.Login (MappyApplication)'
2025-11-18 08:35:14.715 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] Login(MappyApplication.Models.user.AuthLogin) on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 08:35:14.898 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`NormalizedEmail` = @__normalizedEmail_0
LIMIT 2
2025-11-18 08:35:14.961 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 08:35:14.975 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:35:14.976 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:35:14.979 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:35:14.980 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:35:14.995 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:35:15.001 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 08:35:15.001 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 08:35:15.002 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.Login (MappyApplication) in 286.6995ms
2025-11-18 08:35:15.002 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.Login (MappyApplication)'
2025-11-18 08:35:15.003 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/login - 200 null application/json; charset=utf-8 295.4064ms
2025-11-18 08:35:15.231 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 08:35:15.231 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:35:15.231 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.2272ms
2025-11-18 08:35:15.232 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:35:15.232 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:35:15.253 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:35:15.254 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:35:15.254 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:35:15.259 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:35:15.261 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:35:15.261 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:35:15.261 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 7.1961ms
2025-11-18 08:35:15.261 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:35:15.261 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 28.4133ms
2025-11-18 08:35:20.261 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:35:20.261 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:35:20.262 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 0.8762ms
2025-11-18 08:35:20.265 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:35:20.265 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:35:20.282 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:35:20.283 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:35:20.283 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:35:20.284 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:35:20.285 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:35:20.286 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:35:20.286 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 2.9897ms
2025-11-18 08:35:20.286 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:35:20.286 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 20.7076ms
2025-11-18 08:38:33.281 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:38:33.287 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:38:33.288 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 8.1738ms
2025-11-18 08:38:33.291 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:38:33.291 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:38:33.418 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:38:33.420 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:38:33.421 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:38:33.430 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:38:33.432 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:38:33.433 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:38:33.434 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 12.5293ms
2025-11-18 08:38:33.434 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:38:33.434 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 143.2472ms
2025-11-18 08:38:42.448 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:38:42.448 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:38:42.448 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 0.9328ms
2025-11-18 08:38:42.450 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/workouts - application/json 203
2025-11-18 08:38:42.450 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:38:42.474 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:38:42.475 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.AddAsynch (MappyApplication)'
2025-11-18 08:38:42.475 +03:00 [INF] Route matched with {action = "AddAsynch", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAsynch(MappyApplication.Data.Workouts) on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:38:42.487 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:38:42.492 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:38:42.492 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:38:42.529 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@p0='?' (DbType = Single), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (DbType = Single), @p5='?' (DbType = Single), @p6='?' (Size = 4000), @p7='?' (DbType = Single), @p8='?' (Size = 4000), @p9='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Workouts` (`Cadence`, `CityName`, `Coords`, `Date`, `Distance`, `Duration`, `Emoji`, `Pace`, `Type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT `Id`
FROM `Workouts`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:38:42.533 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:38:42.533 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:38:42.533 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:38:42.535 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:38:42.536 +03:00 [INF] Added Workouts MappyApplication.Data.Workouts
2025-11-18 08:38:42.537 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:38:42.537 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 08:38:42.537 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.AddAsynch (MappyApplication) in 62.4087ms
2025-11-18 08:38:42.537 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.AddAsynch (MappyApplication)'
2025-11-18 08:38:42.537 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 87.5493ms
2025-11-18 08:38:42.539 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:38:42.540 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:38:42.540 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:38:42.540 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 6.9858ms
2025-11-18 08:38:42.540 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:38:42.541 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 48.3545ms
2025-11-18 08:38:42.551 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:38:42.552 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:38:42.552 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:38:42.552 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:38:42.554 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:38:42.554 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:38:42.554 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 2.0662ms
2025-11-18 08:38:42.554 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:38:42.554 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 14.1271ms
2025-11-18 08:40:04.671 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 08:40:04.675 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:40:04.676 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 4.5946ms
2025-11-18 08:40:04.677 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:40:04.678 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:40:04.708 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:40:04.708 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:40:04.708 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:40:04.710 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:40:04.713 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:40:04.713 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:40:04.713 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 4.812ms
2025-11-18 08:40:04.713 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:40:04.714 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 36.051ms
2025-11-18 08:40:05.785 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:40:05.785 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:40:05.785 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 0.2752ms
2025-11-18 08:40:05.787 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:40:05.788 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:40:05.805 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:40:05.805 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:40:05.805 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:40:05.807 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:40:05.807 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:40:05.808 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:40:05.808 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 2.6356ms
2025-11-18 08:40:05.808 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:40:05.808 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 20.7074ms
2025-11-18 08:40:09.105 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:40:09.106 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:40:09.129 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:40:09.129 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:40:09.130 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:40:09.132 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:40:09.133 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:40:09.133 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:40:09.134 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 3.153ms
2025-11-18 08:40:09.134 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:40:09.134 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 28.1107ms
2025-11-18 08:40:09.846 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/60 - null null
2025-11-18 08:40:09.846 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:40:09.847 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/60 - 204 null null 0.3969ms
2025-11-18 08:40:09.849 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities/60 - null null
2025-11-18 08:40:09.850 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:40:09.875 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:40:09.876 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 08:40:09.876 +03:00 [INF] Route matched with {action = "GetById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.cities.CitiesDto] GetById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:40:09.889 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:40:09.891 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.cities.CitiesDto'.
2025-11-18 08:40:09.891 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetById (MappyApplication) in 14.9425ms
2025-11-18 08:40:09.891 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 08:40:09.891 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities/60 - 200 null application/json; charset=utf-8 41.904ms
2025-11-18 08:40:11.112 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 08:40:11.113 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:40:11.113 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.6811ms
2025-11-18 08:40:11.114 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:40:11.114 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:40:11.135 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:40:11.135 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:40:11.136 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:40:11.137 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:40:11.138 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:40:11.138 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:40:11.138 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.6424ms
2025-11-18 08:40:11.138 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:40:11.138 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 24.5757ms
2025-11-18 08:40:12.057 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:40:12.057 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:40:12.057 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 0.3641ms
2025-11-18 08:40:12.059 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:40:12.059 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:40:12.076 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:40:12.076 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:40:12.076 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:40:12.076 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:40:12.077 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:40:12.077 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:40:12.077 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 1.5934ms
2025-11-18 08:40:12.077 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:40:12.077 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 18.7732ms
2025-11-18 08:40:17.202 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 08:40:17.202 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:40:17.202 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.3651ms
2025-11-18 08:40:17.203 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:40:17.203 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:40:17.221 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:40:17.222 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:40:17.222 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:40:17.222 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:40:17.223 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:40:17.223 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:40:17.223 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.184ms
2025-11-18 08:40:17.223 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:40:17.223 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 20.022ms
2025-11-18 08:40:19.501 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:40:19.501 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:40:19.501 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 0.2012ms
2025-11-18 08:40:19.503 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:40:19.503 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:40:19.521 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:40:19.521 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:40:19.521 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:40:19.522 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:40:19.523 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:40:19.523 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:40:19.523 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 2.4518ms
2025-11-18 08:40:19.523 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:40:19.524 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 21.2687ms
2025-11-18 08:40:25.394 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 08:40:25.395 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:40:25.395 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.6476ms
2025-11-18 08:40:25.396 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:40:25.396 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:40:25.412 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:40:25.413 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:40:25.413 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:40:25.413 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:40:25.414 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:40:25.414 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:40:25.414 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.6781ms
2025-11-18 08:40:25.414 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:40:25.414 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 18.1544ms
2025-11-18 08:40:26.293 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:40:26.294 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:40:26.294 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 0.4438ms
2025-11-18 08:40:26.295 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:40:26.295 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:40:26.312 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:40:26.312 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:40:26.312 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:40:26.313 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:40:26.314 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:40:26.316 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:40:26.316 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 3.4853ms
2025-11-18 08:40:26.316 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:40:26.316 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 20.9249ms
2025-11-18 08:40:35.995 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 08:40:35.998 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:40:35.999 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 3.675ms
2025-11-18 08:40:36.005 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:40:36.006 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:40:36.063 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:40:36.063 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:40:36.063 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:40:36.065 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:40:36.067 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:40:36.068 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:40:36.070 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 7.0387ms
2025-11-18 08:40:36.070 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:40:36.070 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 64.954ms
2025-11-18 08:40:36.937 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:40:36.937 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:40:36.937 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 0.2637ms
2025-11-18 08:40:36.938 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:40:36.939 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:40:36.953 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:40:36.953 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:40:36.953 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:40:36.954 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:40:36.955 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:40:36.958 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:40:36.960 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 6.7603ms
2025-11-18 08:40:36.960 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:40:36.960 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 21.6981ms
2025-11-18 08:40:38.974 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts/9381 - null null
2025-11-18 08:40:38.974 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:40:38.975 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts/9381 - 204 null null 0.4946ms
2025-11-18 08:40:38.978 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:8080/api/v1/workouts/9381 - null null
2025-11-18 08:40:38.979 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:40:38.996 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:40:38.997 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.DeleteById (MappyApplication)'
2025-11-18 08:40:38.997 +03:00 [INF] Route matched with {action = "DeleteById", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteById(Int32) on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:40:38.998 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:40:39.016 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
DELETE FROM `Workouts`
WHERE `Id` = @p0;
SELECT ROW_COUNT();
2025-11-18 08:40:39.017 +03:00 [INF] Deleted Workouts MappyApplication.Data.Workouts
2025-11-18 08:40:39.017 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 08:40:39.017 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.DeleteById (MappyApplication) in 20.488ms
2025-11-18 08:40:39.017 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.DeleteById (MappyApplication)'
2025-11-18 08:40:39.017 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:8080/api/v1/workouts/9381 - 200 null application/json; charset=utf-8 39.4021ms
2025-11-18 08:40:39.021 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:40:39.021 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:40:39.040 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:40:39.040 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:40:39.040 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:40:39.041 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:40:39.041 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:40:39.041 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:40:39.041 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 1.4423ms
2025-11-18 08:40:39.041 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:40:39.041 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 20.6741ms
2025-11-18 08:40:40.202 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:40:40.202 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:40:40.218 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:40:40.218 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:40:40.219 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:40:40.220 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:40:40.221 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:40:40.222 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:40:40.222 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 3.06ms
2025-11-18 08:40:40.222 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:40:40.222 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 19.6484ms
2025-11-18 08:40:42.619 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/60 - null null
2025-11-18 08:40:42.619 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:40:42.619 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/60 - 204 null null 0.6614ms
2025-11-18 08:40:42.623 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:8080/api/v1/cities/60 - null null
2025-11-18 08:40:42.623 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:40:42.652 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:40:42.652 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication)'
2025-11-18 08:40:42.652 +03:00 [INF] Route matched with {action = "DeleteById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:40:42.654 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:40:42.659 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
DELETE FROM `Cities`
WHERE `Id` = @p0;
SELECT ROW_COUNT();
2025-11-18 08:40:42.659 +03:00 [INF] Deleted Cities MappyApplication.Data.Cities
2025-11-18 08:40:42.659 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 08:40:42.660 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication) in 7.3004ms
2025-11-18 08:40:42.660 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication)'
2025-11-18 08:40:42.660 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:8080/api/v1/cities/60 - 200 null application/json; charset=utf-8 37.1738ms
2025-11-18 08:40:42.663 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 08:40:42.664 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:40:42.664 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.16ms
2025-11-18 08:40:42.665 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:40:42.665 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:40:42.685 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:40:42.685 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:40:42.685 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:40:42.686 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:40:42.687 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:40:42.687 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:40:42.687 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.0031ms
2025-11-18 08:40:42.687 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:40:42.687 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 22.1519ms
2025-11-18 08:40:43.187 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/61 - null null
2025-11-18 08:40:43.187 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:40:43.188 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/61 - 204 null null 0.4797ms
2025-11-18 08:40:43.192 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:8080/api/v1/cities/61 - null null
2025-11-18 08:40:43.192 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:40:43.218 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:40:43.218 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication)'
2025-11-18 08:40:43.219 +03:00 [INF] Route matched with {action = "DeleteById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:40:43.222 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:40:43.224 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
DELETE FROM `Cities`
WHERE `Id` = @p0;
SELECT ROW_COUNT();
2025-11-18 08:40:43.225 +03:00 [INF] Deleted Cities MappyApplication.Data.Cities
2025-11-18 08:40:43.225 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 08:40:43.225 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication) in 6.0508ms
2025-11-18 08:40:43.225 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication)'
2025-11-18 08:40:43.225 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:8080/api/v1/cities/61 - 200 null application/json; charset=utf-8 32.7552ms
2025-11-18 08:40:43.229 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:40:43.229 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:40:43.248 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:40:43.248 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:40:43.248 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:40:43.248 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:40:43.249 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:40:43.249 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:40:43.249 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.5457ms
2025-11-18 08:40:43.249 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:40:43.249 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 20.447ms
2025-11-18 08:40:43.686 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/62 - null null
2025-11-18 08:40:43.687 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:40:43.687 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/62 - 204 null null 0.6321ms
2025-11-18 08:40:43.689 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:8080/api/v1/cities/62 - null null
2025-11-18 08:40:43.690 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:40:43.709 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:40:43.710 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication)'
2025-11-18 08:40:43.710 +03:00 [INF] Route matched with {action = "DeleteById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:40:43.711 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:40:43.714 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
DELETE FROM `Cities`
WHERE `Id` = @p0;
SELECT ROW_COUNT();
2025-11-18 08:40:43.714 +03:00 [INF] Deleted Cities MappyApplication.Data.Cities
2025-11-18 08:40:43.714 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 08:40:43.715 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication) in 4.5797ms
2025-11-18 08:40:43.715 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication)'
2025-11-18 08:40:43.715 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:8080/api/v1/cities/62 - 200 null application/json; charset=utf-8 25.5017ms
2025-11-18 08:40:43.720 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:40:43.720 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:40:43.739 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:40:43.740 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:40:43.740 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:40:43.741 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:40:43.741 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:40:43.741 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:40:43.741 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.7677ms
2025-11-18 08:40:43.741 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:40:43.742 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 21.4787ms
2025-11-18 08:40:47.421 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 08:40:47.422 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:40:47.422 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 0.527ms
2025-11-18 08:40:47.423 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 08:40:47.423 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:40:47.455 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:40:47.455 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 08:40:47.455 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 08:40:47.456 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 08:40:47.457 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:40:47.469 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 08:40:47.473 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:40:47.474 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:40:47.475 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:40:47.475 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:40:47.476 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:40:47.478 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 08:40:47.478 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 08:40:47.479 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 23.4687ms
2025-11-18 08:40:47.479 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 08:40:47.479 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 56.0521ms
2025-11-18 08:40:47.504 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:40:47.504 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:40:47.519 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:40:47.519 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:40:47.519 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:40:47.520 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:40:47.520 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:40:47.520 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:40:47.520 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.1737ms
2025-11-18 08:40:47.520 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:40:47.520 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 16.1377ms
2025-11-18 08:42:43.911 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 08:42:43.912 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:42:43.913 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 1.7294ms
2025-11-18 08:42:43.913 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 08:42:43.914 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:42:43.949 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:42:43.949 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 08:42:43.950 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 08:42:43.951 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 08:42:43.953 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:42:43.962 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 08:42:43.964 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:42:43.965 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:42:43.966 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:42:43.967 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:42:43.975 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:42:43.976 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 08:42:43.977 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 08:42:43.978 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 28.0922ms
2025-11-18 08:42:43.978 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 08:42:43.978 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 64.2985ms
2025-11-18 08:42:43.994 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 08:42:43.994 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:42:43.994 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.6865ms
2025-11-18 08:42:43.996 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:42:43.996 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:42:44.015 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:42:44.015 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:42:44.015 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:42:44.016 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:42:44.016 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:42:44.016 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:42:44.016 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.5219ms
2025-11-18 08:42:44.016 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:42:44.017 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 20.3475ms
2025-11-18 08:42:50.932 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 08:42:50.934 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:42:50.934 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 2.1397ms
2025-11-18 08:42:50.936 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 08:42:50.936 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:42:50.963 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:42:50.964 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 08:42:50.964 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 08:42:50.966 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 08:42:50.968 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:42:50.971 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 08:42:50.976 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:42:50.977 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:42:50.979 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:42:50.980 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:42:50.983 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:42:50.984 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 08:42:50.984 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 08:42:50.984 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 20.6279ms
2025-11-18 08:42:50.984 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 08:42:50.984 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 48.641ms
2025-11-18 08:42:50.995 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 08:42:50.995 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:42:50.996 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 1.0952ms
2025-11-18 08:42:50.997 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:42:50.997 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:42:51.012 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:42:51.012 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:42:51.012 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:42:51.013 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:42:51.014 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:42:51.015 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:42:51.015 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.3655ms
2025-11-18 08:42:51.015 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:42:51.015 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 18.2581ms
2025-11-18 08:43:18.030 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 08:43:18.032 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:43:18.032 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 3.3707ms
2025-11-18 08:43:18.034 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 08:43:18.034 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:43:18.064 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:43:18.064 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 08:43:18.064 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 08:43:18.066 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 08:43:18.068 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:43:18.078 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 08:43:18.080 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:43:18.081 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:43:18.082 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:43:18.083 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:43:18.086 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:43:18.087 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 08:43:18.087 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 08:43:18.087 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 22.5655ms
2025-11-18 08:43:18.087 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 08:43:18.087 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 52.9762ms
2025-11-18 08:43:18.096 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 08:43:18.096 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:43:18.096 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.1724ms
2025-11-18 08:43:18.097 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:43:18.097 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:43:18.119 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:43:18.120 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:43:18.120 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:43:18.123 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:43:18.125 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:43:18.125 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:43:18.125 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 4.3952ms
2025-11-18 08:43:18.125 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:43:18.125 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 27.8508ms
2025-11-18 08:48:07.553 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 08:48:07.562 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:48:07.564 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 10.8496ms
2025-11-18 08:48:07.567 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 08:48:07.567 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:48:07.699 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:48:07.700 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 08:48:07.701 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 08:48:07.702 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 08:48:07.709 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:48:07.724 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 08:48:07.727 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:48:07.728 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:48:07.730 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:48:07.730 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:48:07.737 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:48:07.738 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 08:48:07.738 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 08:48:07.738 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 37.2052ms
2025-11-18 08:48:07.738 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 08:48:07.738 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 172.1087ms
2025-11-18 08:48:07.764 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 08:48:07.764 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:48:07.765 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.2673ms
2025-11-18 08:48:07.766 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:48:07.767 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:48:07.785 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:48:07.786 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:48:07.786 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:48:07.788 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:48:07.789 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:48:07.790 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:48:07.790 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 3.574ms
2025-11-18 08:48:07.790 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:48:07.790 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 24.2772ms
2025-11-18 08:48:12.665 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 08:48:12.668 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:48:12.668 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 3.2081ms
2025-11-18 08:48:12.674 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 08:48:12.674 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:48:12.700 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:48:12.700 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 08:48:12.701 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 08:48:12.704 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 08:48:12.706 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:48:12.712 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 08:48:12.713 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:48:12.714 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:48:12.716 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:48:12.717 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:48:12.719 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:48:12.720 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 08:48:12.720 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 08:48:12.720 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 19.6349ms
2025-11-18 08:48:12.720 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 08:48:12.720 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 47.2416ms
2025-11-18 08:48:12.731 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:48:12.732 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:48:12.754 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:48:12.754 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:48:12.755 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:48:12.756 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:48:12.757 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:48:12.757 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:48:12.757 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.5181ms
2025-11-18 08:48:12.757 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:48:12.757 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 25.656ms
2025-11-18 08:48:16.578 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 08:48:16.579 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:48:16.579 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 1.4051ms
2025-11-18 08:48:16.582 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/cities - application/json 205
2025-11-18 08:48:16.582 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:48:16.605 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:48:16.605 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication)'
2025-11-18 08:48:16.605 +03:00 [INF] Route matched with {action = "AddAsynch", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAsynch(MappyApplication.Data.Cities) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:48:16.621 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:48:16.649 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Double), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Cities` (`CityName`, `Country`, `Date`, `Emoji`, `Lat`, `Lng`, `Notes`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `Cities`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:48:16.650 +03:00 [INF] Added Cities MappyApplication.Data.Cities
2025-11-18 08:48:16.650 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 08:48:16.651 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication) in 45.0384ms
2025-11-18 08:48:16.651 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication)'
2025-11-18 08:48:16.651 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 69.0142ms
2025-11-18 08:48:16.656 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:48:16.656 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:48:16.677 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:48:16.678 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:48:16.678 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:48:16.679 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:48:16.681 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:48:16.681 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:48:16.681 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 3.1926ms
2025-11-18 08:48:16.681 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:48:16.681 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 25.2846ms
2025-11-18 08:48:16.749 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:48:16.750 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:48:16.773 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:48:16.773 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:48:16.773 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:48:16.774 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:48:16.775 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:48:16.775 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:48:16.775 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.9077ms
2025-11-18 08:48:16.775 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:48:16.775 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 26.7628ms
2025-11-18 08:48:19.542 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/cities - application/json 214
2025-11-18 08:48:19.543 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:48:19.572 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:48:19.573 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication)'
2025-11-18 08:48:19.573 +03:00 [INF] Route matched with {action = "AddAsynch", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAsynch(MappyApplication.Data.Cities) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:48:19.584 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:48:19.588 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Double), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Cities` (`CityName`, `Country`, `Date`, `Emoji`, `Lat`, `Lng`, `Notes`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `Cities`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:48:19.589 +03:00 [INF] Added Cities MappyApplication.Data.Cities
2025-11-18 08:48:19.589 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 08:48:19.590 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication) in 16.4898ms
2025-11-18 08:48:19.590 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication)'
2025-11-18 08:48:19.590 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 48.177ms
2025-11-18 08:48:19.595 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:48:19.595 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:48:19.617 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:48:19.617 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:48:19.618 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:48:19.619 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:48:19.620 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:48:19.620 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:48:19.620 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.956ms
2025-11-18 08:48:19.620 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:48:19.620 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 25.0109ms
2025-11-18 08:48:19.664 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:48:19.665 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:48:19.684 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:48:19.684 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:48:19.684 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:48:19.685 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:48:19.685 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:48:19.686 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:48:19.686 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.6777ms
2025-11-18 08:48:19.686 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:48:19.686 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 21.8286ms
2025-11-18 08:48:20.970 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/64 - null null
2025-11-18 08:48:20.971 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:48:20.971 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/64 - 204 null null 0.6395ms
2025-11-18 08:48:20.973 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:8080/api/v1/cities/64 - null null
2025-11-18 08:48:20.974 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:48:21.004 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:48:21.004 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication)'
2025-11-18 08:48:21.005 +03:00 [INF] Route matched with {action = "DeleteById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:48:21.008 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:48:21.013 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
DELETE FROM `Cities`
WHERE `Id` = @p0;
SELECT ROW_COUNT();
2025-11-18 08:48:21.014 +03:00 [INF] Deleted Cities MappyApplication.Data.Cities
2025-11-18 08:48:21.014 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 08:48:21.015 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication) in 9.7247ms
2025-11-18 08:48:21.015 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication)'
2025-11-18 08:48:21.015 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:8080/api/v1/cities/64 - 200 null application/json; charset=utf-8 41.2947ms
2025-11-18 08:48:21.020 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:48:21.020 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:48:21.039 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:48:21.040 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:48:21.040 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:48:21.041 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:48:21.042 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:48:21.042 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:48:21.042 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.355ms
2025-11-18 08:48:21.042 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:48:21.042 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 22.505ms
2025-11-18 08:48:21.936 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/63 - null null
2025-11-18 08:48:21.936 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:48:21.937 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/63 - 204 null null 0.5296ms
2025-11-18 08:48:21.939 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:8080/api/v1/cities/63 - null null
2025-11-18 08:48:21.940 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:48:21.972 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:48:21.973 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication)'
2025-11-18 08:48:21.973 +03:00 [INF] Route matched with {action = "DeleteById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:48:21.976 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:48:21.978 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
DELETE FROM `Cities`
WHERE `Id` = @p0;
SELECT ROW_COUNT();
2025-11-18 08:48:21.978 +03:00 [INF] Deleted Cities MappyApplication.Data.Cities
2025-11-18 08:48:21.978 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 08:48:21.978 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication) in 5.0594ms
2025-11-18 08:48:21.979 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication)'
2025-11-18 08:48:21.979 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:8080/api/v1/cities/63 - 200 null application/json; charset=utf-8 39.5902ms
2025-11-18 08:48:21.985 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 08:48:21.985 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:48:21.985 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.2604ms
2025-11-18 08:48:21.987 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:48:21.987 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:48:22.007 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:48:22.008 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:48:22.008 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:48:22.008 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:48:22.009 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:48:22.009 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:48:22.009 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.8228ms
2025-11-18 08:48:22.009 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:48:22.009 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 22.7251ms
2025-11-18 08:48:22.998 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:48:22.998 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:48:22.998 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 0.2724ms
2025-11-18 08:48:23.004 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:48:23.004 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:48:23.022 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:48:23.023 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:48:23.023 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:48:23.024 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:48:23.025 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:48:23.026 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:48:23.026 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 2.8177ms
2025-11-18 08:48:23.026 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:48:23.026 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 22.1594ms
2025-11-18 08:48:31.825 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:48:31.827 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:48:31.827 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 2.2459ms
2025-11-18 08:48:31.830 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/workouts - application/json 188
2025-11-18 08:48:31.830 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:48:31.867 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:48:31.868 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.AddAsynch (MappyApplication)'
2025-11-18 08:48:31.869 +03:00 [INF] Route matched with {action = "AddAsynch", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAsynch(MappyApplication.Data.Workouts) on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:48:31.885 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:48:31.894 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Single), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (DbType = Single), @p5='?' (DbType = Single), @p6='?' (Size = 4000), @p7='?' (DbType = Single), @p8='?' (Size = 4000), @p9='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Workouts` (`Cadence`, `CityName`, `Coords`, `Date`, `Distance`, `Duration`, `Emoji`, `Pace`, `Type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT `Id`
FROM `Workouts`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:48:31.895 +03:00 [INF] Added Workouts MappyApplication.Data.Workouts
2025-11-18 08:48:31.895 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 08:48:31.895 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.AddAsynch (MappyApplication) in 26.306ms
2025-11-18 08:48:31.895 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.AddAsynch (MappyApplication)'
2025-11-18 08:48:31.895 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 65.6437ms
2025-11-18 08:48:31.900 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:48:31.900 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:48:31.919 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:48:31.919 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:48:31.919 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:48:31.920 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:48:31.922 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:48:31.922 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:48:31.922 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 2.8875ms
2025-11-18 08:48:31.922 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:48:31.923 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 22.3088ms
2025-11-18 08:48:31.995 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:48:31.995 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:48:32.012 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:48:32.013 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:48:32.013 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:48:32.014 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:48:32.015 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:48:32.015 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:48:32.015 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 1.7235ms
2025-11-18 08:48:32.015 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:48:32.015 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 20.1889ms
2025-11-18 08:48:33.623 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts/9382 - null null
2025-11-18 08:48:33.623 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:48:33.623 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts/9382 - 204 null null 0.171ms
2025-11-18 08:48:33.627 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:8080/api/v1/workouts/9382 - null null
2025-11-18 08:48:33.628 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:48:33.656 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:48:33.656 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.DeleteById (MappyApplication)'
2025-11-18 08:48:33.656 +03:00 [INF] Route matched with {action = "DeleteById", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteById(Int32) on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:48:33.658 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:48:33.662 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
DELETE FROM `Workouts`
WHERE `Id` = @p0;
SELECT ROW_COUNT();
2025-11-18 08:48:33.662 +03:00 [INF] Deleted Workouts MappyApplication.Data.Workouts
2025-11-18 08:48:33.662 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 08:48:33.662 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.DeleteById (MappyApplication) in 5.8873ms
2025-11-18 08:48:33.662 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.DeleteById (MappyApplication)'
2025-11-18 08:48:33.662 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:8080/api/v1/workouts/9382 - 200 null application/json; charset=utf-8 35.106ms
2025-11-18 08:48:33.665 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:48:33.665 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:48:33.679 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:48:33.679 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:48:33.679 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:48:33.680 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:48:33.681 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:48:33.681 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:48:33.681 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 1.8055ms
2025-11-18 08:48:33.681 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:48:33.681 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 16.2408ms
2025-11-18 08:48:49.798 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 08:48:49.799 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:48:49.800 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 2.2816ms
2025-11-18 08:48:49.801 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 08:48:49.801 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:48:49.844 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:48:49.845 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 08:48:49.845 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 08:48:49.848 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 08:48:49.849 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:48:49.855 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 08:48:49.857 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:48:49.858 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:48:49.861 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:48:49.863 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:48:49.869 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:48:49.869 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 08:48:49.869 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 08:48:49.870 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 24.411ms
2025-11-18 08:48:49.870 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 08:48:49.870 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 68.4335ms
2025-11-18 08:48:49.882 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:48:49.882 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:48:49.882 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 0.1324ms
2025-11-18 08:48:49.884 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:48:49.884 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:48:49.901 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:48:49.901 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:48:49.901 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:48:49.903 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:48:49.906 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:48:49.906 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:48:49.907 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 5.574ms
2025-11-18 08:48:49.907 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:48:49.907 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 23.3536ms
2025-11-18 08:49:03.726 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 08:49:03.730 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:49:03.732 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 7.2864ms
2025-11-18 08:49:03.734 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 08:49:03.734 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:49:03.772 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:49:03.772 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 08:49:03.772 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 08:49:03.774 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 08:49:03.776 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:49:03.780 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 08:49:03.781 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:49:03.781 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:49:03.782 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:49:03.783 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:49:03.786 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:49:03.786 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 08:49:03.786 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 08:49:03.786 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 14.101ms
2025-11-18 08:49:03.786 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 08:49:03.787 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 52.621ms
2025-11-18 08:49:03.798 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:49:03.798 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:49:03.798 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 0.3842ms
2025-11-18 08:49:03.800 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:49:03.801 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:49:03.819 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:49:03.819 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:49:03.819 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:49:03.820 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:49:03.821 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:49:03.821 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:49:03.821 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 1.7642ms
2025-11-18 08:49:03.821 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:49:03.822 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 21.4971ms
2025-11-18 08:49:19.002 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 08:49:19.003 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:49:19.004 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 2.413ms
2025-11-18 08:49:19.005 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 08:49:19.005 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:49:19.037 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:49:19.037 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 08:49:19.038 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 08:49:19.040 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 08:49:19.041 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:49:19.046 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 08:49:19.047 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:49:19.048 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:49:19.049 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:49:19.050 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:49:19.056 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:49:19.057 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 08:49:19.057 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 08:49:19.057 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 19.561ms
2025-11-18 08:49:19.058 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 08:49:19.058 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 52.3276ms
2025-11-18 08:49:19.067 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:49:19.067 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:49:19.067 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 0.2031ms
2025-11-18 08:49:19.068 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:49:19.068 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:49:19.084 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:49:19.084 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:49:19.084 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:49:19.085 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:49:19.086 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:49:19.086 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:49:19.087 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 2.4737ms
2025-11-18 08:49:19.087 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:49:19.087 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 19.217ms
2025-11-18 08:49:25.803 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 08:49:25.806 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:49:25.807 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 5.5587ms
2025-11-18 08:49:25.809 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 08:49:25.809 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:49:25.839 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:49:25.840 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 08:49:25.840 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 08:49:25.843 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 08:49:25.845 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:49:25.848 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 08:49:25.849 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:49:25.849 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:49:25.851 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:49:25.851 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:49:25.855 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:49:25.857 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 08:49:25.858 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 08:49:25.858 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 17.7806ms
2025-11-18 08:49:25.858 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 08:49:25.859 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 49.7221ms
2025-11-18 08:49:25.869 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:49:25.869 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:49:25.869 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 0.168ms
2025-11-18 08:49:25.869 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:49:25.870 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:49:25.885 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:49:25.885 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:49:25.885 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:49:25.886 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:49:25.888 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:49:25.889 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:49:25.889 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 3.4077ms
2025-11-18 08:49:25.889 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:49:25.889 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 19.8112ms
2025-11-18 08:49:35.518 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 08:49:35.524 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:49:35.525 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 11.3866ms
2025-11-18 08:49:35.527 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 08:49:35.527 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:49:35.566 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:49:35.567 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 08:49:35.567 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 08:49:35.570 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 08:49:35.573 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:49:35.578 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 08:49:35.579 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:49:35.580 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:49:35.581 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:49:35.582 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:49:35.585 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:49:35.586 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 08:49:35.586 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 08:49:35.586 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 19.205ms
2025-11-18 08:49:35.586 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 08:49:35.586 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 59.2891ms
2025-11-18 08:49:35.596 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:49:35.596 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:49:35.596 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 0.7368ms
2025-11-18 08:49:35.597 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:49:35.597 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:49:35.626 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:49:35.626 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:49:35.627 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:49:35.628 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:49:35.629 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:49:35.629 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:49:35.629 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 2.836ms
2025-11-18 08:49:35.629 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:49:35.629 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 32.3295ms
2025-11-18 08:49:54.418 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 08:49:54.419 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:49:54.426 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 2.6326ms
2025-11-18 08:49:54.427 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 08:49:54.431 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:49:54.487 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:49:54.487 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 08:49:54.488 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 08:49:54.491 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 08:49:54.494 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:49:54.498 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 08:49:54.500 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:49:54.501 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:49:54.503 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:49:54.503 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:49:54.511 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:49:54.512 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 08:49:54.512 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 08:49:54.512 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 24.225ms
2025-11-18 08:49:54.512 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 08:49:54.513 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 84.921ms
2025-11-18 08:49:54.526 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:49:54.526 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:49:54.526 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 0.1449ms
2025-11-18 08:49:54.529 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:49:54.530 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:49:54.552 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:49:54.552 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:49:54.552 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:49:54.552 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:49:54.553 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:49:54.553 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:49:54.553 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 1.4384ms
2025-11-18 08:49:54.553 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:49:54.553 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 24.6222ms
2025-11-18 08:50:05.218 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 08:50:05.226 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:50:05.228 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 9.9342ms
2025-11-18 08:50:05.230 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 08:50:05.230 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:50:05.274 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:50:05.278 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 08:50:05.280 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 08:50:05.284 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 08:50:05.290 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:50:05.297 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 08:50:05.298 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:50:05.299 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:50:05.301 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:50:05.301 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:50:05.305 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:50:05.306 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 08:50:05.307 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 08:50:05.308 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 27.5018ms
2025-11-18 08:50:05.308 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 08:50:05.308 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 78.4978ms
2025-11-18 08:50:05.322 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:50:05.323 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:50:05.324 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 0.6397ms
2025-11-18 08:50:05.326 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:50:05.326 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:50:05.347 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:50:05.348 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:50:05.348 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:50:05.350 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:50:05.352 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:50:05.352 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:50:05.352 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 3.8216ms
2025-11-18 08:50:05.352 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:50:05.352 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 25.9837ms
2025-11-18 08:50:45.746 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 08:50:45.750 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:50:45.751 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 5.2115ms
2025-11-18 08:50:45.752 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 08:50:45.753 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:50:45.791 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:50:45.792 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 08:50:45.792 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 08:50:45.795 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 08:50:45.802 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:50:45.813 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 08:50:45.814 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:50:45.815 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:50:45.817 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:50:45.818 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:50:45.821 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:50:45.822 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 08:50:45.822 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 08:50:45.822 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 30.2198ms
2025-11-18 08:50:45.822 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 08:50:45.823 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 70.3789ms
2025-11-18 08:50:45.835 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:50:45.838 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:50:45.838 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 2.8245ms
2025-11-18 08:50:45.841 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:50:45.841 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:50:45.864 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:50:45.864 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:50:45.864 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:50:45.865 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:50:45.866 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:50:45.866 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:50:45.866 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 1.8498ms
2025-11-18 08:50:45.867 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:50:45.867 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 26.3869ms
2025-11-18 08:50:50.044 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 08:50:50.048 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:50:50.049 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 4.9901ms
2025-11-18 08:50:50.052 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/cities - application/json 193
2025-11-18 08:50:50.052 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:50:50.108 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:50:50.109 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication)'
2025-11-18 08:50:50.109 +03:00 [INF] Route matched with {action = "AddAsynch", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAsynch(MappyApplication.Data.Cities) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:50:50.117 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:50:50.121 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Double), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Cities` (`CityName`, `Country`, `Date`, `Emoji`, `Lat`, `Lng`, `Notes`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `Cities`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:50:50.122 +03:00 [INF] Added Cities MappyApplication.Data.Cities
2025-11-18 08:50:50.122 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 08:50:50.123 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication) in 13.7292ms
2025-11-18 08:50:50.123 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication)'
2025-11-18 08:50:50.123 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 71.0148ms
2025-11-18 08:50:50.126 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:50:50.126 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:50:50.142 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:50:50.142 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:50:50.142 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:50:50.143 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:50:50.144 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:50:50.144 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:50:50.144 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.0641ms
2025-11-18 08:50:50.144 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:50:50.145 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 18.2685ms
2025-11-18 08:50:50.305 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:50:50.305 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:50:50.332 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:50:50.332 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:50:50.332 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:50:50.333 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:50:50.335 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:50:50.335 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:50:50.335 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 3.4466ms
2025-11-18 08:50:50.335 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:50:50.336 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 31.0158ms
2025-11-18 08:50:51.966 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/65 - null null
2025-11-18 08:50:51.967 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:50:51.967 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/65 - 204 null null 0.3507ms
2025-11-18 08:50:51.968 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:8080/api/v1/cities/65 - null null
2025-11-18 08:50:51.968 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:50:51.985 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:50:51.986 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication)'
2025-11-18 08:50:51.986 +03:00 [INF] Route matched with {action = "DeleteById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:50:51.987 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:50:51.990 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
DELETE FROM `Cities`
WHERE `Id` = @p0;
SELECT ROW_COUNT();
2025-11-18 08:50:51.990 +03:00 [INF] Deleted Cities MappyApplication.Data.Cities
2025-11-18 08:50:51.990 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 08:50:51.990 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication) in 4.0432ms
2025-11-18 08:50:51.990 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication)'
2025-11-18 08:50:51.990 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:8080/api/v1/cities/65 - 200 null application/json; charset=utf-8 21.6441ms
2025-11-18 08:50:51.993 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:50:51.993 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:50:52.014 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:50:52.015 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:50:52.015 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:50:52.015 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:50:52.016 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:50:52.016 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:50:52.016 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.6573ms
2025-11-18 08:50:52.016 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:50:52.016 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 23.5717ms
2025-11-18 08:50:53.346 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/logout - null null
2025-11-18 08:50:53.346 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:50:53.347 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/logout - 204 null null 0.8697ms
2025-11-18 08:50:53.350 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/auth/logout - null null
2025-11-18 08:50:53.350 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:50:53.375 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:50:53.376 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.Logout (MappyApplication)'
2025-11-18 08:50:53.376 +03:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 08:50:53.379 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 08:50:53.384 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 08:50:53.386 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 08:50:53.386 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.Logout (MappyApplication) in 9.4775ms
2025-11-18 08:50:53.386 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.Logout (MappyApplication)'
2025-11-18 08:50:53.386 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/auth/logout - 200 null application/json; charset=utf-8 36.4307ms
2025-11-18 08:53:22.521 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/login - null null
2025-11-18 08:53:22.525 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:53:22.526 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/login - 204 null null 5.872ms
2025-11-18 08:53:22.528 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/login - application/json 51
2025-11-18 08:53:22.528 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:53:22.531 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.Login (MappyApplication)'
2025-11-18 08:53:22.532 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] Login(MappyApplication.Models.user.AuthLogin) on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 08:53:22.591 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`NormalizedEmail` = @__normalizedEmail_0
LIMIT 2
2025-11-18 08:53:22.646 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 08:53:22.647 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:53:22.647 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:53:22.648 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:53:22.649 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:53:22.653 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:53:22.655 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 08:53:22.655 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 08:53:22.655 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.Login (MappyApplication) in 122.1542ms
2025-11-18 08:53:22.655 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.Login (MappyApplication)'
2025-11-18 08:53:22.655 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/login - 200 null application/json; charset=utf-8 126.9948ms
2025-11-18 08:53:22.904 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 08:53:22.905 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:53:22.905 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.9835ms
2025-11-18 08:53:22.906 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:53:22.907 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:53:22.924 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:53:22.924 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:53:22.924 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:53:22.926 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:53:22.926 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:53:22.926 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:53:22.926 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.1167ms
2025-11-18 08:53:22.927 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:53:22.927 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 20.1339ms
2025-11-18 08:53:34.156 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 08:53:34.156 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:53:34.156 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.6112ms
2025-11-18 08:53:34.158 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/cities - application/json 199
2025-11-18 08:53:34.158 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:53:34.197 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:53:34.198 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication)'
2025-11-18 08:53:34.198 +03:00 [INF] Route matched with {action = "AddAsynch", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAsynch(MappyApplication.Data.Cities) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:53:34.200 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:53:34.203 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Double), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Cities` (`CityName`, `Country`, `Date`, `Emoji`, `Lat`, `Lng`, `Notes`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `Cities`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:53:34.204 +03:00 [INF] Added Cities MappyApplication.Data.Cities
2025-11-18 08:53:34.204 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 08:53:34.204 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication) in 6.4127ms
2025-11-18 08:53:34.204 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication)'
2025-11-18 08:53:34.205 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 46.4785ms
2025-11-18 08:53:34.208 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:53:34.208 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:53:34.228 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:53:34.228 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:53:34.228 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:53:34.229 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:53:34.230 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:53:34.230 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:53:34.230 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.1621ms
2025-11-18 08:53:34.230 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:53:34.230 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 21.6684ms
2025-11-18 08:53:34.280 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:53:34.282 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:53:34.301 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:53:34.301 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:53:34.301 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:53:34.302 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:53:34.303 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:53:34.303 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:53:34.304 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.406ms
2025-11-18 08:53:34.304 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:53:34.304 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 23.3337ms
2025-11-18 08:53:36.466 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/66 - null null
2025-11-18 08:53:36.467 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:53:36.467 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/66 - 204 null null 0.6793ms
2025-11-18 08:53:36.470 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:8080/api/v1/cities/66 - null null
2025-11-18 08:53:36.470 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:53:36.501 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:53:36.502 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication)'
2025-11-18 08:53:36.502 +03:00 [INF] Route matched with {action = "DeleteById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:53:36.503 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:53:36.506 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
DELETE FROM `Cities`
WHERE `Id` = @p0;
SELECT ROW_COUNT();
2025-11-18 08:53:36.507 +03:00 [INF] Deleted Cities MappyApplication.Data.Cities
2025-11-18 08:53:36.508 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 08:53:36.508 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication) in 5.8612ms
2025-11-18 08:53:36.508 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication)'
2025-11-18 08:53:36.508 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:8080/api/v1/cities/66 - 200 null application/json; charset=utf-8 38.0158ms
2025-11-18 08:53:36.513 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:53:36.513 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:53:36.532 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:53:36.532 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:53:36.532 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:53:36.533 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:53:36.534 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:53:36.534 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:53:36.535 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.9785ms
2025-11-18 08:53:36.535 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:53:36.535 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 22.5484ms
2025-11-18 08:53:37.436 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:53:37.436 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:53:37.436 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 0.2328ms
2025-11-18 08:53:37.438 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:53:37.438 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:53:37.453 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:53:37.453 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:53:37.453 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:53:37.454 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:53:37.455 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:53:37.455 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:53:37.455 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 1.2889ms
2025-11-18 08:53:37.455 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:53:37.455 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 17.2901ms
2025-11-18 08:53:43.938 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:53:43.939 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:53:43.939 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 0.4785ms
2025-11-18 08:53:43.940 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/workouts - application/json 204
2025-11-18 08:53:43.940 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:53:43.962 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:53:43.962 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.AddAsynch (MappyApplication)'
2025-11-18 08:53:43.962 +03:00 [INF] Route matched with {action = "AddAsynch", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAsynch(MappyApplication.Data.Workouts) on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:53:43.968 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:53:43.971 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Single), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (DbType = Single), @p5='?' (DbType = Single), @p6='?' (Size = 4000), @p7='?' (DbType = Single), @p8='?' (Size = 4000), @p9='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Workouts` (`Cadence`, `CityName`, `Coords`, `Date`, `Distance`, `Duration`, `Emoji`, `Pace`, `Type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT `Id`
FROM `Workouts`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:53:43.973 +03:00 [INF] Added Workouts MappyApplication.Data.Workouts
2025-11-18 08:53:43.973 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 08:53:43.973 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.AddAsynch (MappyApplication) in 10.6381ms
2025-11-18 08:53:43.973 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.AddAsynch (MappyApplication)'
2025-11-18 08:53:43.973 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 32.9787ms
2025-11-18 08:53:43.976 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:53:43.977 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:53:44.001 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:53:44.002 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:53:44.002 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:53:44.003 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:53:44.004 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:53:44.004 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:53:44.005 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 2.8507ms
2025-11-18 08:53:44.005 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:53:44.005 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 28.2264ms
2025-11-18 08:53:44.055 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:53:44.055 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:53:44.070 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:53:44.071 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:53:44.071 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:53:44.072 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:53:44.073 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:53:44.073 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:53:44.074 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 2.9364ms
2025-11-18 08:53:44.074 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:53:44.074 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 19.0849ms
2025-11-18 08:54:05.636 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:54:05.637 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:54:05.637 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 0.7263ms
2025-11-18 08:54:05.637 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/workouts - application/json 189
2025-11-18 08:54:05.638 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:54:05.658 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:54:05.658 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.AddAsynch (MappyApplication)'
2025-11-18 08:54:05.659 +03:00 [INF] Route matched with {action = "AddAsynch", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAsynch(MappyApplication.Data.Workouts) on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:54:05.662 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:54:05.664 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Single), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (DbType = Single), @p5='?' (DbType = Single), @p6='?' (Size = 4000), @p7='?' (DbType = Single), @p8='?' (Size = 4000), @p9='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Workouts` (`Cadence`, `CityName`, `Coords`, `Date`, `Distance`, `Duration`, `Emoji`, `Pace`, `Type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT `Id`
FROM `Workouts`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:54:05.666 +03:00 [INF] Added Workouts MappyApplication.Data.Workouts
2025-11-18 08:54:05.666 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 08:54:05.666 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.AddAsynch (MappyApplication) in 7.4379ms
2025-11-18 08:54:05.666 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.AddAsynch (MappyApplication)'
2025-11-18 08:54:05.666 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 28.7305ms
2025-11-18 08:54:05.668 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:54:05.668 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:54:05.689 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:54:05.689 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:54:05.689 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:54:05.690 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:54:05.690 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:54:05.691 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:54:05.691 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 1.7288ms
2025-11-18 08:54:05.691 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:54:05.691 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 23.0778ms
2025-11-18 08:54:05.729 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:54:05.729 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:54:05.749 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:54:05.749 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:54:05.750 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:54:05.751 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:54:05.753 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:54:05.753 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:54:05.754 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 4.1383ms
2025-11-18 08:54:05.754 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:54:05.754 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 25.1143ms
2025-11-18 08:54:10.967 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 08:54:10.967 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:54:10.967 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.183ms
2025-11-18 08:54:10.971 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:54:10.971 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:54:10.986 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:54:10.986 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:54:10.986 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:54:10.987 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:54:10.988 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:54:10.988 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:54:10.988 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.9302ms
2025-11-18 08:54:10.988 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:54:10.988 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 17.7103ms
2025-11-18 08:54:22.269 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 08:54:22.270 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:54:22.271 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 1.1374ms
2025-11-18 08:54:22.272 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/cities - application/json 144
2025-11-18 08:54:22.272 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:54:22.300 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:54:22.301 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication)'
2025-11-18 08:54:22.301 +03:00 [INF] Route matched with {action = "AddAsynch", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAsynch(MappyApplication.Data.Cities) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:54:22.305 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:54:22.308 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Double), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Cities` (`CityName`, `Country`, `Date`, `Emoji`, `Lat`, `Lng`, `Notes`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `Cities`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:54:22.309 +03:00 [INF] Added Cities MappyApplication.Data.Cities
2025-11-18 08:54:22.309 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 08:54:22.309 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication) in 8.4306ms
2025-11-18 08:54:22.310 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication)'
2025-11-18 08:54:22.310 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 37.332ms
2025-11-18 08:54:22.314 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:54:22.314 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:54:22.333 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:54:22.334 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:54:22.334 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:54:22.335 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:54:22.336 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:54:22.336 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:54:22.337 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.4533ms
2025-11-18 08:54:22.337 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:54:22.337 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 22.6835ms
2025-11-18 08:54:22.367 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:54:22.368 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:54:22.382 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:54:22.382 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:54:22.382 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:54:22.384 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:54:22.384 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:54:22.385 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:54:22.385 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.4211ms
2025-11-18 08:54:22.385 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:54:22.385 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 17.2512ms
2025-11-18 08:54:25.500 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:54:25.500 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:54:25.500 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 0.1978ms
2025-11-18 08:54:25.502 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:54:25.502 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:54:25.520 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:54:25.520 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:54:25.520 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:54:25.521 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:54:25.521 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:54:25.522 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:54:25.522 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 1.7645ms
2025-11-18 08:54:25.522 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:54:25.522 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 19.5913ms
2025-11-18 08:54:37.969 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:54:37.970 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:54:37.970 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 0.4842ms
2025-11-18 08:54:37.971 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/workouts - application/json 192
2025-11-18 08:54:37.971 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:54:37.994 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:54:37.995 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.AddAsynch (MappyApplication)'
2025-11-18 08:54:37.995 +03:00 [INF] Route matched with {action = "AddAsynch", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAsynch(MappyApplication.Data.Workouts) on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:54:38.000 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:54:38.003 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Single), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (DbType = Single), @p5='?' (DbType = Single), @p6='?' (Size = 4000), @p7='?' (DbType = Single), @p8='?' (Size = 4000), @p9='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Workouts` (`Cadence`, `CityName`, `Coords`, `Date`, `Distance`, `Duration`, `Emoji`, `Pace`, `Type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT `Id`
FROM `Workouts`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:54:38.004 +03:00 [INF] Added Workouts MappyApplication.Data.Workouts
2025-11-18 08:54:38.004 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 08:54:38.004 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.AddAsynch (MappyApplication) in 9.1394ms
2025-11-18 08:54:38.004 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.AddAsynch (MappyApplication)'
2025-11-18 08:54:38.004 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 33.3742ms
2025-11-18 08:54:38.008 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:54:38.008 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:54:38.029 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:54:38.030 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:54:38.030 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:54:38.030 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:54:38.031 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:54:38.032 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:54:38.032 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 2.0555ms
2025-11-18 08:54:38.032 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:54:38.032 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 23.9704ms
2025-11-18 08:54:38.073 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:54:38.073 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:54:38.095 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:54:38.096 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:54:38.096 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:54:38.097 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:54:38.097 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:54:38.098 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:54:38.098 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 2.2172ms
2025-11-18 08:54:38.098 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:54:38.098 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 25.5188ms
2025-11-18 08:54:49.091 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts/9383 - null null
2025-11-18 08:54:49.092 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:54:49.092 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts/9383 - 204 null null 1.0366ms
2025-11-18 08:54:49.094 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:8080/api/v1/workouts/9383 - null null
2025-11-18 08:54:49.094 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:54:49.117 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:54:49.117 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.DeleteById (MappyApplication)'
2025-11-18 08:54:49.117 +03:00 [INF] Route matched with {action = "DeleteById", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteById(Int32) on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:54:49.121 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:54:49.125 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
DELETE FROM `Workouts`
WHERE `Id` = @p0;
SELECT ROW_COUNT();
2025-11-18 08:54:49.125 +03:00 [INF] Deleted Workouts MappyApplication.Data.Workouts
2025-11-18 08:54:49.125 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 08:54:49.125 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.DeleteById (MappyApplication) in 7.7106ms
2025-11-18 08:54:49.125 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.DeleteById (MappyApplication)'
2025-11-18 08:54:49.125 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:8080/api/v1/workouts/9383 - 200 null application/json; charset=utf-8 31.109ms
2025-11-18 08:54:49.128 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:54:49.128 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:54:49.128 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 0.139ms
2025-11-18 08:54:49.129 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:54:49.129 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:54:49.143 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:54:49.143 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:54:49.143 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:54:49.144 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:54:49.145 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:54:49.145 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:54:49.145 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 1.5059ms
2025-11-18 08:54:49.145 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:54:49.145 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 16.1286ms
2025-11-18 08:54:49.936 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts/9384 - null null
2025-11-18 08:54:49.936 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:54:49.936 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts/9384 - 204 null null 0.1666ms
2025-11-18 08:54:49.940 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:8080/api/v1/workouts/9384 - null null
2025-11-18 08:54:49.940 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:54:49.955 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:54:49.956 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.DeleteById (MappyApplication)'
2025-11-18 08:54:49.956 +03:00 [INF] Route matched with {action = "DeleteById", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteById(Int32) on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:54:49.968 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:54:49.973 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
DELETE FROM `Workouts`
WHERE `Id` = @p0;
SELECT ROW_COUNT();
2025-11-18 08:54:49.974 +03:00 [INF] Deleted Workouts MappyApplication.Data.Workouts
2025-11-18 08:54:49.974 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 08:54:49.974 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.DeleteById (MappyApplication) in 18.0993ms
2025-11-18 08:54:49.974 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.DeleteById (MappyApplication)'
2025-11-18 08:54:49.974 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:8080/api/v1/workouts/9384 - 200 null application/json; charset=utf-8 34.007ms
2025-11-18 08:54:49.978 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:54:49.978 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:54:49.994 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:54:49.994 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:54:49.994 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:54:49.995 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:54:49.996 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:54:49.996 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:54:49.996 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 1.5035ms
2025-11-18 08:54:49.996 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:54:49.996 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 17.3032ms
2025-11-18 08:54:50.474 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts/9385 - null null
2025-11-18 08:54:50.475 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:54:50.477 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts/9385 - 204 null null 2.9765ms
2025-11-18 08:54:50.479 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:8080/api/v1/workouts/9385 - null null
2025-11-18 08:54:50.480 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:54:50.503 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:54:50.503 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.DeleteById (MappyApplication)'
2025-11-18 08:54:50.503 +03:00 [INF] Route matched with {action = "DeleteById", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteById(Int32) on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:54:50.528 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:54:50.532 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
DELETE FROM `Workouts`
WHERE `Id` = @p0;
SELECT ROW_COUNT();
2025-11-18 08:54:50.533 +03:00 [INF] Deleted Workouts MappyApplication.Data.Workouts
2025-11-18 08:54:50.533 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 08:54:50.533 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.DeleteById (MappyApplication) in 29.5152ms
2025-11-18 08:54:50.533 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.DeleteById (MappyApplication)'
2025-11-18 08:54:50.533 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:8080/api/v1/workouts/9385 - 200 null application/json; charset=utf-8 53.8056ms
2025-11-18 08:54:50.536 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:54:50.536 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:54:50.551 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:54:50.551 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:54:50.552 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:54:50.552 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:54:50.554 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:54:50.554 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:54:50.554 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 2.7476ms
2025-11-18 08:54:50.554 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:54:50.555 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 18.9178ms
2025-11-18 08:54:51.234 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 08:54:51.234 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:54:51.235 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.2873ms
2025-11-18 08:54:51.237 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:54:51.237 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:54:51.253 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:54:51.254 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:54:51.254 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:54:51.254 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:54:51.255 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:54:51.256 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:54:51.256 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.1055ms
2025-11-18 08:54:51.256 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:54:51.256 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 19.019ms
2025-11-18 08:54:51.816 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:54:51.816 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:54:51.832 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:54:51.833 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:54:51.833 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:54:51.834 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:54:51.835 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:54:51.835 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:54:51.835 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 2.324ms
2025-11-18 08:54:51.835 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:54:51.835 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 20.022ms
2025-11-18 08:54:56.975 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 08:54:56.976 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:54:56.976 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.8697ms
2025-11-18 08:54:56.978 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:54:56.978 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:54:56.995 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:54:56.996 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:54:56.996 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:54:56.996 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:54:56.997 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:54:56.997 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:54:56.997 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.5195ms
2025-11-18 08:54:56.997 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:54:56.997 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 19.0575ms
2025-11-18 08:54:58.632 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/67 - null null
2025-11-18 08:54:58.632 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:54:58.632 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/67 - 204 null null 0.6049ms
2025-11-18 08:54:58.636 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:8080/api/v1/cities/67 - null null
2025-11-18 08:54:58.636 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:54:58.664 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:54:58.664 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication)'
2025-11-18 08:54:58.664 +03:00 [INF] Route matched with {action = "DeleteById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:54:58.666 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:54:58.669 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
DELETE FROM `Cities`
WHERE `Id` = @p0;
SELECT ROW_COUNT();
2025-11-18 08:54:58.669 +03:00 [INF] Deleted Cities MappyApplication.Data.Cities
2025-11-18 08:54:58.669 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 08:54:58.669 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication) in 5.0821ms
2025-11-18 08:54:58.669 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.DeleteById (MappyApplication)'
2025-11-18 08:54:58.669 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:8080/api/v1/cities/67 - 200 null application/json; charset=utf-8 33.3956ms
2025-11-18 08:54:58.672 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:54:58.672 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:54:58.688 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:54:58.688 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:54:58.688 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:54:58.689 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:54:58.689 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:54:58.690 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:54:58.690 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.0628ms
2025-11-18 08:54:58.690 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:54:58.690 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 17.8163ms
2025-11-18 08:55:57.816 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 08:55:57.817 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:55:57.818 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 2.5327ms
2025-11-18 08:55:57.823 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 08:55:57.823 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:55:57.860 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:55:57.860 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 08:55:57.860 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 08:55:57.863 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 08:55:57.864 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:55:57.868 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 08:55:57.869 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:55:57.870 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:55:57.871 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:55:57.871 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:55:57.873 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:55:57.874 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 08:55:57.874 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 08:55:57.874 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 13.6512ms
2025-11-18 08:55:57.874 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 08:55:57.874 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 50.9097ms
2025-11-18 08:55:59.305 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 08:55:59.306 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:55:59.306 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.6906ms
2025-11-18 08:55:59.314 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:55:59.314 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:55:59.331 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:55:59.332 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:55:59.332 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:55:59.334 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:55:59.335 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:55:59.335 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:55:59.335 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 3.5208ms
2025-11-18 08:55:59.335 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:55:59.335 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 21.1792ms
2025-11-18 08:56:00.978 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/logout - null null
2025-11-18 08:56:00.978 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:56:00.979 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/logout - 204 null null 0.7962ms
2025-11-18 08:56:00.984 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/auth/logout - null null
2025-11-18 08:56:00.984 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:56:01.006 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:56:01.007 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.Logout (MappyApplication)'
2025-11-18 08:56:01.007 +03:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 08:56:01.011 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 08:56:01.014 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 08:56:01.015 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 08:56:01.015 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.Logout (MappyApplication) in 8.3078ms
2025-11-18 08:56:01.016 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.Logout (MappyApplication)'
2025-11-18 08:56:01.016 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/auth/logout - 200 null application/json; charset=utf-8 33.2196ms
2025-11-18 08:56:04.621 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/login - null null
2025-11-18 08:56:04.622 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:56:04.622 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/login - 204 null null 0.6193ms
2025-11-18 08:56:04.624 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/login - application/json 51
2025-11-18 08:56:04.624 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:56:04.625 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.Login (MappyApplication)'
2025-11-18 08:56:04.625 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] Login(MappyApplication.Models.user.AuthLogin) on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 08:56:04.652 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`NormalizedEmail` = @__normalizedEmail_0
LIMIT 2
2025-11-18 08:56:04.705 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 08:56:04.706 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:56:04.706 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:56:04.708 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:56:04.709 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:56:04.712 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:56:04.712 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 08:56:04.712 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 08:56:04.712 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.Login (MappyApplication) in 87.2086ms
2025-11-18 08:56:04.712 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.Login (MappyApplication)'
2025-11-18 08:56:04.712 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/login - 200 null application/json; charset=utf-8 88.4243ms
2025-11-18 08:56:04.752 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 08:56:04.753 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:56:04.754 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.8145ms
2025-11-18 08:56:04.754 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:56:04.755 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:56:04.769 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:56:04.770 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:56:04.770 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:56:04.772 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:56:04.773 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:56:04.773 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:56:04.773 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 3.223ms
2025-11-18 08:56:04.773 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:56:04.773 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 18.9001ms
2025-11-18 08:56:09.071 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 08:56:09.071 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:56:09.071 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.5276ms
2025-11-18 08:56:09.073 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/cities - application/json 207
2025-11-18 08:56:09.074 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:56:09.102 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:56:09.102 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication)'
2025-11-18 08:56:09.102 +03:00 [INF] Route matched with {action = "AddAsynch", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAsynch(MappyApplication.Data.Cities) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:56:09.106 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:56:09.110 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Double), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Cities` (`CityName`, `Country`, `Date`, `Emoji`, `Lat`, `Lng`, `Notes`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `Cities`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:56:09.111 +03:00 [INF] Added Cities MappyApplication.Data.Cities
2025-11-18 08:56:09.111 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 08:56:09.111 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication) in 8.3921ms
2025-11-18 08:56:09.111 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication)'
2025-11-18 08:56:09.111 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 37.3655ms
2025-11-18 08:56:09.115 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:56:09.115 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:56:09.135 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:56:09.135 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:56:09.135 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:56:09.136 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:56:09.137 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:56:09.138 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:56:09.138 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.6974ms
2025-11-18 08:56:09.138 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:56:09.138 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 23.0502ms
2025-11-18 08:56:09.177 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:56:09.178 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:56:09.196 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:56:09.196 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:56:09.196 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:56:09.197 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:56:09.198 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:56:09.198 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:56:09.198 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.8779ms
2025-11-18 08:56:09.198 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:56:09.198 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 21.2985ms
2025-11-18 08:56:10.509 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:56:10.509 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:56:10.509 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 0.3262ms
2025-11-18 08:56:10.512 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:56:10.512 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:56:10.531 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:56:10.532 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:56:10.532 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:56:10.533 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:56:10.534 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:56:10.534 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:56:10.534 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 2.4842ms
2025-11-18 08:56:10.534 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:56:10.534 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 22.5787ms
2025-11-18 08:56:11.258 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:56:11.259 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:56:11.279 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:56:11.280 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:56:11.280 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:56:11.281 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:56:11.282 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:56:11.282 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:56:11.282 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.1407ms
2025-11-18 08:56:11.282 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:56:11.282 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 24.2595ms
2025-11-18 08:56:11.957 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:56:11.957 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:56:11.976 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:56:11.976 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:56:11.976 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:56:11.978 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:56:11.979 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:56:11.979 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:56:11.979 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 2.7473ms
2025-11-18 08:56:11.980 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:56:11.980 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 23.0552ms
2025-11-18 08:56:20.505 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:56:20.505 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:56:20.505 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 0.4703ms
2025-11-18 08:56:20.507 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/workouts - application/json 191
2025-11-18 08:56:20.507 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:56:20.535 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:56:20.535 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.AddAsynch (MappyApplication)'
2025-11-18 08:56:20.535 +03:00 [INF] Route matched with {action = "AddAsynch", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAsynch(MappyApplication.Data.Workouts) on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:56:20.538 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:56:20.540 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Single), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (DbType = Single), @p5='?' (DbType = Single), @p6='?' (Size = 4000), @p7='?' (DbType = Single), @p8='?' (Size = 4000), @p9='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Workouts` (`Cadence`, `CityName`, `Coords`, `Date`, `Distance`, `Duration`, `Emoji`, `Pace`, `Type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT `Id`
FROM `Workouts`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:56:20.541 +03:00 [INF] Added Workouts MappyApplication.Data.Workouts
2025-11-18 08:56:20.542 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 08:56:20.542 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.AddAsynch (MappyApplication) in 6.2277ms
2025-11-18 08:56:20.542 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.AddAsynch (MappyApplication)'
2025-11-18 08:56:20.542 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 34.8542ms
2025-11-18 08:56:20.546 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:56:20.546 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:56:20.569 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:56:20.569 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:56:20.569 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:56:20.570 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:56:20.571 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:56:20.571 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:56:20.571 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 2.0056ms
2025-11-18 08:56:20.572 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:56:20.572 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 25.6313ms
2025-11-18 08:56:20.605 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:56:20.605 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:56:20.622 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:56:20.622 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:56:20.622 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:56:20.624 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:56:20.625 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:56:20.625 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:56:20.625 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 3.0933ms
2025-11-18 08:56:20.625 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:56:20.625 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 20.1495ms
2025-11-18 08:56:22.507 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 08:56:22.507 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:56:22.507 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.7359ms
2025-11-18 08:56:22.508 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:56:22.508 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:56:22.528 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:56:22.528 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:56:22.528 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:56:22.529 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:56:22.531 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:56:22.531 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:56:22.531 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.4465ms
2025-11-18 08:56:22.531 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:56:22.531 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 22.6618ms
2025-11-18 08:56:23.243 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:56:23.243 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:56:23.261 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:56:23.262 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:56:23.262 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:56:23.263 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:56:23.264 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:56:23.264 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:56:23.264 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 2.5532ms
2025-11-18 08:56:23.264 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:56:23.264 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 21.8325ms
2025-11-18 08:56:25.225 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/logout - null null
2025-11-18 08:56:25.226 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:56:25.226 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/logout - 204 null null 0.7369ms
2025-11-18 08:56:25.230 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/auth/logout - null null
2025-11-18 08:56:25.230 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:56:25.250 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:56:25.251 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.Logout (MappyApplication)'
2025-11-18 08:56:25.251 +03:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 08:56:25.253 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 08:56:25.257 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 08:56:25.257 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 08:56:25.257 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.Logout (MappyApplication) in 6.8014ms
2025-11-18 08:56:25.258 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.Logout (MappyApplication)'
2025-11-18 08:56:25.258 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/auth/logout - 200 null application/json; charset=utf-8 28.0129ms
2025-11-18 08:56:39.322 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/register - null null
2025-11-18 08:56:39.322 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:56:39.322 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/register - 204 null null 0.3677ms
2025-11-18 08:56:39.324 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/register - application/json 180
2025-11-18 08:56:39.324 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:56:39.324 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.Register (MappyApplication)'
2025-11-18 08:56:39.346 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] Register(MappyApplication.Models.user.AuthRegister) on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 08:56:39.388 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`NormalizedEmail` = @__normalizedEmail_0
LIMIT 2
2025-11-18 08:56:39.493 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1
2025-11-18 08:56:39.495 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`NormalizedEmail` = @__normalizedEmail_0
LIMIT 2
2025-11-18 08:56:39.514 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `AspNetUsers` (`Id`, `AccessFailedCount`, `ConcurrencyStamp`, `Email`, `EmailConfirmed`, `FirstName`, `LastName`, `LockoutEnabled`, `LockoutEnd`, `NormalizedEmail`, `NormalizedUserName`, `PasswordHash`, `PhoneNumber`, `PhoneNumberConfirmed`, `SecurityStamp`, `TwoFactorEnabled`, `UserName`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2025-11-18 08:56:39.527 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-11-18 08:56:39.538 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255), @__p_1='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`UserId`, `a`.`RoleId`
FROM `AspNetUserRoles` AS `a`
WHERE (`a`.`UserId` = @__p_0) AND (`a`.`RoleId` = @__p_1)
LIMIT 1
2025-11-18 08:56:39.540 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-11-18 08:56:39.544 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`NormalizedUserName` = @__normalizedUserName_0
LIMIT 1
2025-11-18 08:56:39.545 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`NormalizedEmail` = @__normalizedEmail_0
LIMIT 2
2025-11-18 08:56:39.562 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 255), @p18='?' (Size = 255), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p19='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `AspNetUserRoles` (`RoleId`, `UserId`)
VALUES (@p0, @p1);
UPDATE `AspNetUsers` SET `AccessFailedCount` = @p2, `ConcurrencyStamp` = @p3, `Email` = @p4, `EmailConfirmed` = @p5, `FirstName` = @p6, `LastName` = @p7, `LockoutEnabled` = @p8, `LockoutEnd` = @p9, `NormalizedEmail` = @p10, `NormalizedUserName` = @p11, `PasswordHash` = @p12, `PhoneNumber` = @p13, `PhoneNumberConfirmed` = @p14, `SecurityStamp` = @p15, `TwoFactorEnabled` = @p16, `UserName` = @p17
WHERE `Id` = @p18 AND `ConcurrencyStamp` = @p19;
SELECT ROW_COUNT();
2025-11-18 08:56:39.566 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 08:56:39.567 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:56:39.568 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:56:39.570 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:56:39.570 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:56:39.571 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:56:39.572 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 08:56:39.572 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 08:56:39.572 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.Register (MappyApplication) in 226.7887ms
2025-11-18 08:56:39.572 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.Register (MappyApplication)'
2025-11-18 08:56:39.572 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/register - 200 null application/json; charset=utf-8 248.8535ms
2025-11-18 08:56:43.452 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/login - null null
2025-11-18 08:56:43.452 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:56:43.452 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/login - 204 null null 0.1325ms
2025-11-18 08:56:43.453 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/login - application/json 63
2025-11-18 08:56:43.453 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:56:43.453 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.Login (MappyApplication)'
2025-11-18 08:56:43.453 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] Login(MappyApplication.Models.user.AuthLogin) on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 08:56:43.470 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`NormalizedEmail` = @__normalizedEmail_0
LIMIT 2
2025-11-18 08:56:43.511 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 08:56:43.514 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:56:43.514 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:56:43.515 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:56:43.515 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:56:43.519 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:56:43.520 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 08:56:43.520 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 08:56:43.520 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.Login (MappyApplication) in 66.9688ms
2025-11-18 08:56:43.520 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.Login (MappyApplication)'
2025-11-18 08:56:43.520 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/login - 200 null application/json; charset=utf-8 67.387ms
2025-11-18 08:56:43.555 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 08:56:43.556 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:56:43.556 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.4413ms
2025-11-18 08:56:43.559 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:56:43.559 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:56:43.576 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:56:43.577 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:56:43.577 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:56:43.579 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:56:43.581 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:56:43.583 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:56:43.583 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 6.0157ms
2025-11-18 08:56:43.583 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:56:43.583 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 24.3044ms
2025-11-18 08:56:45.639 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:56:45.640 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:56:45.640 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 0.8647ms
2025-11-18 08:56:45.642 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:56:45.642 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:56:45.661 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:56:45.661 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:56:45.661 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:56:45.663 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:56:45.664 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:56:45.664 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:56:45.664 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 2.3564ms
2025-11-18 08:56:45.664 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:56:45.664 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 21.8829ms
2025-11-18 08:56:46.258 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:56:46.258 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:56:46.283 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:56:46.283 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:56:46.283 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:56:46.285 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:56:46.286 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:56:46.286 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:56:46.286 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.8327ms
2025-11-18 08:56:46.286 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:56:46.286 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 27.825ms
2025-11-18 08:56:49.286 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 08:56:49.287 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:56:49.287 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.5104ms
2025-11-18 08:56:49.288 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/cities - application/json 192
2025-11-18 08:56:49.289 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:56:49.319 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:56:49.319 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication)'
2025-11-18 08:56:49.319 +03:00 [INF] Route matched with {action = "AddAsynch", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAsynch(MappyApplication.Data.Cities) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:56:49.322 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:56:49.325 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Double), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Cities` (`CityName`, `Country`, `Date`, `Emoji`, `Lat`, `Lng`, `Notes`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `Cities`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:56:49.326 +03:00 [INF] Added Cities MappyApplication.Data.Cities
2025-11-18 08:56:49.326 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 08:56:49.326 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication) in 6.3988ms
2025-11-18 08:56:49.326 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication)'
2025-11-18 08:56:49.326 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 37.6227ms
2025-11-18 08:56:49.331 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:56:49.331 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:56:49.352 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:56:49.353 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:56:49.353 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:56:49.354 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:56:49.355 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:56:49.355 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:56:49.355 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.1916ms
2025-11-18 08:56:49.355 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:56:49.355 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 24.0676ms
2025-11-18 08:56:49.378 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:56:49.378 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:56:49.396 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:56:49.396 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:56:49.396 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:56:49.397 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:56:49.398 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:56:49.398 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:56:49.398 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.519ms
2025-11-18 08:56:49.398 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:56:49.398 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 19.6497ms
2025-11-18 08:57:03.088 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 08:57:03.089 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:57:03.090 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.8725ms
2025-11-18 08:57:03.092 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/cities - application/json 149
2025-11-18 08:57:03.092 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:57:03.120 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:57:03.120 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication)'
2025-11-18 08:57:03.121 +03:00 [INF] Route matched with {action = "AddAsynch", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAsynch(MappyApplication.Data.Cities) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:57:03.124 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:57:03.126 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (DbType = Double), @p5='?' (DbType = Double), @p6='?' (Size = 4000), @p7='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Cities` (`CityName`, `Country`, `Date`, `Emoji`, `Lat`, `Lng`, `Notes`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `Cities`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:57:03.127 +03:00 [INF] Added Cities MappyApplication.Data.Cities
2025-11-18 08:57:03.127 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 08:57:03.128 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication) in 6.2259ms
2025-11-18 08:57:03.128 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.AddAsynch (MappyApplication)'
2025-11-18 08:57:03.128 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 36.7157ms
2025-11-18 08:57:03.132 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:57:03.132 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:57:03.153 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:57:03.153 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:57:03.153 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:57:03.154 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:57:03.155 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:57:03.155 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:57:03.155 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.7031ms
2025-11-18 08:57:03.155 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:57:03.155 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 23.4184ms
2025-11-18 08:57:03.178 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:57:03.178 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:57:03.198 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:57:03.198 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:57:03.198 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:57:03.199 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:57:03.200 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:57:03.200 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:57:03.200 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 1.6504ms
2025-11-18 08:57:03.200 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:57:03.200 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 21.7313ms
2025-11-18 08:57:05.080 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/70 - null null
2025-11-18 08:57:05.080 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:57:05.080 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities/70 - 204 null null 0.531ms
2025-11-18 08:57:05.083 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities/70 - null null
2025-11-18 08:57:05.083 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:57:05.113 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:57:05.114 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 08:57:05.114 +03:00 [INF] Route matched with {action = "GetById", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.cities.CitiesDto] GetById(Int32) on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:57:05.117 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:57:05.117 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.cities.CitiesDto'.
2025-11-18 08:57:05.118 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetById (MappyApplication) in 3.2114ms
2025-11-18 08:57:05.118 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetById (MappyApplication)'
2025-11-18 08:57:05.118 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities/70 - 200 null application/json; charset=utf-8 34.5856ms
2025-11-18 08:57:06.255 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:57:06.255 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:57:06.272 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:57:06.273 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:57:06.273 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:57:06.274 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:57:06.276 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:57:06.276 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:57:06.276 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 3.7767ms
2025-11-18 08:57:06.276 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:57:06.276 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 21.3279ms
2025-11-18 08:57:07.706 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:57:07.706 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:57:07.706 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 0.2747ms
2025-11-18 08:57:07.709 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:57:07.709 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:57:07.727 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:57:07.727 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:57:07.727 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:57:07.729 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:57:07.729 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:57:07.730 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:57:07.730 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 1.8656ms
2025-11-18 08:57:07.730 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:57:07.730 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 20.7442ms
2025-11-18 08:57:23.470 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:57:23.470 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:57:23.470 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 0.5748ms
2025-11-18 08:57:23.472 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/workouts - application/json 214
2025-11-18 08:57:23.472 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:57:23.496 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:57:23.496 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.AddAsynch (MappyApplication)'
2025-11-18 08:57:23.496 +03:00 [INF] Route matched with {action = "AddAsynch", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAsynch(MappyApplication.Data.Workouts) on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:57:23.499 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:57:23.501 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Single), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (DbType = Single), @p5='?' (DbType = Single), @p6='?' (Size = 4000), @p7='?' (DbType = Single), @p8='?' (Size = 4000), @p9='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Workouts` (`Cadence`, `CityName`, `Coords`, `Date`, `Distance`, `Duration`, `Emoji`, `Pace`, `Type`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT `Id`
FROM `Workouts`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:57:23.503 +03:00 [INF] Added Workouts MappyApplication.Data.Workouts
2025-11-18 08:57:23.503 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 08:57:23.503 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.AddAsynch (MappyApplication) in 6.6219ms
2025-11-18 08:57:23.503 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.AddAsynch (MappyApplication)'
2025-11-18 08:57:23.503 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 31.5142ms
2025-11-18 08:57:23.507 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:57:23.508 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:57:23.531 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:57:23.532 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:57:23.532 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:57:23.533 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:57:23.533 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:57:23.533 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:57:23.534 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 1.8177ms
2025-11-18 08:57:23.534 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:57:23.534 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 26.2608ms
2025-11-18 08:57:23.556 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:57:23.557 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:57:23.571 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:57:23.571 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:57:23.571 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:57:23.573 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:57:23.574 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:57:23.574 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:57:23.574 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 3.5691ms
2025-11-18 08:57:23.574 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:57:23.574 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 18.2964ms
2025-11-18 08:57:25.523 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 08:57:25.523 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:57:25.523 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.2855ms
2025-11-18 08:57:25.525 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:57:25.525 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:57:25.543 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:57:25.544 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:57:25.544 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:57:25.545 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:57:25.546 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:57:25.546 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:57:25.546 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.3067ms
2025-11-18 08:57:25.546 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:57:25.547 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 21.2536ms
2025-11-18 08:57:26.308 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:57:26.308 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:57:26.325 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:57:26.326 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:57:26.326 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:57:26.327 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:57:26.327 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:57:26.328 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:57:26.328 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 1.9249ms
2025-11-18 08:57:26.328 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:57:26.328 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 19.7591ms
2025-11-18 08:57:28.957 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/logout - null null
2025-11-18 08:57:28.957 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:57:28.958 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/logout - 204 null null 0.6108ms
2025-11-18 08:57:28.962 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/auth/logout - null null
2025-11-18 08:57:28.962 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:57:28.982 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:57:28.982 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.Logout (MappyApplication)'
2025-11-18 08:57:28.982 +03:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 08:57:28.984 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 08:57:28.987 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 08:57:28.987 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 08:57:28.987 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.Logout (MappyApplication) in 4.4835ms
2025-11-18 08:57:28.987 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.Logout (MappyApplication)'
2025-11-18 08:57:28.987 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/auth/logout - 200 null application/json; charset=utf-8 24.8935ms
2025-11-18 08:57:33.746 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/login - null null
2025-11-18 08:57:33.747 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:57:33.747 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/login - 204 null null 0.8538ms
2025-11-18 08:57:33.749 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/login - application/json 51
2025-11-18 08:57:33.749 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:57:33.750 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.Login (MappyApplication)'
2025-11-18 08:57:33.750 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] Login(MappyApplication.Models.user.AuthLogin) on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 08:57:33.779 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`NormalizedEmail` = @__normalizedEmail_0
LIMIT 2
2025-11-18 08:57:33.836 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 08:57:33.837 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:57:33.838 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:57:33.839 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 08:57:33.840 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 08:57:33.841 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 08:57:33.841 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 08:57:33.841 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 08:57:33.841 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.Login (MappyApplication) in 90.994ms
2025-11-18 08:57:33.841 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.Login (MappyApplication)'
2025-11-18 08:57:33.841 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/login - 200 null application/json; charset=utf-8 92.0911ms
2025-11-18 08:57:33.870 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 08:57:33.870 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:57:33.870 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 0.1884ms
2025-11-18 08:57:33.879 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:57:33.880 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:57:33.895 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:57:33.896 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:57:33.896 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:57:33.897 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:57:33.898 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:57:33.898 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:57:33.898 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.4927ms
2025-11-18 08:57:33.898 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:57:33.898 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 18.9288ms
2025-11-18 08:57:36.628 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:57:36.629 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:57:36.629 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/workouts - 204 null null 1.1498ms
2025-11-18 08:57:36.630 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/workouts - null null
2025-11-18 08:57:36.630 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:57:36.652 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:57:36.653 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:57:36.653 +03:00 [INF] Route matched with {action = "GetAll", controller = "Workouts"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.workouts.WorkoutsDto]] GetAll() on controller MappyApplication.Controllers.WorkoutsController (MappyApplication).
2025-11-18 08:57:36.655 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:57:36.656 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`Id`, `w`.`Cadence`, `w`.`CityName`, `w`.`Coords`, `w`.`Date`, `w`.`Distance`, `w`.`Duration`, `w`.`Emoji`, `w`.`Pace`, `w`.`Type`, `w`.`UserId`
FROM `Workouts` AS `w`
WHERE `w`.`UserId` = @__userId_0
2025-11-18 08:57:36.656 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.workouts.WorkoutsDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:57:36.656 +03:00 [INF] Executed action MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication) in 2.9743ms
2025-11-18 08:57:36.656 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.WorkoutsController.GetAll (MappyApplication)'
2025-11-18 08:57:36.656 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/workouts - 200 null application/json; charset=utf-8 26.4531ms
2025-11-18 08:57:37.405 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 08:57:37.405 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:57:37.422 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:57:37.422 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:57:37.423 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 08:57:37.424 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 08:57:37.425 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 08:57:37.425 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 08:57:37.425 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 2.6587ms
2025-11-18 08:57:37.426 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 08:57:37.426 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 21.0679ms
2025-11-18 08:57:39.619 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/logout - null null
2025-11-18 08:57:39.620 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:57:39.620 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/logout - 204 null null 0.3788ms
2025-11-18 08:57:39.623 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/auth/logout - null null
2025-11-18 08:57:39.623 +03:00 [INF] CORS policy execution successful.
2025-11-18 08:57:39.643 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 08:57:39.644 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.Logout (MappyApplication)'
2025-11-18 08:57:39.644 +03:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 08:57:39.646 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 08:57:39.648 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE TOKENS
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 08:57:39.648 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-18 08:57:39.648 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.Logout (MappyApplication) in 4.8637ms
2025-11-18 08:57:39.649 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.Logout (MappyApplication)'
2025-11-18 08:57:39.649 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/auth/logout - 200 null application/json; charset=utf-8 26.8023ms
2025-11-18 10:50:24.884 +03:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'mappy_db'
2025-11-18 10:50:24.929 +03:00 [INF] User profile is available. Using '/Users/salah/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-11-18 10:50:24.949 +03:00 [INF] Now listening on: http://localhost:8080
2025-11-18 10:50:24.950 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-18 10:50:24.950 +03:00 [INF] Hosting environment: Development
2025-11-18 10:50:24.950 +03:00 [INF] Content root path: /Users/salah/Desktop/mappy/server/MappyApplication
2025-11-18 10:50:25.657 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/index.html - null null
2025-11-18 10:50:25.723 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/index.html - 200 null text/html;charset=utf-8 66.713ms
2025-11-18 10:50:26.395 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/_framework/aspnetcore-browser-refresh.js - null null
2025-11-18 10:50:26.397 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 2.4082ms
2025-11-18 10:50:26.548 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - null null
2025-11-18 10:50:26.608 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 60.1403ms
2025-11-18 10:50:28.545 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/login - null null
2025-11-18 10:50:28.556 +03:00 [WRN] Failed to determine the https port for redirect.
2025-11-18 10:50:28.558 +03:00 [INF] CORS policy execution successful.
2025-11-18 10:50:28.561 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/login - 204 null null 15.942ms
2025-11-18 10:50:28.566 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/login - application/json 63
2025-11-18 10:50:28.569 +03:00 [INF] CORS policy execution successful.
2025-11-18 10:50:28.628 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.Login (MappyApplication)'
2025-11-18 10:50:28.640 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] Login(MappyApplication.Models.user.AuthLogin) on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 10:50:29.090 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`NormalizedEmail` = @__normalizedEmail_0
LIMIT 2
2025-11-18 10:50:29.179 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE Tokens
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 10:50:29.208 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 10:50:29.213 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 10:50:29.224 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 10:50:29.225 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 10:50:29.299 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 10:50:29.311 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 10:50:29.316 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 10:50:29.320 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.Login (MappyApplication) in 679.3595ms
2025-11-18 10:50:29.321 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.Login (MappyApplication)'
2025-11-18 10:50:29.323 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/login - 200 null application/json; charset=utf-8 757.2862ms
2025-11-18 10:50:31.209 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - null null
2025-11-18 10:50:31.224 +03:00 [INF] CORS policy execution successful.
2025-11-18 10:50:31.236 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/cities - 204 null null 28.9964ms
2025-11-18 10:50:31.244 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/v1/cities - null null
2025-11-18 10:50:31.274 +03:00 [INF] CORS policy execution successful.
2025-11-18 10:50:31.443 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 10:50:31.449 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 10:50:31.454 +03:00 [INF] Route matched with {action = "GetAll", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[MappyApplication.Models.cities.CitiesDto]] GetAll() on controller MappyApplication.Controllers.CitiesController (MappyApplication).
2025-11-18 10:50:31.473 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 10:50:31.486 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CityName`, `c`.`Country`, `c`.`Date`, `c`.`Emoji`, `c`.`Lat`, `c`.`Lng`, `c`.`Notes`, `c`.`UserId`
FROM `Cities` AS `c`
WHERE `c`.`UserId` = @__userId_0
2025-11-18 10:50:31.506 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[MappyApplication.Models.cities.CitiesDto, MappyApplication, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-18 10:50:31.518 +03:00 [INF] Executed action MappyApplication.Controllers.CitiesController.GetAll (MappyApplication) in 63.6657ms
2025-11-18 10:50:31.518 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.CitiesController.GetAll (MappyApplication)'
2025-11-18 10:50:31.519 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/v1/cities - 200 null application/json; charset=utf-8 274.8343ms
2025-11-18 10:55:35.596 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 10:55:35.627 +03:00 [INF] CORS policy execution successful.
2025-11-18 10:55:35.632 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 40.1756ms
2025-11-18 10:55:35.649 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 10:55:35.669 +03:00 [INF] CORS policy execution successful.
2025-11-18 10:55:36.063 +03:00 [INF] Executed DbCommand (65ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 10:55:36.080 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 10:55:36.098 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 10:55:36.124 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 10:55:36.133 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 10:55:36.201 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE Tokens
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 10:55:36.212 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 10:55:36.213 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 10:55:36.215 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 10:55:36.216 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 10:55:36.229 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 10:55:36.231 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 10:55:36.231 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 10:55:36.233 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 135.1382ms
2025-11-18 10:55:36.233 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 10:55:36.233 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 591.9924ms
2025-11-18 10:56:09.157 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 10:56:09.162 +03:00 [INF] CORS policy execution successful.
2025-11-18 10:56:09.163 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 5.7152ms
2025-11-18 10:56:09.170 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 10:56:09.185 +03:00 [INF] CORS policy execution successful.
2025-11-18 10:56:09.458 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 10:56:09.464 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 10:56:09.471 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 10:56:09.475 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 10:56:09.493 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 10:56:09.508 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE Tokens
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 10:56:09.513 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 10:56:09.515 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 10:56:09.519 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 10:56:09.519 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 10:56:09.561 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 10:56:09.565 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 10:56:09.565 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 10:56:09.566 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 95.1606ms
2025-11-18 10:56:09.566 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 10:56:09.566 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 396.6727ms
2025-11-18 10:58:36.315 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 10:58:36.334 +03:00 [INF] CORS policy execution successful.
2025-11-18 10:58:36.336 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 21.133ms
2025-11-18 10:58:36.343 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 10:58:36.343 +03:00 [INF] CORS policy execution successful.
2025-11-18 10:58:36.610 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 10:58:36.612 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 10:58:36.613 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 10:58:36.615 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 10:58:36.621 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 10:58:36.637 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE Tokens
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 10:58:36.641 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 10:58:36.642 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 10:58:36.645 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 10:58:36.646 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 10:58:36.652 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 10:58:36.653 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 10:58:36.653 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 10:58:36.653 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 40.525ms
2025-11-18 10:58:36.653 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 10:58:36.653 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 310.8956ms
2025-11-18 10:59:20.199 +03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - null null
2025-11-18 10:59:20.201 +03:00 [INF] CORS policy execution successful.
2025-11-18 10:59:20.203 +03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:8080/api/v1/auth/refresh-token - 204 null null 4.9138ms
2025-11-18 10:59:20.205 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - null 0
2025-11-18 10:59:20.206 +03:00 [INF] CORS policy execution successful.
2025-11-18 10:59:20.430 +03:00 [INF] Executed DbCommand (47ms) [Parameters=[@__accessToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`AccessToken` = @__accessToken_0
LIMIT 2
2025-11-18 10:59:20.432 +03:00 [INF] Executing endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 10:59:20.435 +03:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[MappyApplication.Models.user.AuthResponse] RefreshToken() on controller MappyApplication.Controllers.AuthController (MappyApplication).
2025-11-18 10:59:20.437 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`AccessToken`, `t`.`CreatedAt`, `t`.`DeviceId`, `t`.`Expired`, `t`.`RefreshToken`, `t`.`Revoked`, `t`.`UserId`
FROM `Tokens` AS `t`
WHERE `t`.`RefreshToken` = @__refreshToken_0
LIMIT 2
2025-11-18 10:59:20.449 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`FirstName`, `a`.`LastName`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`
FROM `AspNetUsers` AS `a`
WHERE `a`.`Id` = @__p_0
LIMIT 1
2025-11-18 10:59:20.482 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']

        UPDATE Tokens
        SET Revoked = true, Expired = true
        WHERE UserId = @p0
          AND DeviceId = @p1
          AND Revoked = false
          AND Expired = false
2025-11-18 10:59:20.488 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 10:59:20.490 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 10:59:20.492 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-11-18 10:59:20.493 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__user_Id_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ClaimType`, `a`.`ClaimValue`, `a`.`UserId`
FROM `AspNetUserClaims` AS `a`
WHERE `a`.`UserId` = @__user_Id_0
2025-11-18 10:59:20.502 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Tokens` (`AccessToken`, `CreatedAt`, `DeviceId`, `Expired`, `RefreshToken`, `Revoked`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Tokens`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-11-18 10:59:20.504 +03:00 [INF] Added Token MappyApplication.Data.Token
2025-11-18 10:59:20.504 +03:00 [INF] Executing ObjectResult, writing value of type 'MappyApplication.Models.user.AuthResponse'.
2025-11-18 10:59:20.505 +03:00 [INF] Executed action MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication) in 69.7932ms
2025-11-18 10:59:20.505 +03:00 [INF] Executed endpoint 'MappyApplication.Controllers.AuthController.RefreshToken (MappyApplication)'
2025-11-18 10:59:20.506 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/v1/auth/refresh-token - 200 null application/json; charset=utf-8 300.5825ms
2025-11-18 11:10:21.000 +03:00 [INF] Application is shutting down...
